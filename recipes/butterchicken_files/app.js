!function(){function e(t,n,o){function i(r,s){if(!n[r]){if(!t[r]){var l="function"==typeof require&&require;if(!s&&l)return l(r,!0);if(a)return a(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){return i(t[r][1][e]||e)},u,u.exports,e,t,n,o)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<o.length;r++)i(o[r]);return i}return e}()({1:[function(e,t,n){t.exports={homepage:{path:"/",tokens:[["text","/"]],defaults:{_controller:"AppBundle\\Controller\\HomeController::indexAction",reverse_proxy_cache:"600"}},generate_backlinks:{path:"/backlinks/generate",tokens:[["text","/backlinks/generate"]],defaults:{_controller:"News\\Bundle\\BacklinkingBundle\\Controller\\BacklinksController::getBacklinksAction",reverse_proxy_cache:"600"}},recipes:{path:"/recipes/{slug}/{id}",tokens:[["variable","/","([a-zA-Z0-9]{8})|([0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12})","id"],["variable","/","[a-zA-Z0-9-]+","slug"],["text","/recipes"]],defaults:{_controller:"AppBundle\\Controller\\RecipesController::viewAction",reverse_proxy_cache:"600"}},update_numeric_data:{path:"/update-numeric/{entityType}/{id}",tokens:[["variable","/","([a-zA-Z0-9]{8})|([0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12})","id"],["variable","/","recipe","entityType"],["text","/update-numeric"]],defaults:{_controller:"AppBundle\\Controller\\NumericDataUpdateController::updateNumericDataAction"}},update_rating:{path:"/update-rating/{type}/{id}",tokens:[["variable","/","([a-zA-Z0-9]{8})|([0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12})","id"],["variable","/","recipe","type"],["text","/update-rating"]],defaults:{_controller:"AppBundle\\Controller\\RatingsController::updateAction"}},update_comment_count:{path:"/update-comment-count/{type}/{id}",tokens:[["variable","/","([a-zA-Z0-9]{8})|([0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12})","id"],["variable","/","article","type"],["text","/update-comment-count"]],defaults:{_controller:"AppBundle\\Controller\\CommentsController::updateCommentAction"}},articles:{path:"/articles/{slug}/{id}",tokens:[["variable","/","([a-zA-Z0-9]{8})|([0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12})","id"],["variable","/","[a-zA-Z0-9-]+","slug"],["text","/articles"]],defaults:{_controller:"AppBundle\\Controller\\ArticlesController::viewAction",reverse_proxy_cache:"600"}},food_news:{path:"/food-news/{slug}/{id}",tokens:[["variable","/","([a-zA-Z0-9]{8})|([0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12})","id"],["variable","/","[a-zA-Z0-9-]+","slug"],["text","/food-news"]],defaults:{_controller:"AppBundle\\Controller\\ArticlesController::viewAction",reverse_proxy_cache:"600",category:"/taste/display/food-news"}},filter_dinner_ideas_blocks:{path:"/dinner/dinnerideas/filter/{collectionId}",tokens:[["variable","/","[^/]++","collectionId"],["text","/dinner/dinnerideas/filter"]],defaults:{_controller:"AppBundle\\Controller\\DinnerController::loadDinnerIdeasData",reverse_proxy_cache:"600"}},dinner_search_ingredients:{path:"/dinner/search-ingredients",tokens:[["text","/dinner/search-ingredients"]],defaults:{_controller:"AppBundle\\Controller\\DinnerController::searchIngredients",reverse_proxy_cache:"3600"}},dinner_search_count:{path:"/dinner/search-count",tokens:[["text","/dinner/search-count"]],defaults:{_controller:"AppBundle\\Controller\\DinnerController::searchCount",reverse_proxy_cache:"1800"}},dinner_search:{path:"/dinner/search",tokens:[["text","/dinner/search"]],defaults:{_controller:"AppBundle\\Controller\\DinnerController::dinnerSearch",reverse_proxy_cache:"600"}},search:{path:"/search-recipes/",tokens:[["text","/search-recipes/"]],defaults:{_controller:"AppBundle\\Controller\\SearchController::indexAction",reverse_proxy_cache:"600",cache_redirects:!1}},search_similar:{path:"/search/similar/{contentType}/{id}",tokens:[["variable","/","([a-zA-Z0-9]{8})|([0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12})","id"],["variable","/","recipes","contentType"],["text","/search/similar"]],defaults:{_controller:"AppBundle\\Controller\\SearchController::similarAction",reverse_proxy_cache:"1800",browser_cache:"600"}},search_terms:{path:"/search/terms",tokens:[["text","/search/terms"]],defaults:{_controller:"AppBundle\\Controller\\SearchController::termsAction",reverse_proxy_cache:"1800",browser_cache:"600"}},recipe_collections_list:{path:"/recipes/collections",tokens:[["text","/recipes/collections"]],defaults:{_controller:"AppBundle\\Controller\\ContentListsController::viewAction",contentType:"recipes/collections",reverse_proxy_cache:"600"}},content_lists:{path:"/{contentType}",tokens:[["variable","/","articles|galleries|recipes/collections|menus|food-news","contentType"]],defaults:{_controller:"AppBundle\\Controller\\ContentListsController::viewAction",reverse_proxy_cache:"600"}},members:{path:"/members",tokens:[["text","/members"]],defaults:{_controller:"AppBundle\\Controller\\MembersController::indexAction"}},cookbooks:{path:"/non-members/cookbooks",tokens:[["text","/non-members/cookbooks"]],defaults:{_controller:"AppBundle\\Controller\\NonMembersController::viewNonMemberCookbooksAction"}},members_cookbooks:{path:"/members/cookbooks",tokens:[["text","/members/cookbooks"]],defaults:{_controller:"AppBundle\\Controller\\MembersController::viewCookbooksAction"}},members_cookbooks_search:{path:"/members/cookbooks/search",tokens:[["text","/members/cookbooks/search"]],defaults:{_controller:"AppBundle\\Controller\\MembersController::searchCookbooksAction"}},members_single_cookbook:{path:"/members/cookbooks/{slug}",tokens:[["variable","/","[^/]++","slug"],["text","/members/cookbooks"]],defaults:{_controller:"AppBundle\\Controller\\MembersController::viewCookbookAction"}},shopping_list:{path:"/shopping-list",tokens:[["text","/shopping-list"]],defaults:{_controller:"AppBundle\\Controller\\ShoppingListController::indexAction"}},members_shopping_lists:{path:"/members/shopping-list",tokens:[["text","/members/shopping-list"]],defaults:{_controller:"AppBundle\\Controller\\MembersController::viewShoppingListAction"}},send_email:{path:"/email/{emailTemplate}",tokens:[["variable","/","[^/]++","emailTemplate"],["text","/email"]],defaults:{_controller:"AppBundle\\Controller\\EmailController::sendEmailAction"}},email_shopping_lists:{path:"/email-shopping-list",tokens:[["text","/email-shopping-list"]],defaults:{_controller:"AppBundle\\Controller\\ShoppingListController::emailShoppingListAction"}},members_email_shopping_lists:{path:"/members/email-shopping-list",tokens:[["text","/members/email-shopping-list"]],defaults:{_controller:"AppBundle\\Controller\\MembersController::emailShoppingListAction"}},members_email_cookbook_recipes:{path:"/members/email-cookbook-recipes/{slug}",tokens:[["variable","/","[^/]++","slug"],["text","/members/email-cookbook-recipes"]],defaults:{_controller:"AppBundle\\Controller\\MembersController::emailCookbookRecipesAction"}},members_sampling:{path:"/members/sampling",tokens:[["text","/members/sampling"]],defaults:{_controller:"AppBundle\\Controller\\MembersController::viewSamplingAction"}},members_menu_plans:{path:"/members/menu-plans",tokens:[["text","/members/menu-plans"]],defaults:{_controller:"AppBundle\\Controller\\MembersController::viewMenuPlansAction"}},members_single_menu_plan:{path:"/members/menu-plans/{id}",tokens:[["variable","/","[^/]++","id"],["text","/members/menu-plans"]],defaults:{_controller:"AppBundle\\Controller\\MembersController::viewMenuPlanAction"}},members_get_all_cookbooks:{path:"/members/cookbooks-list",tokens:[["text","/members/cookbooks-list"]],defaults:{_controller:"AppBundle\\Controller\\CookbooksController::viewAllAction"}},members_search_all_cookbooks:{path:"/members/cookbooks-list/search",tokens:[["text","/members/cookbooks-list/search"]],defaults:{_controller:"AppBundle\\Controller\\CookbooksController::searchAllAction"}},members_get_cookbook_items:{path:"/members/cookbook-items/{slug}",tokens:[["variable","/","[a-zA-Z0-9-]+","slug"],["text","/members/cookbook-items"]],defaults:{_controller:"AppBundle\\Controller\\CookbooksController::viewItemsAction"}},members_get_recently_saved_recipes:{path:"/members/recently-saved-recipes",tokens:[["text","/members/recently-saved-recipes"]],defaults:{_controller:"AppBundle\\Controller\\CookbooksController::viewRecentlySavedAction",browser_cache:"600"}},members_get_all_menu_plans:{path:"/members/menu-plans-list",tokens:[["text","/members/menu-plans-list"]],defaults:{_controller:"AppBundle\\Controller\\MenuPlansController::viewAllAction"}},members_get_menu_plan_items:{path:"/members/menu-plan-items/{id}",tokens:[["variable","/","[^/]++","id"],["text","/members/menu-plan-items"]],defaults:{_controller:"AppBundle\\Controller\\MenuPlansController::viewItemsAction"}},sponsored_collections:{path:"/sponsored-collections",tokens:[["text","/sponsored-collections"]],defaults:{_controller:"AppBundle\\Controller\\CookbooksController::sponsoredCollectionsAction",reverse_proxy_cache:"600"}},seasonal_picks:{path:"/seasonal-picks",tokens:[["text","/seasonal-picks"]],defaults:{_controller:"AppBundle\\Controller\\StaticPagesController::seasonalPicksAction",reverse_proxy_cache:"600",browser_cache:"600"}},webstories:{path:"/webstories/{slug}/{id}",tokens:[["variable","/","([a-zA-Z0-9]{8})|([0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12})","id"],["variable","/","[a-zA-Z0-9-]+","slug"],["text","/webstories"]],defaults:{_controller:"AppBundle\\Controller\\WebstoriesController::viewAction",reverse_proxy_cache:"600"}}}},{}],2:[function(e,t,n){var o=e("hogan.js");t.exports=this.templates=this.templates||{},this.templates.hb=this.templates.hb||{},this.templates.hb["competitions-custom-login"]=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.b('<div class="win-groceries">'),o.b("\n"+n),o.b('    <div class="heading">'),o.b("\n"+n),o.b("        We're giving you the chance to WIN your groceries for a year, valued at $5,000!"),o.b("\n"+n),o.b("    </div>"),o.b("\n"+n),o.b('    <div class="body">'),o.b("\n"+n),o.b("        Simply log-in to taste.com.au before Sunday 21st May to be in with the chance of winning!"),o.b("\n"+n),o.b('        <div class="body-footer">'),o.b("\n"+n),o.b('            <input type="checkbox" name="competition-terms" id="competition-terms" class="competition-terms-checkbox">'),o.b("\n"+n),o.b('            <label for="competition-terms" class="competition-terms">'),o.b("\n"+n),o.b('                <div class="terms-condition">Just check this box to confirm you\'ve read the'),o.b("\n"+n),o.b('                    <a target="_blank" href="https://www.taste.com.au/articles/win-groceries-year/FfQb3az1">'),o.b("\n"+n),o.b("                        terms and conditions"),o.b("\n"+n),o.b("                    </a>"),o.b("\n"+n),o.b("                </div>"),o.b("\n"+n),o.b("            </label>"),o.b("\n"+n),o.b("        </div>"),o.b("\n"+n),o.b("    </div>"),o.b("\n"+n),o.b("</div>"),o.b("\n"),o.fl()},partials:{},subs:{}}),this.templates.hb["competitions-custom-register"]=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.b('<div class="win-groceries">'),o.b("\n"+n),o.b('    <div class="heading">'),o.b("\n"+n),o.b("        We're giving you the chance to WIN your groceries for a year, valued at $5,000!"),o.b("\n"+n),o.b("    </div>"),o.b("\n"+n),o.b('    <div class="body">'),o.b("\n"+n),o.b("        Simply sign-up and log-in to taste.com.au before Sunday 21st May to be in with the chance of winning!"),o.b("\n"+n),o.b('        <div class="body-footer">'),o.b("\n"+n),o.b('            <div class="terms-condition">Click here to read the'),o.b("\n"+n),o.b('                <a target="_blank" href="https://www.taste.com.au/articles/win-groceries-year/FfQb3az1">'),o.b("\n"+n),o.b("                    terms and conditions"),o.b("\n"+n),o.b("                </a>"),o.b("\n"+n),o.b("            </div>"),o.b("\n"+n),o.b("        </div>"),o.b("\n"+n),o.b("    </div>"),o.b("\n"+n),o.b("</div>"),o.b("\n"),o.fl()},partials:{},subs:{}}),this.templates.hb.dummy_list_item=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.b("<li>"),o.b("\n"+n),o.b('    <article class="row">'),o.b("\n"+n),o.b('        <figure class="list-image-block">'),o.b("\n"+n),o.b('            <span class="col-sm-6">'),o.b("\n"+n),o.b('                <img class="img-responsive center-block" alt="'),o.b(o.v(o.f("title",e,t,0))),o.b('" title="'),o.b(o.v(o.f("title",e,t,0))),o.b('" src="/assets/static/images/generic-placeholder.jpg">'),o.b("\n"+n),o.b("            </span>"),o.b("\n"+n),o.b('            <figcaption class="col-sm-6">'),o.b("\n"+n),o.b('                <div class="title">'),o.b("\n"+n),o.b("                    <h3>"),o.b(o.v(o.f("title",e,t,0))),o.b("</h3>"),o.b("\n"+n),o.b("                </div>"),o.b("\n"+n),o.b('                <div class="description">'),o.b(o.v(o.f("description",e,t,0))),o.b("</div>"),o.b("\n"+n),o.b("            </figcaption>"),o.b("\n"+n),o.b("        </figure>"),o.b("\n"+n),o.b("    </article>"),o.b("\n"+n),o.b("</li>"),o.b("\n"),o.fl()},partials:{},subs:{}}),this.templates.hb.edit_title_description_dialog=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.b('<div class="edit-form edit-title-description-form">'),o.b("\n"+n),o.b('    <p class="form-info">'),o.b(o.v(o.f("info",e,t,0))),o.b("</p>"),o.b("\n"+n),o.b('    <form name="edit-title-description">'),o.b("\n"+n),o.b('        <input type="text" name="title" placeholder="'),o.b(o.v(o.f("titleFieldPlaceHolder",e,t,0))),o.b('" />'),o.b("\n"+n),o.b('        <textarea rows="5" cols="50" name="description" placeholder="'),o.b(o.v(o.f("descriptionFieldPlaceHolder",e,t,0))),o.b('"></textarea>'),o.b("\n"+n),o.b("    </form>"),o.b("\n"+n),o.b("</div>"),o.b("\n"),o.fl()},partials:{},subs:{}}),this.templates.hb.modal=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.b('<div class="modal" id="'),o.b(o.v(o.f("id",e,t,0))),o.b('">'),o.b("\n"+n),o.b('    <div class="modal-content">'),o.b("\n"+n),o.b('        <div class="modal-header">'),o.b("\n"+n),o.b("            <h4>"),o.b(o.v(o.f("title",e,t,0))),o.b("</h4>"),o.b("\n"+n),o.b('            <span class="close" role="button" aria-label="Close modal window"></span>'),o.b("\n"+n),o.b("        </div>"),o.b("\n"+n),o.b('        <div class="modal-body">'),o.b(o.t(o.f("body",e,t,0))),o.b("</div>"),o.b("\n"+n),o.b("    </div>"),o.b("\n"+n),o.b("</div>"),o.fl()},partials:{},subs:{}}),this.templates.hb.confirmation_dialog=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.s(o.f("showIcon",e,t,1),e,t,0,13,84,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b('<div class="icon-container"><span class="icon '),o.b(o.v(o.f("icon",e,t,0))),o.b('"></span></div>'),o.b("\n"+n)}),e.pop()),o.s(o.f("showHeading",e,t,1),e,t,0,114,136,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b("<h3>"),o.b(o.v(o.f("heading",e,t,0))),o.b("</h3>"),o.b("\n"+n)}),e.pop()),o.b('<div class="question">'),o.b(o.t(o.f("question",e,t,0))),o.b("</div>"),o.b("\n"+n),o.s(o.f("showAction",e,t,1),e,t,0,211,344,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b('<div class="controls">'),o.b("\n"+n),o.b('    <a data-control-action="'),o.b(o.v(o.f("action",e,t,0))),o.b('">'),o.b(o.v(o.f("action",e,t,0))),o.b("</a>"),o.b("\n"+n),o.b('    <a data-control-action="cancel">cancel</a>'),o.b("\n"+n),o.b("</div>"),o.b("\n"+n)}),e.pop()),o.fl()},partials:{},subs:{}}),this.templates.hb.cookbook_rename_form=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.b('<div class="edit-form">'),o.b("\n"+n),o.b("    <h5>"),o.b(o.v(o.f("name",e,t,0))),o.b("</h5>"),o.b("\n"+n),o.b('    <form name="cookbook-rename">'),o.b("\n"+n),o.b('        <label for="cookbook-name">Rename cookbook:</label>'),o.b("\n"+n),o.b('        <input type="text" name="cookbook-name" id="cookbook-name" placeholder="Enter a new cookbook name" maxlength="70"'),o.b("\n"+n),o.b('               title="Cookbook Name"/>'),o.b("\n"+n),o.b("    </form>"),o.b("\n"+n),o.b("</div>"),o.fl()},partials:{},subs:{}}),this.templates.hb.cookbooks=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.b('<div class="my-cookbooks">'),o.b("\n"+n),o.b("    <h2>My Cookbooks</h2>"),o.b("\n"+n),o.s(o.d("cookbooks.length",e,t,1),e,t,1,0,0,"")||(o.b("        <p>You haven't created any cookbooks yet. Browse our <a href=\""),o.b(o.v(o.f("recipesCollectionsUrl",e,t,0))),o.b('">recipes collections </a> to get started.</p>'),o.b("\n"+n)),o.s(o.d("cookbooks.length",e,t,1),e,t,0,272,536,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b("        "),o.b(o.t(o.f("searchBar",e,t,0))),o.b("        <h3>"),o.b("\n"+n),o.b('            <span class="count">'),o.b(o.v(o.d("cookbooks.length",e,t,0))),o.b("</span> cookbooks"),o.b("\n"+n),o.b("        </h3>"),o.b("\n"+n),o.b('        <ul class="row cookbook-items">'),o.b("\n"+n),o.s(o.f("cookbooks",e,t,1),e,t,0,459,503,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b("                "),o.b(o.t(o.f("cookbook",e,t,0))),o.b("\n"+n)}),e.pop()),o.b("        </ul>"),o.b("\n"+n)}),e.pop()),o.b("</div>"),o.b("\n"),o.fl()},partials:{},subs:{}}),this.templates.hb.list_item_controls=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.b('<span class="icon-cog"></span>'),o.b("\n"+n),o.b('<ul class="controls">'),o.b("\n"+n),o.s(o.f("controls",e,t,1),e,t,0,70,134,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b('        <li data-control-action="'),o.b(o.v(o.f("action",e,t,0))),o.b('">'),o.b(o.v(o.f("text",e,t,0))),o.b("</li>"),o.b("\n"+n)}),e.pop()),o.b("</ul>"),o.fl()},partials:{},subs:{}}),this.templates.hb.member_box=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.b('<div class="dropdown-container">'),o.b("\n"+n),o.b('    <a class="user-name dropdown-toggle" href="#">Hi, '),o.b(o.t(o.f("username",e,t,0))),o.b("</a>"),o.b("\n"+n),o.b('    <ul class="dropdown-content brand-color">'),o.b("\n"+n),o.b("        <li>"),o.b("\n"+n),o.b('            <a data-member-function="update-profile"><span class="icon white user"></span> Edit Profile</a>'),o.b("\n"+n),o.b("        </li>"),o.b("\n"+n),o.b("        <li>"),o.b("\n"+n),o.b('            <a href="'),o.b(o.v(o.d("routes.dashboard",e,t,0))),o.b('"><span class="icon dashboard"></span> my dashboard</a>'),o.b("\n"+n),o.b("        </li>"),o.b("\n"+n),o.b("        <li>"),o.b("\n"+n),o.b('            <a data-member-function="progressive-profiling"><span class="icon cog"></span> my preferences</a>'),o.b("\n"+n),o.b("        </li>"),o.b("\n"+n),o.b("        <li>"),o.b("\n"+n),o.b('            <a href="'),o.b(o.v(o.d("routes.cookbooks",e,t,0))),o.b('"><span class="icon white filled-heart"></span> my cookbooks</a>'),o.b("\n"+n),o.b("        </li>"),o.b("\n"+n),o.b("        <li>"),o.b("\n"+n),o.b('            <a href="'),o.b(o.v(o.d("routes.menu_plans",e,t,0))),o.b('"><span class="icon menu"></span>my menus</a>'),o.b("\n"+n),o.b("        </li>"),o.b("\n"+n),o.b("        <li>"),o.b("\n"+n),o.b('            <a href="'),o.b(o.v(o.d("routes.shopping_lists",e,t,0))),o.b('"><span class="icon white shopping-cart"></span> my shopping list</a>'),o.b("\n"+n),o.b("        </li>"),o.b("\n"+n),o.b("        <li>"),o.b("\n"+n),o.b('            <a href="'),o.b(o.v(o.d("routes.sampling",e,t,0))),o.b('"><span class="icon white gift"></span>taste testers</a>'),o.b("\n"+n),o.b("        </li>"),o.b("\n"+n),o.b('        <li class="logout-container">'),o.b("\n"+n),o.b('            <a data-member-function="logout">log out</a>'),o.b("\n"+n),o.b("        </li>"),o.b("\n"+n),o.b("    </ul>"),o.b("\n"+n),o.b("</div>"),o.fl()},partials:{},subs:{}}),this.templates.hb.members_module_search_results=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.b('<div class="'),o.b(o.v(o.f("parentContainerClass",e,t,0))),o.b('">'),o.b("\n"+n),o.b("    <h2>Search Results</h2>"),o.b("\n"+n),o.b("    "),o.b(o.t(o.f("searchBar",e,t,0))),o.b('    <p class="number-results-found"></p>'),o.b("\n"+n),o.b('    <ul class="row '),o.b(o.v(o.f("ulResultContainerClass",e,t,0))),o.b('">'),o.b("\n"+n),o.b("        <li>Loading...</li>"),o.b("\n"+n),o.b("    </ul>"),o.b("\n"+n),o.b('    <div id="search-pagination-links"></div>'),o.b("\n"+n),o.b("</div>"),o.fl()},partials:{},subs:{}}),this.templates.hb.menu_items_list=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.s(o.d("menuItems.length",e,t,1),e,t,0,21,345,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b('    <ul class="member-area-submenu '),o.b(o.v(o.f("ulCssClass",e,t,0))),o.b('">'),o.b("\n"+n),o.s(o.f("menuItems",e,t,1),e,t,0,96,320,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b('            <li data-cookbook="'),o.b(o.v(o.f("idProperty",e,t,0))),o.b('" '),o.s(o.f("cssClass",e,t,1),e,t,0,157,177,"{{ }}")&&(o.rs(e,t,function(e,t,n){n.b('class="'),n.b(n.v(n.f("cssClass",e,t,0))),n.b('"')}),e.pop()),o.b(">"),o.b("\n"+n),o.b('                <a href="'),o.b(o.v(o.f("menuItemUrl",e,t,0))),o.b('">'),o.s(o.f("name",e,t,1),e,t,0,243,251,"{{ }}")&&(o.rs(e,t,function(e,t,n){n.b(n.v(n.f("name",e,t,0)))}),e.pop()),o.s(o.f("title",e,t,1),e,t,0,270,279,"{{ }}")&&(o.rs(e,t,function(e,t,n){n.b(n.v(n.f("title",e,t,0)))}),e.pop()),o.b("</a>"),o.b("\n"+n),o.b("            </li>"),o.b("\n"+n)}),e.pop()),o.b("    </ul>"),o.b("\n"+n)}),e.pop()),o.fl()},partials:{},subs:{}}),this.templates.hb.menu_plan_rename_form=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.b('<div class="edit-form">'),o.b("\n"+n),o.b("    <h5>"),o.b(o.v(o.f("name",e,t,0))),o.b("</h5>"),o.b("\n"+n),o.b('    <form name="menu-rename">'),o.b("\n"+n),o.b('        <label for="menu-name">Rename menu plan:</label>'),o.b("\n"+n),o.b('        <input type="text" name="menu-name" id="menu-name" placeholder="Enter a new menu plan name" maxlength="70"'),o.b("\n"+n),o.b('               title="Menu Plan Name"/>'),o.b("\n"+n),o.b("    </form>"),o.b("\n"+n),o.b("</div>"),o.fl()},partials:{},subs:{}}),this.templates.hb.menu_plans=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.b('<div class="my-menu-plans">'),o.b("\n"+n),o.b("    <h2>My menus</h2>"),o.b("\n"+n),o.s(o.d("menuPlans.length",e,t,1),e,t,1,0,0,"")||(o.b("    <p>You haven't saved any menus yet. Browse our <a href=\""),o.b(o.v(o.f("menusUrl",e,t,0))),o.b('">Menu Plans</a> to get started.</p>'),o.b("\n"+n)),o.s(o.d("menuPlans.length",e,t,1),e,t,0,236,437,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b("    <h3>"),o.b("\n"+n),o.b('        <span class="count">'),o.b(o.v(o.d("menuPlans.length",e,t,0))),o.b("</span> menus"),o.b("\n"+n),o.b("    </h3>"),o.b("\n"+n),o.b('    <ul class="row cookbook-items">'),o.b("\n"+n),o.s(o.f("menuPlans",e,t,1),e,t,0,376,408,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b("        "),o.b(o.t(o.f("menuPlan",e,t,0))),o.b("\n"+n)}),e.pop()),o.b("    </ul>"),o.b("\n"+n)}),e.pop()),o.b("</div>"),o.fl()},partials:{},subs:{}}),this.templates.hb.rating=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.b('<div class="rating-box">'),o.b("\n"+n),o.b('    <div class="background-stars">'),o.b("\n"+n),o.b('        <span class="icon-rating-star"></span><span class="icon-rating-star"></span><span class="icon-rating-star"></span><span class="icon-rating-star"></span><span class="icon-rating-star"></span>'),o.b("\n"+n),o.b("    </div>"),o.b("\n"+n),o.b('    <div class="overlay-stars-restrict" style="width: '),o.b(o.v(o.f("ratingWidth",e,t,0))),o.b('%">'),o.b("\n"+n),o.b('        <div class="overlay-stars-container">'),o.b("\n"+n),o.b('            <span class="icon-rating-star"></span><span class="icon-rating-star"></span><span class="icon-rating-star"></span><span class="icon-rating-star"></span><span class="icon-rating-star"></span>'),o.b("\n"+n),o.b("        </div>"),o.b("\n"+n),o.b("    </div>"),o.b("\n"+n),o.b("</div>"),o.fl()},partials:{},subs:{}}),this.templates.hb.recipe_item=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.b('<li class="col-md-4 col-xs-6 '),o.b(o.v(o.f("cssClass",e,t,0))),o.b('" data-item-id="'),o.b(o.v(o.f("id",e,t,0))),o.b('">'),o.b("\n"+n),o.b('    <a href="'),o.b(o.v(o.f("url",e,t,0))),o.b('"><img class="img-responsive" '),o.s(o.f("srcSet",e,t,1),e,t,0,127,139,"{{ }}")&&(o.rs(e,t,function(e,t,n){n.b(n.t(n.f("srcSet",e,t,0)))}),e.pop()),o.b(" "),o.s(o.f("srcSet",e,t,1),e,t,1,0,0,"")||(o.b('src="'),o.b(o.v(o.f("image",e,t,0))),o.b('"')),o.b(' alt="'),o.b(o.v(o.f("title",e,t,0))),o.b('" /></a>'),o.b("\n"+n),o.s(o.f("editControls",e,t,1),e,t,0,233,265,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b("        "),o.b(o.t(o.f("editControls",e,t,0))),o.b("\n"+n)}),e.pop()),o.b('    <h3><a href="'),o.b(o.v(o.f("url",e,t,0))),o.b('">'),o.b(o.v(o.f("title",e,t,0))),o.b("</a></h3>"),o.b("\n"+n),o.s(o.f("ratingsBox",e,t,1),e,t,0,347,413,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b('    <div class="rating">'),o.b("\n"+n),o.b("        "),o.b(o.t(o.f("ratingsBox",e,t,0))),o.b("\n"+n),o.b("    </div>"),o.b("\n"+n)}),e.pop()),o.b("</li>"),o.b("\n"),o.fl()},partials:{},subs:{}}),this.templates.hb.recipe_print_dialog=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.b('<div class="recipe-print-dialog">'),o.b("\n"+n),o.b('    <div class="heading">'),o.b(o.v(o.f("recipeTitle",e,t,0))),o.b("</div>"),o.b("\n"+n),o.b('    <div class="info">Print your recipe with:</div>'),o.b("\n"+n),o.b('    <ul class="list-unstyled">'),o.b("\n"+n),o.b("        <li>"),o.b("\n"+n),o.b('            <input type="checkbox" name="print-picture" id="print-picture" />'),o.b("\n"+n),o.b('            <label for="print-picture">'),o.b("\n"+n),o.b("                <span>Main picture</span>"),o.b("\n"+n),o.b("            </label>"),o.b("\n"+n),o.b("        </li>"),o.b("\n"+n),o.b("        <li>"),o.b("\n"+n),o.b('            <input type="checkbox" name="print-nutritional-info" id="print-nutritional-info" />'),o.b("\n"+n),o.b('            <label for="print-nutritional-info">'),o.b("\n"+n),o.b("                <span>Nutritional information</span>"),o.b("\n"+n),o.b("            </label>"),o.b("\n"+n),o.b("        </li>"),o.b("\n"+n),o.b("    </ul>"),o.b("\n"),o.b("\n"+n),o.b('    <div class="controls">'),o.b("\n"+n),o.b('        <a class="print" data-control-action="print">Print this recipe</a>'),o.b("\n"+n),o.b('        <a class="cancel" data-control-action="cancel">cancel</a>'),o.b("\n"+n),o.b("    </div>"),o.b("\n"+n),o.b("</div>"),o.b("\n"),o.fl()},partials:{},subs:{}}),this.templates.hb.sampling_form=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.b('<form class="my-sampling-form" method="post">'),o.b("\n"+n),o.b("    <h3>Tell us a little about yourself so that we can send you relevant products to test!</h3>"),o.b("\n"+n),o.b('    <div class="form-group">'),o.b("\n"+n),o.b('        <label class="control-label">Are you...</label>'),o.b("\n"+n),o.b('        <div class="radio">'),o.b("\n"+n),o.s(o.f("genders",e,t,1),e,t,0,279,411,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b('            <label class="radio-inline"><input type="radio" name="gender" value="'),o.b(o.v(o.f("value",e,t,0))),o.b('" required> '),o.b(o.v(o.f("name",e,t,0))),o.b("</label>"),o.b("\n"+n)}),e.pop()),o.b("        </div>"),o.b("\n"+n),o.b("    </div>"),o.b("\n"+n),o.b('    <div class="form-group">'),o.b("\n"+n),o.b('        <label for="birthYear">Which year were you born?</label>'),o.b("\n"+n),o.b('        <select name="birthYear" id="birthYear" class="form-control" required>'),o.b("\n"+n),o.b('            <option value="">Year</option>'),o.b("\n"+n),o.s(o.f("years",e,t,1),e,t,0,688,754,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b('                <option value="'),o.b(o.v(o.d(".",e,t,0))),o.b('">'),o.b(o.v(o.d(".",e,t,0))),o.b("</option>"),o.b("\n"+n)}),e.pop()),o.b("        </select>"),o.b("\n"+n),o.b("    </div>"),o.b("\n"+n),o.b('    <div class="form-group">'),o.b("\n"+n),o.b("        <label>Do you have children living at home</label>"),o.b("\n"+n),o.b('        <div class="radio">'),o.b("\n"+n),o.s(o.f("hasChildren",e,t,1),e,t,0,938,1075,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b('            <label class="radio-inline"><input type="radio" name="hasChildren" value="'),o.b(o.v(o.f("value",e,t,0))),o.b('" required> '),o.b(o.v(o.f("name",e,t,0))),o.b("</label>"),o.b("\n"+n)}),e.pop()),o.b("        </div>"),o.b("\n"+n),o.b("    </div>"),o.b("\n"+n),o.b('    <div class="form-group">'),o.b("\n"+n),o.b('        <label for="childrenCount">How many children do you have living at home?</label>'),o.b("\n"+n),o.b('        <select name="childrenCount" id="childrenCount" class="form-control">'),o.b("\n"+n),o.s(o.f("childrenCount",e,t,1),e,t,0,1344,1406,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b('            <option value="'),o.b(o.v(o.d(".",e,t,0))),o.b('">'),o.b(o.v(o.d(".",e,t,0))),o.b("</option>"),o.b("\n"+n)}),e.pop()),o.b("        </select>"),o.b("\n"+n),o.b("    </div>"),o.b("\n"+n),o.b('    <div class="form-group">'),o.b("\n"+n),o.b("        <label>Which years were they born?</label>"),o.b("\n"+n),o.b('        <div class="form-inline">'),o.b("\n"+n),o.s(o.f("childrenBirthYears",e,t,1),e,t,0,1603,1891,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b('            <select name="childrenBirthYear'),o.b(o.v(o.d(".",e,t,0))),o.b('" class="form-control child-birth-year">'),o.b("\n"+n),o.b('                <option value="">Year</option>'),o.b("\n"+n),o.s(o.f("childYears",e,t,1),e,t,0,1771,1841,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b('                <option value="'),o.b(o.v(o.d(".",e,t,0))),o.b('">'),o.b(o.v(o.d(".",e,t,0))),o.b("</option>"),o.b("\n"+n)}),e.pop()),o.b("            </select>"),o.b("\n"+n)}),e.pop()),o.b("        </div>"),o.b("\n"+n),o.b("    </div>"),o.b("\n"+n),o.b('    <div class="form-group">'),o.b("\n"+n),o.b("        <label>Would you be interested in sampling products relating to</label>"),o.b("\n"+n),o.b('        <div class="row">'),o.b("\n"+n),o.s(o.f("familyInterests",e,t,1),e,t,0,2108,2402,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b('            <div class="col-xs-12 col-sm-6">'),o.b("\n"+n),o.s(o.d(".",e,t,1),e,t,0,2176,2364,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b('                <div class="checkbox">'),o.b("\n"+n),o.b('                    <label><input type="checkbox" name="familyInterests" value="'),o.b(o.v(o.f("value",e,t,0))),o.b('"> '),o.b(o.v(o.f("name",e,t,0))),o.b("</label>"),o.b("\n"+n),o.b("                </div>"),o.b("\n"+n)}),e.pop()),o.b("            </div>"),o.b("\n"+n)}),e.pop()),o.b("        </div>"),o.b("\n"+n),o.b("    </div>"),o.b("\n"+n),o.b('    <div class="form-group">'),o.b("\n"+n),o.b("        <label>What are you interested in sampling? Tick all that apply!</label>"),o.b("\n"+n),o.b('        <div class="row">'),o.b("\n"+n),o.s(o.f("interests",e,t,1),e,t,0,2611,2908,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b('            <div class="col-xs-12 col-sm-6">'),o.b("\n"+n),o.s(o.d(".",e,t,1),e,t,0,2679,2870,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b('                <div class="checkbox">'),o.b("\n"+n),o.b('                    <label><input type="checkbox" name="interests" value="'),o.b(o.v(o.f("value",e,t,0))),o.b('" required> '),o.b(o.v(o.f("name",e,t,0))),o.b("</label>"),o.b("\n"+n),o.b("                </div>"),o.b("\n"+n)}),e.pop()),o.b("            </div>"),o.b("\n"+n)}),e.pop()),o.b("        </div>"),o.b("\n"+n),o.b("    </div>"),o.b("\n"+n),o.b('    <div class="form-group form-divider">'),o.b("\n"+n),o.b("        <label>What is your address?</label>"),o.b("\n"+n),o.b('        <p class="note">We need this so that we can deliver your free products</p>'),o.b("\n"+n),o.b('        <div class="form-group">'),o.b("\n"+n),o.b('            <input type="text" name="address" class="form-control" placeholder="Street Address" maxlength="100" required>'),o.b("\n"+n),o.b("        </div>"),o.b("\n"+n),o.b('        <div class="form-group">'),o.b("\n"+n),o.b('            <div class="row">'),o.b("\n"+n),
o.b('                <div class="col-xs-12 col-sm-5 address-row">'),o.b("\n"+n),o.b('                    <input type="text" name="city" class="form-control" placeholder="City" maxlength="30" required>'),o.b("\n"+n),o.b("                </div>"),o.b("\n"+n),o.b('                <div class="col-xs-6 col-sm-3">'),o.b("\n"+n),o.b('                    <select name="state" class="form-control" required>'),o.b("\n"+n),o.b('                        <option value="">State</option>'),o.b("\n"+n),o.s(o.f("states",e,t,1),e,t,0,3763,3849,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b('                        <option value="'),o.b(o.v(o.d(".",e,t,0))),o.b('">'),o.b(o.v(o.d(".",e,t,0))),o.b("</option>"),o.b("\n"+n)}),e.pop()),o.b("                    </select>"),o.b("\n"+n),o.b("                </div>"),o.b("\n"+n),o.b('                <div class="col-xs-6 col-sm-4">'),o.b("\n"+n),o.b('                    <input type="text" name="postcode" class="form-control" placeholder="Post Code" maxlength="4" required>'),o.b("\n"+n),o.b("                </div>"),o.b("\n"+n),o.b("            </div>"),o.b("\n"+n),o.b("        </div>"),o.b("\n"+n),o.b('        <div class="form-group">'),o.b("\n"+n),o.b('            <input type="tel" name="phone" class="form-control" placeholder="Mobile Phone Number" maxlength="10" required>'),o.b("\n"+n),o.b("        </div>"),o.b("\n"+n),o.b("    </div>"),o.b("\n"+n),o.s(o.f("isSampler",e,t,1),e,t,1,0,0,"")||(o.b('    <div class="form-group form-grey">'),o.b("\n"+n),o.b('        <div class="checkbox">'),o.b("\n"+n),o.b('            <label><input type="checkbox" name="confirm" value="y" required>Yes, I would like to sample and review free products from taste.com.au and its partners</label>'),o.b("\n"+n),o.b("        </div>"),o.b("\n"+n),o.b("    </div>"),o.b("\n"+n),o.b('    <div class="form-group">'),o.b("\n"+n),o.b('        <p class="terms">By joining taste.com.au testers, you agree that we and our advertisers will be entitled to use all or part of your reviews, with or without an attribution to your taste.com.au user name or first name, without restriction.</p>'),o.b("\n"+n),o.b('        <p class="terms">You may be invited to sample products by our sister sites, Kidspot and Best Recipes. Your reviews may also appear on these sites.</p>'),o.b("\n"+n),o.b("    </div>"),o.b("\n"+n),o.b('    <div class="form-group">'),o.b("\n"+n),o.b('        <div class="checkbox">'),o.b("\n"+n),o.b('            <label><input type="checkbox" name="terms" value = "y" required>I agree to abide by the taste.com.au  <a target="_blank" href="'),o.b(o.t(o.f("termsLink",e,t,0))),o.b('">Terms &amp; Conditions</a> of use and  <a target="_blank" href="http://www.newscorpaustraliaprivacy.com/">Privacy Policy</a></label>'),o.b("\n"+n),o.b("        </div>"),o.b("\n"+n),o.b("    </div>"),o.b("\n"+n)),o.b('    <div class="form-error has-error">'),o.b("\n"+n),o.b("        <p>Please fill in all fields.</p>"),o.b("\n"+n),o.b("    </div>"),o.b("\n"+n),o.b('    <div class="row controls-row">'),o.b("\n"+n),o.b('        <div class="col-xs-12 col-sm-6">'),o.b("\n"+n),o.b('            <input type="submit" value="'),o.s(o.f("isSampler",e,t,1),e,t,0,5678,5692,"{{ }}")&&(o.rs(e,t,function(e,t,n){n.b("Update Details")}),e.pop()),o.s(o.f("isSampler",e,t,1),e,t,1,0,0,"")||o.b("Join Now"),o.b('">'),o.b("\n"+n),o.b("        </div>"),o.b("\n"+n),o.s(o.f("isSampler",e,t,1),e,t,0,5782,5920,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b('        <div class="col-xs-12 col-sm-6">'),o.b("\n"+n),o.b('            <a href="#" class="button delete-profile">Delete Profile</a>'),o.b("\n"+n),o.b("        </div>"),o.b("\n"+n)}),e.pop()),o.b("    </div>"),o.b("\n"+n),o.b("</form>"),o.fl()},partials:{},subs:{}}),this.templates.hb.sampling_intro=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.b("<h3>Become a taste tester, for free!</h3>"),o.b("\n"+n),o.b("<p>"),o.b("\n"+n),o.b("    Sign-up to become a taste tester today and we'll send you product samples to test and review, absolutely free!"),o.b("\n"+n),o.b("    It's super simple, just tell us a little more about yourself so that we can source the best product that is most"),o.b("\n"+n),o.b("    relevant to you. We'll always get in touch before sending you anything, and won't share any of your personal data."),o.b("\n"+n),o.b("</p>"),o.fl()},partials:{},subs:{}}),this.templates.hb.sampling_login=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.b('<div class="my-sampling my-sampling-login">'),o.b("\n"+n),o.b("    <h2>"),o.b("\n"+n),o.b('        <img class="taste-testers-logo" src="/assets/static/images/sampling/taste-testers-logo-2017.svg" alt="Taste testers taste.com.au" title="Taste testers taste.com.au">'),o.b("\n"+n),o.b("    </h2>"),o.b("\n"+n),o.b(o.rp("<intro0",e,t,"    ")),o.b("</div>"),o.fl()},partials:{"<intro0":{name:"intro",partials:{},subs:{}}},subs:{}}),this.templates.hb.sampling_page=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.b('<div class="my-sampling">'),o.b("\n"+n),o.b("    <h2>"),o.b("\n"+n),o.b('        <img class="taste-testers-logo" src="/assets/static/images/sampling/taste-testers-logo-2017.svg" alt="Taste testers taste.com.au" title="Taste testers taste.com.au">'),o.b("\n"+n),o.b("    </h2>"),o.b("\n"+n),o.s(o.f("isSampler",e,t,1),e,t,0,237,476,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b("    <h3>Your taste tester profile</h3>"),o.b("\n"+n),o.b("    <p>"),o.b("\n"+n),o.b("        Congratulations! You're signed up to be a taste tester. If your details have changed, please update them so you"),o.b("\n"+n),o.b("        can continue to receive our free product samples."),o.b("\n"+n),o.b("    </p>"),o.b("\n"+n)}),e.pop()),o.s(o.f("isSampler",e,t,1),e,t,1,0,0,"")||o.b(o.rp("<intro0",e,t,"        ")),o.b('    <div class="members-form">'),o.b("\n"+n),o.b(o.rp("<form1",e,t,"        ")),o.b("\n"+n),o.b('        <div class="row">'),o.b("\n"+n),o.b('            <div class="col-xs-12 col-sm-6">'),o.b("\n"+n),o.b('                <a class="button show-form" href="#">Join Now</a>'),o.b("\n"+n),o.b("            </div>"),o.b("\n"+n),o.b("        </div>"),o.b("\n"+n),o.b("    </div>"),o.b("\n"+n),o.b("</div>"),o.fl()},partials:{"<intro0":{name:"intro",partials:{},subs:{}},"<form1":{name:"form",partials:{},subs:{}}},subs:{}}),this.templates.hb.save_menu=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.b('<form name="save-menu">'),o.b("\n"+n),o.b('    <div class="save-menu">'),o.b("\n"+n),o.s(o.f("isUserMenu",e,t,1),e,t,0,75,274,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b('        <div class="section">'),o.b("\n"+n),o.b("        <label>Name your plan</label>"),o.b("\n"+n),o.b('        <input type="text" name="menu-name" value="" maxlength="70" placeholder="Enter a new menu name" />'),o.b("\n"+n),o.b("        </div>"),o.b("\n"+n)}),e.pop()),o.s(o.f("isUserMenu",e,t,1),e,t,1,0,0,"")||(o.b("        <h3>"),o.b(o.v(o.f("menuTitle",e,t,0))),o.b("</h3>"),o.b("\n"+n)),o.b("    </div>"),o.b("\n"+n),o.b("</form>"),o.fl()},partials:{},subs:{}}),this.templates.hb.save_recipe_to_cookbook=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.b('<form name="save-recipe-to-cookbook">'),o.b("\n"+n),o.b('    <div class="save-recipe-to-cookbook">'),o.b("\n"+n),o.b("        <h3>"),o.b(o.v(o.f("recipeTitle",e,t,0))),o.b("</h3>"),o.b("\n"+n),o.b('        <div class="section">'),o.b("\n"+n),o.b("            <label>Save to:</label>"),o.b("\n"+n),o.b('            <div class="sort-control">'),o.b("\n"+n),o.b('                <div class="dropdown-low select collapsed">'),o.b("\n"+n),o.b('                    <ul id="select-custom">'),o.b("\n"+n),o.s(o.d("cookbooks.length",e,t,1),e,t,1,0,0,"")||(o.b("                            <li data-button>My Cookbook</li>"),o.b("\n"+n),o.b('                            <li data-selected data-slug="my-cookbook">'),o.b("\n"+n),o.b("                                <a data-selected>My Cookbook</a>"),o.b("\n"+n),o.b("                            </li>"),o.b("\n"+n)),o.s(o.d("cookbooks.length",e,t,1),e,t,0,690,1043,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b("                            <li data-button>"),o.b(o.v(o.d("cookbooks.0.name",e,t,0))),o.b("</li>"),o.b("\n"+n),o.s(o.f("cookbooks",e,t,1),e,t,0,805,1004,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b("                                <li "),o.b(o.v(o.f("active",e,t,0))),o.b(' data-slug="'),o.b(o.v(o.f("slug",e,t,0))),o.b('">'),o.b("\n"+n),o.b("                                    <a "),o.b(o.v(o.f("active",e,t,0))),o.b(">"),o.b(o.v(o.f("name",e,t,0))),o.b("</a>"),o.b("\n"+n),o.b("                                </li>"),o.b("\n"+n)}),e.pop())}),e.pop()),o.b("                    </ul>"),o.b("\n"+n),o.b("                </div>"),o.b("\n"+n),o.b("            </div>"),o.b("\n"+n),o.b("        </div>"),o.b("\n"+n),o.s(o.f("canCreateNewCookbook",e,t,1),e,t,0,1181,1408,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b('        <div class="section">'),o.b("\n"+n),o.b("            <label>Or, create a new cookbook:</label>"),o.b("\n"+n),o.b('            <input type="text" name="cookbook-name" value="" maxlength="70" placeholder="Enter a new cookbook name" />'),o.b("\n"+n),o.b("        </div>"),o.b("\n"+n)}),e.pop()),o.b("    </div>"),o.b("\n"+n),o.b("</form>"),o.fl()},partials:{},subs:{}}),this.templates.hb.searchBar=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.b('<div class="search-box">'),o.b("\n"+n),o.b('    <form method="get" autocomplete="off" action="'),o.b(o.v(o.f("formSearchUrl",e,t,0))),o.b('">'),o.b("\n"+n),o.b('        <div class="submit-button">'),o.b("\n"+n),o.b('            <button type="submit" id="member-'),o.b(o.v(o.f("module",e,t,0))),o.b('-search"></button>'),o.b("\n"+n),o.b("        </div>"),o.b("\n"+n),o.b('        <div class="input-box">'),o.b("\n"+n),o.b('            <input id="member-'),o.b(o.v(o.f("module",e,t,0))),o.b('-search-field" value=""'),o.b("\n"+n),o.b('                   name="q"'),o.b("\n"+n),o.b('                   class="text search-field" maxlength="100"'),o.b("\n"+n),o.b('                   placeholder="Search..." type="text">'),o.b("\n"+n),o.b("        </div>"),o.b("\n"+n),o.b("    </form>"),o.b("\n"+n),o.b("</div>"),o.b("\n"),o.fl()},partials:{},subs:{}}),this.templates.hb.send_email_form=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.b('<div class="edit-form">'),o.b("\n"+n),o.b('    <form name="send-email">'),o.b("\n"+n),o.b('        <label for="email">Email address:</label>'),o.b("\n"+n),o.b('        <input type="text" name="email" id="email" placeholder="Enter your email address" maxlength="100"'),o.b("\n"+n),o.b('               title="Email address"/>'),o.b("\n"+n),o.b("    </form>"),o.b("\n"+n),o.b("</div>"),o.fl()},partials:{},subs:{}}),this.templates.hb.single_cookbook=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.b('<div class="my-single-cookbook '),o.b(o.v(o.f("cssClass",e,t,0))),o.b('">'),o.b("\n"+n),o.s(o.f("name",e,t,1),e,t,1,0,0,"")||(o.b('        <p>No cookbook found. Browse our <a href="'),o.b(o.v(o.f("recipesCollectionsUrl",e,t,0))),o.b('">recipe collections</a> to get started.</p>'),o.b("\n"+n)),o.s(o.f("name",e,t,1),e,t,0,207,915,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b("        <h2>"),o.b(o.v(o.f("name",e,t,0))),o.b("</h2>"),o.b("\n"+n),o.s(o.f("editable",e,t,1),e,t,0,255,445,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b('        <div class="controls">'),o.b("\n"+n),o.b('            <span class="icon-email"></span>'),o.b("\n"+n),o.b('            <span class="icon-edit"></span>'),o.b("\n"+n),o.b('            <span class="icon-delete"></span>'),o.b("\n"+n),o.b("        </div>"),o.b("\n"+n)}),e.pop()),o.b('        <h3><span class="count">'),o.b(o.v(o.f("numberItems",e,t,0))),o.b("</span> items</h3>"),o.b("\n"+n),o.s(o.d("recipes.length",e,t,1),e,t,1,0,0,"")||(o.b('            <p>No items saved. Browse our <a href="'),o.b(o.v(o.f("recipesCollectionsUrl",e,t,0))),o.b('">recipe collections</a> to get started.</p>'),o.b("\n"+n)),o.s(o.d("recipes.length",e,t,1),e,t,0,729,891,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b('            <ul class="row cookbook-items">'),o.b("\n"+n),o.s(o.f("recipes",e,t,1),e,t,0,802,852,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b("                    "),o.b(o.t(o.f("recipe",e,t,0))),o.b("\n"+n)}),e.pop()),o.b("            </ul>"),o.b("\n"+n)}),e.pop())}),e.pop()),o.b("</div>"),o.b("\n"),o.fl()},partials:{},subs:{}}),this.templates.hb.single_menu_plan=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.b('<div class="my-single-cookbook">'),o.b("\n"+n),o.b("    <h2>"),o.b(o.v(o.f("name",e,t,0))),o.b("</h2>"),o.b("\n"+n),o.b('    <div class="controls">'),o.b("\n"+n),o.b('        <span class="icon-edit"></span>'),o.b("\n"+n),o.b('        <span class="icon-delete"></span>'),o.b("\n"+n),o.b("    </div>"),o.b("\n"+n),o.b('    <h3><span class="count">'),o.b(o.v(o.f("numberItems",e,t,0))),o.b("</span> items</h3>"),o.b("\n"+n),o.s(o.d("recipes.length",e,t,1),e,t,0,260,374,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b('    <ul class="row cookbook-items">'),o.b("\n"+n),o.s(o.f("recipes",e,t,1),e,t,0,317,347,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b("        "),o.b(o.t(o.f("recipe",e,t,0))),o.b("\n"+n)}),e.pop()),o.b("    </ul>"),o.b("\n"+n)}),e.pop()),o.b("</div>"),o.b("\n"),o.fl()},partials:{},subs:{}}),this.templates.hb.user_icon=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.b('<div class="user-profile-image">'),o.b("\n"+n),o.b('    <img src="'),o.b(o.t(o.f("thumbnailURL",e,t,0))),o.b('" alt="'),o.b(o.t(o.f("username",e,t,0))),o.b('">'),o.b("\n"+n),o.b("</div>"),o.fl()},partials:{},subs:{}}),this.templates.hb.welcome=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.b("<h1>"),o.b("\n"+n),o.s(o.f("thumbnail",e,t,1),e,t,0,23,84,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b('        <img src="'),o.b(o.v(o.f("thumbnail",e,t,0))),o.b('" class="profile-pic" />'),o.b("\n"+n)}),e.pop()),o.b("    Welcome back, "),o.b(o.v(o.f("username",e,t,0))),o.b("\n"+n),o.b("</h1>"),o.fl()},partials:{},subs:{}}),this.templates.hb.non_member_single_cookbook=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.b('<div class="my-single-cookbook '),o.b(o.v(o.f("cssClass",e,t,0))),o.b('">'),o.b("\n"+n),o.s(o.f("name",e,t,1),e,t,1,0,0,"")||(o.b('        <p>No cookbook found. Browse our <a href="'),o.b(o.v(o.f("recipesCollectionsUrl",e,t,0))),o.b('">recipe collections</a> to get started.</p>'),o.b("\n"+n)),o.s(o.f("name",e,t,1),e,t,0,207,738,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b("        <h2>"),o.b(o.v(o.f("name",e,t,0))),o.b("</h2>"),o.b("\n"+n),o.s(o.f("editable",e,t,1),e,t,0,255,445,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b('        <div class="controls">'),o.b("\n"+n),o.b('            <span class="icon-email"></span>'),o.b("\n"+n),o.b('            <span class="icon-edit"></span>'),o.b("\n"+n),o.b('            <span class="icon-delete"></span>'),o.b("\n"+n),o.b("        </div>"),o.b("\n"+n)}),e.pop()),o.b('        <h3><span class="count">'),o.b(o.v(o.f("numberItems",e,t,0))),o.b("</span> items</h3>"),o.b("\n"+n),o.s(o.d("recipes.length",e,t,1),e,t,0,552,714,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b('            <ul class="row cookbook-items">'),o.b("\n"+n),o.s(o.f("recipes",e,t,1),e,t,0,625,675,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b("                    "),o.b(o.t(o.f("recipe",e,t,0))),o.b("\n"+n)}),e.pop()),o.b("            </ul>"),o.b("\n"+n)}),e.pop())}),e.pop()),o.b("</div>"),o.b("\n"),o.fl()},partials:{},subs:{}}),this.templates.hb.because_you_liked=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.s(o.d("recipeList.length",e,t,1),e,t,0,22,332,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b('<h3 class="dashboard-subtitle">Because you liked...</h3>'),o.b("\n"+n),o.b('<div class="control">'),o.b("\n"+n),o.b('    <button class="prev icon-pagination-arrow-next"></button>'),o.b("\n"+n),o.b('    <button class="next icon-pagination-arrow-next"></button>'),o.b("\n"+n),o.b("</div>"),o.b("\n"+n),o.b('<ul class="row cookbook-items">'),o.b("\n"+n),o.s(o.f("recipeList",e,t,1),e,t,0,284,310,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b("        "),o.b(o.t(o.f("recipe",e,t,0))),o.b("\n"+n)}),e.pop()),o.b("</ul>"),o.b("\n"+n)}),e.pop()),o.fl()},partials:{},subs:{}}),this.templates.hb.dashboard=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.b('<div class="my-dashboard">'),o.b("\n"+n),o.b("    <h2>My dashboard</h2>"),o.b("\n"+n),o.b('    <div class="bottom-border-block my-cookbooks"></div>'),o.b("\n"+n),o.b('    <div class="bottom-border-block my-single-cookbook carousel-because-you-liked" data-carousel-page="1"></div>'),o.b("\n"+n),o.b('    <div class="bottom-border-block shopping-list-container"></div>'),o.b("\n"+n),o.b('    <div class="bottom-border-block my-single-cookbook recently-saved-container"></div>'),o.b("\n"+n),o.b('    <div class="base-block recently-searched-container"></div>'),o.b("\n"+n),o.b("</div>"),o.b("\n"),o.fl()},partials:{},subs:{}}),this.templates.hb.dashboard_cookbooks=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.b('<h3 class="dashboard-subtitle">My cookbooks</h3>'),o.b("\n"+n),o.s(o.d("cookbooks.length",e,t,1),e,t,1,0,0,"")||(o.b("    <p>You haven't created any cookbooks yet. Browse our <a href=\""),o.b(o.v(o.f("recipesCollectionsUrl",e,t,0))),o.b('">recipes collections </a> to get started.</p>'),o.b("\n"+n)),o.s(o.d("cookbooks.length",e,t,1),e,t,0,252,429,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b('<ul class="row cookbook-items">'),o.b("\n"+n),o.s(o.f("cookbooks",e,t,1),e,t,0,303,331,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b("        "),o.b(o.t(o.f("cookbook",e,t,0))),o.b("\n"+n)}),e.pop()),o.b("</ul>"),o.b("\n"+n),o.b('<a href="'),o.b(o.v(o.f("viewAllCookbooksUrl",e,t,0))),o.b('" class="view-all">view all my cookbooks</a>'),o.b("\n"+n)}),e.pop()),o.fl()},partials:{},subs:{}}),this.templates.hb.latest_search_queries=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.b('<h3 class="dashboard-subtitle">Recently searched</h3>'),o.b("\n"+n),o.s(o.f("latestSearchQueries",e,t,1),e,t,1,0,0,"")||(o.b("<p>Easily find your recent searches here.</p>"),o.b("\n"+n)),o.b('<ul class="latest-search-queries">'),o.b("\n"+n),o.s(o.f("latestSearchQueries",e,t,1),e,t,0,213,279,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b("    <li>"),o.b("\n"+n),o.b('        <a href="'),o.b(o.v(o.f("searchUrl",e,t,0))),o.b('">'),o.b(o.v(o.d(".",e,t,0))),o.b("</a>"),o.b("\n"+n),o.b("    </li>"),o.b("\n"+n)}),e.pop()),o.b("</ul>"),o.fl()},partials:{},subs:{}}),this.templates.hb.recently_saved=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.b('<h3 class="dashboard-subtitle">Recently saved</h3>'),o.b("\n"+n),o.s(o.d("recentlySavedRecipes.length",e,t,1),e,t,1,0,0,"")||(o.b("    <p>You haven't saved any recipes yet. Browse our <a href=\""),o.b(o.v(o.f("recipesCollectionsUrl",e,t,0))),o.b('">recipes collections </a> to get started.</p>'),o.b("\n"+n)),o.s(o.d("recentlySavedRecipes.length",e,t,1),e,t,0,283,423,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b('    <ul class="row cookbook-items">'),o.b("\n"+n),o.s(o.f("recentlySavedRecipes",e,t,1),e,t,0,353,387,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b("            "),o.b(o.t(o.f("recipe",e,t,0))),o.b("\n"+n)}),e.pop()),o.b("    </ul>"),o.b("\n"+n)}),e.pop()),o.fl()},partials:{},subs:{}}),this.templates.hb.shopping_list_top_items=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.b('<h3 class="dashboard-subtitle">Shopping list</h3>'),o.b("\n"+n),o.s(o.f("hasItems",e,t,1),e,t,1,0,0,"")||(o.b("<p>We'll remind you of your most recently saved items here.</p>"),o.b("\n"+n)),o.s(o.f("hasItems",e,t,1),e,t,0,155,360,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b('<ul class="shopping-list-items">'),o.b("\n"+n),o.s(o.f("items",e,t,1),e,t,0,203,267,"{{ }}")&&(o.rs(e,t,function(e,t,o){o.b("    <li>"),o.b("\n"+n),o.b('        <span class="name">'),o.b(o.v(o.d(".",e,t,0))),o.b("</span>"),o.b("\n"+n),o.b("    </li>"),o.b("\n"+n)}),e.pop()),o.b("</ul>"),o.b("\n"+n),o.b('<a href="'),o.b(o.v(o.f("viewShoppingList",e,t,0))),o.b('" class="view-all">view full shopping list</a>'),o.b("\n"+n)}),e.pop()),o.fl()},partials:{},subs:{}})},{"hogan.js":145}],3:[function(e,t,n){var o=e("jquery"),i=e("../utils/breakpoints"),a=e("../dropdown");t.exports.init=function(){var e=o(".vertical-sub-menu"),t=e.find(".mobile-placeholder-container"),n=t.find("li[data-multiple] > a"),r=new a.Dropdown(t),s=function(){e.addClass("sort-control"),t.addClass("dropdown-low")},l=function(){e.removeClass("sort-control"),t.removeClass("dropdown-low")},c=function(e){var t=o(this).parent();e.preventDefault(),e.stopPropagation(),void 0!==t.attr("data-selected")?t.removeAttr("data-selected"):t.attr("data-selected","")},u=function(){d(),n.on("click.vertical-menu-dropdown",c)},d=function(){n.off("click.vertical-menu-dropdown")};i.enableScreenSizeWatching(function(){i.ifDesktopThenRun(function(){r.disable(),l(),u()}),i.ifNotDesktopThenRun(function(){s(),d(),r.enable()})})}},{"../dropdown":21,"../utils/breakpoints":116,jquery:"jquery"}],4:[function(e,t,n){var o=e("jquery"),i=e("../utils/breakpoints"),a=[{source:".you-might-like-deferred",target:"div.you-might-like-mobile-target"}];t.exports.init=function(){i.ifNotDesktopThenRun(function(){for(var e=0;e<a.length;e++)1===o(a[e].target).length&&o(a[e].source).detach().appendTo(a[e].target)})}},{"../utils/breakpoints":116,jquery:"jquery"}],5:[function(e,t,n){var o=e("jquery"),i=e("../utils/breakpoints");t.exports.init=function(){i.ifNotPhoneThenRun(function(){o("main .pricing-module").detach().insertAfter("main header")})}},{"../utils/breakpoints":116,jquery:"jquery"}],6:[function(e,t,n){function o(){u.isDesktop()?(m.preDesktop.call(this),i(f,p,l),m.postDesktop.call(this)):(m.preMobile.call(this),a(f,p,l),m.postMobile.call(this))}function i(e,t,n){r(e,t,function(e,t){t.css({height:""}),e.css({position:"",top:"",left:"",marginLeft:""}),n()})}function a(e,t,n){r(e,t,function(e,t){s(e,function(o,i){var a=t.offsetParent().offset().top,r=t.offset().top-a;t.css({height:i+"px"}),e.css({position:"absolute",top:r,left:"50%",marginLeft:"-"+o/2+"px"}),n()})})}function r(e,t,n){c(t).each(function(t,o){var i=c(o),a=i.data("adId");if(a){var r=c(e+'[data-ad-id="'+a+'"]');1===r.length&&n(r,i)}})}function s(e,t){var n=e.outerWidth(),o=e.outerHeight();n>100&&o>100?t(n,o):setTimeout(function(){s(e,t)},200)}function l(){setTimeout(function(){--d>0&&o()},1e3)}var c=e("jquery"),u=e("../utils/breakpoints"),d=5,p=".mobile-ad-target",f=".desktop-ad-target",m={},h={preDesktop:function(){},postDesktop:function(){},preMobile:function(){},postMobile:function(){}};t.exports.init=function(e){c(p).length>0&&(m=c.extend(h,e),o(),u.enableScreenSizeWatching(function(){d=5,o()}))}},{"../utils/breakpoints":116,jquery:"jquery"}],7:[function(e,t,n){function o(e,t){if(void 0!==window.ads_api&&void 0!==window.ads_api.getSlot&&void 0!==window.ads_api.refreshSlots){t=t||!1;var n=[],o=s(c);if(void 0!==e&&(o=o.filter(e)),o.each(function(){n.push(window.ads_api.getSlot(this))}),t){var i=window.ads_api.getSlot();void 0!==i&&n.push(i)}n.length>0&&window.ads_api.refreshSlots(n,!0)}}function i(e,t){l.isDesktop()&&o(e,t)}function a(e,t){l.isTablet()&&o(e,t)}function r(e,t){l.isPhone()&&o(e,t)}var s=e("jquery"),l=e("./../utils/breakpoints"),c=".ad-block";t.exports={refreshAds:o,refreshDesktopAds:i,refreshMobileAds:r,refreshTabletAds:a}},{"./../utils/breakpoints":116,jquery:"jquery"}],8:[function(e,t,n){var o=e("../utils/breakpoints"),i=!1,a=null,r=function(){!i&&o.isDesktop()&&(a=$("li.mobile-ad-placement-blocks").detach(),i=!0)},s=function(){i&&null!=a&&($("div.list-items > ol > li:nth-child(4)").after(a),i=!1)};t.exports.postDesktop=r,t.exports.preMobile=s},{"../utils/breakpoints":116}],9:[function(e,t,n){var o=e("jquery");t.exports.init=function(){o("header .navbar-header-ad").detach().appendTo("body")}},{jquery:"jquery"}],10:[function(e,t,n){function o(){var e=y+w;p.each(k,function(e,t){void 0!=t&&null!=t&&t.enable()}),p.each(v,function(t,n){n.stickToViewPortTop(e)})}function i(){p.each(k,function(e,t){void 0!=t&&null!=t&&t.disable()}),p.each(v,function(e,t){t.disable()})}function a(e){var t=e.find(">div:visible:not([data-sticky-container])"),n=e.find(">[data-sticky-container]:visible").filter(function(e){return p(">div",this).height()>0}),o=0;if(0!==n.length){t.each(function(){o+=p(this).outerHeight(!0)});var i=1,a=0,r=0,s=0;n.each(function(){var e=p(this),t=e.find(">div").height(),n=e.data("containerHeight");n?(i-=parseFloat(n),a++):r++,o+=parseInt(e.css("marginTop")),o+=parseInt(e.css("marginBottom")),o+=t});const l=e.height()-o;n.each(function(){var t=p(this),n=t.find(">div").height();if(1===t.data("doNotExpandOnResize")&&t.hasClass("expanded-DoNotExpand"))return void(s+=t.outerHeight());var o=n,c=t.data("containerHeight");c?(o+=parseFloat(c)*l,0===r&&(o+=i/a*l)):1===r?o=e.height()-s:o+=i/r*l,o<n&&(o=n),t.css({minHeight:n,height:o}),1===t.data("doNotExpandOnResize")&&t.addClass("expanded-DoNotExpand"),s+=t.outerHeight()})}}function r(){p(".rhc-container").each(function(){a(p(this))})}function s(){var e=p(".left-rail-container");0!==e.length&&(b.ifSkinLoads(function(){e.hide()}),e.on("block.loadend",function(){p("[data-sticky-element]",e).each(function(){v.push(m.make(p(this)))})}))}function l(e){e.find(">[data-sticky-container]:visible").css({minHeight:"",height:""})}function c(){w=g.height(),o()}function u(){p(".rhc-container").each(function(){l(p(this))})}function d(){function e(){f.isDesktop()?(r(),p(window).on("scroll",o),p(document).on("nav.change",c),c()):(u(),p(window).off("scroll",o),p(document).off("nav.change",c),i())}if(p(".rhc-container [data-sticky-element]").each(function(){v.push(m.make(p(this)))}),p(".rhc-container [data-anchored-ad]").each(function(){k.push(h.make(p(this)))}),f.enableScreenSizeWatching(e),window.ads_api=window.ads_api||{},window.ads_api.rendered=window.ads_api.rendered||[],window.ads_api.rendered.push(function(e){f.isDesktop()&&(r(),o())}),s(),f.isDesktop()){new ResizeObserver(function(e){r(),c()}).observe(document.getElementsByTagName("body")[0])}}var p=e("jquery"),f=e("../utils/breakpoints"),m=e("../utils/element/sticky"),h=e("../utils/element/anchored"),b=e("../utils/bonzai"),g=e("../utils/nav"),v=[],k=[],y=20,w=(p(".main-header"),0);t.exports={init:d}},{"../utils/bonzai":115,"../utils/breakpoints":116,"../utils/element/anchored":122,"../utils/element/sticky":124,"../utils/nav":129,jquery:"jquery"}],11:[function(e,t,n){function o(e,t,n){window._taboola=window._taboola||[],_taboola.push({mode:e,container:t,placement:n,target_type:"mix"})}function i(){var e=document.getElementById("taboola-desktop-below-article-native");c.isDesktop()&&null!==e&&o("thumbnails-bc-desktop-article-native","taboola-desktop-below-article-native","Desktop Below Article Native")}function a(){var e=document.getElementById("taboola-mobile-below-article-native");c.isNotDesktop()&&null!==e&&o("thumbnails-bc-mobile-article-native","taboola-mobile-below-article-native","Mobile Below Article Native")}function r(){null!=document.getElementById("taboola-below-article-thumbnails")&&o("alternating-thumbnails-a","taboola-below-article-thumbnails","Below Article Thumbnails")}function s(e){window.taboolaLoaded||(window._taboola=window._taboola||[],_taboola.push({article:"auto"}),function(e,t,n,o){document.getElementById(o)||(e.async=1,e.src="//cdn.taboola.com/libtrc/newscorpau-aud-taste/loader.js",e.id=o,t.parentNode.insertBefore(e,t))}(document.createElement("script"),document.getElementsByTagName("script")[0],0,"tb_loader_script"),window.performance&&"function"==typeof window.performance.mark&&window.performance.mark("tbl_ic"),e?(e.loadNativeAds&&(i(),a()),e.loadThumbnailsAd&&r()):(i(),a(),r()),window._taboola=window._taboola||[],_taboola.push({flush:!0}),window.taboolaLoaded=!0)}function l(){var e=document.getElementById("taboola-below-article-thumbnails");e&&(e.innerHTML=""),window.taboolaLoaded=!1}var c=e("../utils/breakpoints");t.exports={init:s,deInit:l}},{"../utils/breakpoints":116}],12:[function(e,t,n){var o=e("jquery");t.exports.init=function(){o("body.home .highlight-deferred").each(function(){var e,t=o(this);t.one("block.loadend",function(){e=t.find("section.highlight.top-picks"),0!==e.length&&("object"==typeof window.NLM.adBuilder&&"function"==typeof window.NLM.adBuilder.isBelowBreakpoint&&window.NLM.adBuilder.isBelowBreakpoint(window.NLM.adBuilder.mobileWidth)&&window.NLM.adBuilder.modifyMobileTags(e),"object"==typeof window.ads_api&&"function"==typeof window.ads_api.populate&&(e.find(".ad-block").each(function(){window.ads_api.populate(o(this).attr("id"))}),e.trigger("block.loadend")))})})}},{jquery:"jquery"}],13:[function(e,t,n){var o=(e("jquery"),e("./confirmation-dialog"));t.exports=function(e,t,n,i,a,r){var s=o(e,t,n,i,a,r);return s.$modal.addClass("alert-modal"),s.$modal.find('[data-control-action="cancel"]').hide(),s}},{"./confirmation-dialog":18,jquery:"jquery"}],14:[function(e,t,n){function o(e,t){return function(){var n=e.attr("data-carousel-page")-1;e.attr("data-carousel-page",(3+n+t)%3+1)}}function i(e){e.find(".control .next").click(o(e,1)),e.find(".control .prev").click(o(e,-1))}t.exports.bindButtons=i},{}],15:[function(e,t,n){function o(e){this.$container=e,this.$captions=this.$container.find("figcaption a"),this.$next=this.$container.find(".next"),this.$prev=this.$container.find(".prev"),this.$pause=this.$container.find(".pause"),this.$ballpeen=new a(this.$container[0],{direction:a.DIRECTION_HORIZONTAL,threshold:5,velocity:.5}),this.cycleTime=5e3,this.timeout=null}var i=e("jquery"),a=e("hammerjs");o.prototype.bindEvents=function(){var e=this;this.$captions.on("mouseenter",function(t){e.pause(),e.updateIndex(i(t.currentTarget).parents(".slide").data("slideNumber"))}),this.$captions.on("mouseleave",function(){e.resume(e.getCycleTime())}),this.$ballpeen.on("swipeleft",function(){e.next()}),this.$ballpeen.on("swiperight",function(){e.prev()}),this.$next.on("click",function(){e.next()}),this.$prev.on("click",function(){e.prev()}),this.$pause.one("click",function(){e.pause(),e.$pause.removeClass("pause").addClass("resume").attr("aria-label","Resume Slide Playback"),e.$pause.one("click",function(){e.resume(),e.$pause.removeClass("resume").addClass("pause").attr("aria-label","Pause Slide Playback")})})},o.prototype.getCycleTime=function(){return window.carouselCycleTime?window.carouselCycleTime:this.cycleTime},o.prototype.cycle=function(e){e&&(this.cycleTime=e),this.resume()},o.prototype.pause=function(){window.clearInterval(this.timeout)},o.prototype.isPaused=function(){return this.$pause.hasClass("resume")},o.prototype.resume=function(){var e=this;this.timeout=window.setInterval(function(){e.nextIndex()},this.getCycleTime())},o.prototype.handleClick=function(e){this.pause(),e.call(this),this.isPaused()||this.resume()},o.prototype.next=function(){this.handleClick(this.nextIndex)},o.prototype.prev=function(){this.handleClick(this.lastIndex)},o.prototype.getIndex=function(){return this.$container.find(".slide.selected").data("slideNumber")},o.prototype.updateIndex=function(e){this.$container.find('.slide[data-slide-number="'+this.getIndex()+'"]').removeClass("selected").removeAttr("aria-live"),this.$container.find('.slide[data-slide-number="'+e+'"]').addClass("selected").attr("aria-live","polite")},o.prototype.nextIndex=function(){var e=this.getIndex()+1;e>this.$container.find(".slide").length&&(e=1),this.updateIndex(e)},o.prototype.lastIndex=function(){var e=this.getIndex()-1;0===e&&(e=this.$container.find(".slide").length),this.updateIndex(e)},t.exports.init=function(){i(".carousel-main").each(function(){var e=new o(i(this));e.bindEvents(),e.cycle()})}},{hammerjs:"hammerjs",jquery:"jquery"}],16:[function(e,t,n){var o=e("jquery");t.exports.init=function(){o(".collapsible-text-box > .collapsible-button").click(function(){o(this).parent(".collapsible-text-box").toggleClass("collapsed")})}},{jquery:"jquery"}],17:[function(e,t,n){function o(){
if(window.location.pathname.indexOf("/galleries/")>-1||window.location.pathname.indexOf("/surveys/")>-1)return null;for(var e=new Date,t=0;t<i.length;t++){var n=i[t];if(null!=n.start&&null!=n.end&&n.start&&e>=n.start&&n.end&&e<=n.end)return n}return null}var i=[{className:"login-comp-2019-11-18",start:new Date("Nov 18 2019 00:00:00"),end:new Date("Dec 11 2019 23:59:59"),title:"Win an Echo Show 5<br>for hands-free access to<br>50,000 recipes this Christmas",link:"https://www.taste.com.au/articles/win-1-5-amazon-echo-show-5-devices/dytn9hm9",logo:"/assets/static/images/competitions/2019-11-18/alexa-taste.svg"}];t.exports.findActiveLoginCompetition=o},{}],18:[function(e,t,n){var o=e("jquery"),i=e("./utils/modal"),a=e("../dist/templates");t.exports=function(e,t,n,r,s,l){function c(e){!1!==r.call(void 0,e,p)&&(o(document).off("keypress",u),d.close())}function u(e){13===e.which&&(e.preventDefault(),c(e),e.stopPropagation())}var d=new i(e,"confirmation-dialog",a.hb.confirmation_dialog.render({question:t,action:n,icon:l,heading:s,showAction:null!==n&&void 0!==n,showHeading:null!==s&&void 0!==s,showIcon:null!==l&&void 0!==l})),p=d.contentContainer();return p.find('[data-control-action="cancel"]').click(function(){d.close()}),p.find('[data-control-action="'+n+'"]').click(c),o(document).on("keypress",u),d}},{"../dist/templates":2,"./utils/modal":128,jquery:"jquery"}],19:[function(e,t,n){t.exports={IMAGE_PLACEHOLDER:"/assets/static/images/generic-placeholder.jpg",IMAGE_PLACEHOLDER_COOKBOOK:"/assets/static/images/generic-placeholder-cookbook.jpg",NUMERIC_DATA:{INCR:"incr",DECR:"decr"}}},{}],20:[function(e,t,n){function o(){window.taboolaController=this,r(),window.NewsGigya.ifLoggedIn(function(){window.taboolaController.displayAds({loadNativeAds:!0,loadThumbnailsAd:!1})},function(){window.taboolaController.displayAds()})}function i(){window.scroll({top:0,left:0,behavior:"smooth"}),s.deInit(),window.taboolaLoaded=!1}function a(e){s.init(e)}function r(){window.NewsGigya.on("session.registered",function(){location.reload()}),window.NewsGigya.on("session.terminated",function(){window.taboolaController.displayAds()})}var s=e("./../ads/taboola");e("./../ads/rhc-sticky-ads");t.exports={init:o,deInit:i,displayAds:a}},{"./../ads/rhc-sticky-ads":10,"./../ads/taboola":11}],21:[function(e,t,n){function o(e){var t,n;t=e.find("ul li[data-button]"),n=e.find("ul li a"),this.enable=function(){t.off("click.open-dropdown"),t.on("click.open-dropdown",function(){e.toggleClass("opened")}),t.click(a(function(){return e.hasClass("opened")},function(){e.removeClass("opened")})),n.off("click.link-dropdown"),n.on("click.link-dropdown",function(t){e.find("ul li[data-selected]").removeAttr("data-selected"),i(t.currentTarget).parent("li").attr("data-selected",!0),e.find("li[data-button]").text(i(this).text()),e.removeClass("opened")})},this.disable=function(){t.off("click.open-dropdown"),n.off("click.link-dropdown")}}var i=e("jquery"),a=e("./utils/click-out");t.exports.init=function(){i(".dropdown-low").each(function(){new o(i(this)).enable()})},t.exports.Dropdown=o},{"./utils/click-out":117,jquery:"jquery"}],22:[function(e,t,n){function o(){0!==i("section.dropzone").length&&i("section.dropzone").each(function(){var e=i(this),t=e.find("a"),n=t.children("img"),o=r.isPhone()||r.isTablet()?"mobile":"desktop",n=i("<img />",{src:t.data(o+"Image"),alt:"dropzone image",class:"mobile"===o?"img-responsive":""});t.html(n)})}var i=e("jquery"),a=e("./utils/is-page"),r=e("./utils/breakpoints");t.exports.init=function(){o(),a("home")&&i("body.home .highlight-deferred").each(function(){i(this).one("block.loadend",function(){o()})})}},{"./utils/breakpoints":116,"./utils/is-page":127,jquery:"jquery"}],23:[function(e,t,n){function o(e){this.$filter=e,this.offsetFromTop=0,this.stickyFilterClass=null,this.currentScrollPosition=null,this.previousScrollPosition=null}var i=e("jquery"),a=e("./utils/breakpoints");o.prototype.calculateCurrentScrollPosition=function(){this.previousScrollPosition=this.currentScrollPosition,this.currentScrollPosition=i(document).scrollTop(),this.calculateOffsetFromTop()},o.prototype.calculateOffsetFromTop=function(){this.offsetFromTop=this.$filter.offset().top-20},o.prototype.disableStickyFilter=function(){return this.$filter.removeClass(this.stickyFilterClass)},o.prototype.enableStickyFilter=function(){return this.$filter.addClass(this.stickyFilterClass)},o.prototype.init=function(){this.currentScrollPosition=0,this.previousScrollPosition=0,this.stickyFilterClass="sticky-filters",this.calculateOffsetFromTop(),this.toggleStickyFeature()},o.prototype.toggleStickyFeature=function(){if(this.$filter.hasClass("enable-sticky")){var e=this;i(document).on("scroll",function(t,n,o){e.calculateCurrentScrollPosition(),a.isPhone()&&(e.currentScrollPosition<=e.offsetFromTop?e.disableStickyFilter():e.currentScrollPosition>e.offsetFromTop&&e.enableStickyFilter())})}},t.exports.init=function(){i(".filters").each(function(){new o(i(this)).init()})}},{"./utils/breakpoints":116,jquery:"jquery"}],24:[function(e,t,n){function o(e){this.$carousel=e,this.$carouselList=this.$carousel.find(".carousel-items"),this.$carouselItem=this.$carousel.find(".carousel-item"),this.$carouselButton=this.$carousel.find(".carousel-navigation > button"),this.$carouselPrevButton=this.$carousel.find(".carousel-navigation > button.prev-button"),this.$carouselNextButton=this.$carousel.find(".carousel-navigation > button.next-button"),this.widestItem=0,this.currentSlide=1,this.stepCount=3,this.displayCount=3}function i(e){return new o(e).initialize()}function a(){r(".flex-carousel").each(function(){i(r(this))})}var r=e("jquery"),s=e("./utils/breakpoints");o.prototype.getMaxSlide=function(){return this.$carouselItem.length-this.displayCount+1},o.prototype.setCurrentSlide=function(e){var t,n;"prev"===e?(t=this.currentSlide-this.stepCount,this.currentSlide=t>0?t:1):(t=this.currentSlide+this.stepCount,n=this.getMaxSlide(),this.currentSlide=t<n?t:n)},o.prototype.setItemWidth=function(){var e=this;s.isDesktop()&&e.$carouselItem.each(function(t,n){r(n).outerWidth(!0)>e.widestItem&&(e.widestItem=r(n).outerWidth(!0))})},o.prototype.toggleControls=function(){1===this.currentSlide?(this.$carouselPrevButton.hide(),this.$carouselNextButton.show()):this.currentSlide>1&&(this.$carouselPrevButton.show(),this.currentSlide===this.getMaxSlide()?this.$carouselNextButton.hide():this.$carouselNextButton.show())},o.prototype.slide=function(){var e=this;return function(){var t=r(this),n=t.data("dir"),o=e.widestItem;e.setCurrentSlide(n);var i=(e.currentSlide-1)*o;if(e.getMaxSlide()===e.currentSlide){i-=e.$carouselList.outerWidth()-o*e.displayCount}e.$carouselList.addClass("transition").css("transform","translateX("+-i+"px)"),e.toggleControls()}},o.prototype.initialize=function(){var e=this;s.enableScreenSizeWatching(function(){e.setItemWidth()}),e.setItemWidth(),e.toggleControls(),e.$carouselButton.on("click",e.slide())},t.exports.initCarousel=i,t.exports.init=a},{"./utils/breakpoints":116,jquery:"jquery"}],25:[function(e,t,n){function o(){this.galleryTitle="",this.currentSlide=null,this.pageSlide=null,this.pastEndOfSlides=!1,this.totalSlides=0,this.$currentRoadblockAdPlaceholder=null,this.$slides=null,this.$roadblockAdPlaceholders=null,this.$roadblockAd=null,this.autoScrolling=!1,this.windowMiddle=null,this.roadblockAdFrequency=3,this.desktopAdRefreshFrequency=3,this.nielsenCounter=0,this.disabled=!1}var i=e("jquery"),a=e("./ads/ad-refresh"),r=e("./utils/query-param-name"),s=e("./utils/breakpoints"),l=(e("./utils/debounce"),e("./utils/rate-limit")),c=e("./tracking/neilsen");e("lazysizes");o.prototype.parsePageParams=function(){var e=parseInt(r("page")||1);this.currentSlide=e,this.pageSlide=e},o.prototype.setPageElements=function(){this.galleryTitle=i("h1:first").html(),this.totalSlides=i(".gallery-slides").data("total"),this.$slides=i("main article.slide"),this.$roadblockAdPlaceholders=i("main .roadblock-ad-target"),this.$roadblockAd=i(".rhc-container .mobile-roadblock-ad")},o.prototype.setWindowProperties=function(){this.windowMiddle=window.innerHeight/2},o.prototype.listenForAdsRendered=function(){var e=this;window.ads_api=window.ads_api||{},window.ads_api.rendered=window.ads_api.rendered||[],window.ads_api.rendered.push(function(){s.isNotDesktop()&&e.repositionRoadblockAd()})},o.prototype.listenForSlideLoad=function(){var e=this;i(".gallery-page .slides-deferred").on("block.loadend",function(t){e.setPageElements()})},o.prototype.scrollToSelectedSlide=function(){var e=this;if(this.currentSlide>1){var t=i("#slide-"+this.currentSlide),n=t.find("figure");this.autoScrolling=!0,n.imagesLoaded().then(function(){e.scrollToSlide(t)})}},o.prototype.scrollToSlide=function(e,t,n){t=t||!1;var o=this,a=e.offset().top,r=i("nav.sticky-nav").outerHeight(),s=a-r-20,l=t?10:200,c=0;i("html, body").animate({scrollTop:s},l,function(){++c>=2&&(!1===t?o.scrollToSlide(e,!0,n):(o.autoScrolling=!1,void 0!==n&&n()))})},o.prototype.listenForScroll=function(){var e=this,t=l(this.handleSlideChange.bind(this),50),n=l(this.handleRoadblockAdChange.bind(this),200);i(window).scroll(function(){!1===e.disabled&&(t(),n())})},o.prototype.handleSlideChange=function(){if(!this.autoScrolling){var e=this.getMiddleSlide(),t=e.slide,n=e.isPastEndOfSlides;if(null!==t){var o=parseInt(t.data("slideId"));if(n&&(this.pastEndOfSlides=!0),o!==this.currentSlide){var i=window.location.origin+window.location.pathname;o>1&&(i+="?page="+o),history.replaceState(null,null,i),this.currentSlide=o,this.handlePageChange()}else this.pastEndOfSlides&&!n&&(this.pastEndOfSlides=!1,this.handlePageChange(!0))}}},o.prototype.getMiddleSlide=function(){var e=this,t=null,n=!1,o=i(window).scrollTop(),a=o+this.windowMiddle,r=this.$slides.length-1;return this.$slides.each(function(o,s){var l=i(s),c=l.offset().top,u=c+l.height();return c<a&&u>a||0===o&&a<c?(t=l,!1):o===r&&a>u?(t=l,r===e.totalSlides-1&&(n=!0),!1):void 0}),{slide:t,isPastEndOfSlides:n}},o.prototype.handleRoadblockAdChange=function(){this.updateRoadblockAdPosition()},o.prototype.updateRoadblockAdPosition=function(){if(!s.isDesktop()){var e=this.getMiddleRoadblockAdPlaceholder();null!==this.$currentRoadblockAdPlaceholder&&!1!==this.$currentRoadblockAdPlaceholder.is(e)||(this.$currentRoadblockAdPlaceholder=e,this.repositionRoadblockAd())}},o.prototype.getMiddleRoadblockAdPlaceholder=function(){var e=null,t=null,n=i(window).scrollTop(),o=n+this.windowMiddle;return this.$roadblockAdPlaceholders.each(function(n,a){var r=i(a),s=r.offset().top,l=s+r.height(),c=Math.min(Math.abs(o-s),Math.abs(o-l));(null===t||c<t)&&(t=c,e=r)}),e},o.prototype.repositionRoadblockAd=function(e){if(e=e||function(){},0===this.$roadblockAd.length)return void e();var t=this.$roadblockAd,n=this.$currentRoadblockAdPlaceholder,o=n.offsetParent().offset().top,i=n.offset().top-o,a=t.innerHeight(),r=t.outerWidth();a<100&&(a=250),r<100&&(r=300),n.css({height:a+"px"}),t.css({position:"absolute",top:i,left:0}),e()},o.prototype.handlePageChange=function(e){if(e=e||!1,this.pageSlide!==this.currentSlide||e){var t=this.pageSlide>this.currentSlide||e;this.pageSlide=this.currentSlide;this.mobileAdsNeedToBeRefreshed(t)&&(a.refreshMobileAds('.ad-m-mrec[data-ad-tar="pos=1"], .ad-m-banner[data-ad-tar="pos=1"]'),a.refreshTabletAds('.ad-m-mrec[data-ad-tar="pos=1"], .ad-m-banner[data-ad-tar="pos=1"]'));this.desktopAdsNeedToBeRefreshed(t)&&a.refreshDesktopAds('.ad-leader[data-ad-tar="pos=1"], .ad-billboard[data-ad-tar="pos=1"], .ad-halfpage[data-ad-tar="pos=1"]',!0),this.trackPageChange(this.pageSlide)}},o.prototype.mobileAdsNeedToBeRefreshed=function(e){return e?this.pageSlide%this.roadblockAdFrequency==1:this.pageSlide%this.roadblockAdFrequency==0},o.prototype.desktopAdsNeedToBeRefreshed=function(){return this.pageSlide%this.desktopAdRefreshFrequency==0},o.prototype.trackPageChange=function(e){window.utag_data.gallery_image_number=e,window.NLM.tealiumEvents.firePageViewNow({},!0),c.tracSlideEvent(this.galleryTitle.replace(/[^a-zA-Z0-9]/g,"-")+"-image-"+e),c.sdkOnPaginateEvent(++this.nielsenCounter),window.nca_ipsos=window.nca_ipsos||{},window.nca_ipsos.fireSpaBeacon=window.nca_ipsos.fireSpaBeacon||function(){},window.nca_ipsos.fireSpaBeacon()},o.prototype.disable=function(){this.disabled=!0},o.prototype.init=function(){this.parsePageParams(),this.setPageElements(),this.setWindowProperties(),s.enableScreenSizeWatching(l(this.setWindowProperties.bind(this))),this.roadblockAdFrequency=this.$roadblockAd.data("adFrequency")||this.roadblockAdFrequency,this.updateRoadblockAdPosition(),this.listenForAdsRendered(),this.listenForSlideLoad(),this.scrollToSelectedSlide(),this.listenForScroll()};var u;t.exports.init=function(){u=new o,u.init()},t.exports.disable=function(){u&&u.disable()}},{"./ads/ad-refresh":7,"./tracking/neilsen":111,"./utils/breakpoints":116,"./utils/debounce":120,"./utils/query-param-name":132,"./utils/rate-limit":134,jquery:"jquery",lazysizes:"lazysizes"}],26:[function(e,t,n){function o(){this.settings={containerId:"news-gigya-competition",loginBoxSelector:"#gigya-competition-login-box",gigyaCommentsCategoryId:"Competitions",rowErrorClass:"has-error",formCheckboxRowClass:".gigya-composite-control-checkbox",formInputRowClass:".gigya-composite-control"},this.articleId=null,this.competitionId=null,this.entryDataStore=null,this.init=function(e){e=e||{},this.settings=i.extend(this.settings,e),this.setAssetIds(),this.entryDataStore=a.getCompetitionEntryStorage(this.articleId),this.initEvents()},this.initEvents=function(){var e=this;gigya.accounts.addEventHandlers({onLogout:function(e){window.location.reload(!0)}});var t=NewsGigya.ifLoggedInCurried(function(){e.initializeCompetitionScreenSet()});i(document).on("session.registered session.terminated",t),t()},this.processFormInputsBeforeDisplay=function(){var e=this;i("#"+e.settings.containerId+" form").find(":input").each(function(){var t=i(this);t.attr("name")?i(this).is(":checkbox")&&i(this).is(":checked")&&t.closest(e.settings.formCheckboxRowClass).hide():t.attr("name","competition[]")})},this.setAssetIds=function(){var e=i("#"+this.settings.containerId+" > div.gigya-competition-block");this.articleId=e.data("articleid"),this.competitionId=e.data("competitionid")},this.loadCompetitionTemplate=function(){var e="",t=this;gigya.accounts.showScreenSet({screenSet:this.competitionId,onAfterScreenLoad:function(e){t.processFormInputsBeforeDisplay()},onBeforeSubmit:function(n){var o=i("#"+t.settings.containerId+" ."+t.settings.rowErrorClass);e="";var a=!1;if(o.removeClass(t.settings.rowErrorClass),i("#"+t.settings.containerId+" form").find(":input:visible").each(function(){var n=i(this),o=i(this).attr("name");if("submit"===n.attr("type"))return!0;if(n.is(":checkbox"))0!==o.lastIndexOf("terms and conditions",0)&&!1===n.is(":checked")&&(n.closest(t.settings.formCheckboxRowClass).addClass(t.settings.rowErrorClass),a=!0);else if(0===n.val().length)n.closest(t.settings.formInputRowClass).addClass(t.settings.rowErrorClass),a=!0;else if("competition[]"===o){var r=n.parent().find("label.gigya-label").text()+"\n"||"";e+=r+n.val()+" "}}),a)return!1},onAfterSubmit:function(){t.submitCompetitionEntry(e)},containerID:t.settings.containerId})},this.submitCompetitionEntry=function(e){e&&0!==e.length||(e="Game of chance"),this.entryDataStore.save({fapiId:this.articleId,entry:e,created:Math.round(Date.now()/1e3)}),i("#"+this.settings.containerId).html("Thank you for entering and good luck!")},this.initializeCompetitionScreenSet=function(){var e=this;this.entryDataStore.load(function(t){null!=t?i("#"+e.settings.containerId).addClass("text-center").html("You already have entered this competition"):(i(e.settings.loginBoxSelector).hide(),e.loadCompetitionTemplate())})}}var i=e("jquery"),a=e("./members/data-store");t.exports.init=function(e){(new o).init(e)}},{"./members/data-store":42,jquery:"jquery"}],27:[function(e,t,n){function o(){}var i=e("../members/data-store/expiring-local-storage"),a={shoppingList:{$icon:$(".action-icons > a.shopping-cart > span.icon"),localStorageKey:"shopping_list:has_items",expires:!1},cookbook:{$icon:$(".action-icons > a.heart > span.icon"),localStorageKey:"cookbook:has_items",expires:!0}},r=new i(7200);o.prototype.init=function(){this.registerHooksAndEventListeners(),this.toggleShoppingListIcon(),this.toggleCookbookIcon()},o.prototype.registerHooksAndEventListeners=function(){var e=this;$(document).on("localSessionStorage.sessionResetSuccessful",function(){e.updateShoppingListHasItems(!1),e.updateCookbookHasItems(!1)}),$(document).on("cookbook.saved",function(t,n){n&&"boolean"==typeof n.hasItems&&e.updateCookbookHasItems(n.hasItems)}),$(document).on("session.terminated",function(){e.updateCookbookHasItems(!1)})},o.prototype._updateHasItems=function(e,t){var n=e.localStorageKey,o=!0===t?"true":"false";e.expires?r.save(n,o):window.localStorage.setItem(n,o),this._toggleIcon(e)},o.prototype._toggleIcon=function(e){var t,n=e.localStorageKey;t=e.expires?r.load(n):window.localStorage.getItem(e.localStorageKey),"true"===t?e.$icon.addClass("has-items"):e.$icon.removeClass("has-items")},o.prototype.updateShoppingListHasItems=function(e){this._updateHasItems(a.shoppingList,e)},o.prototype.toggleShoppingListIcon=function(){this._toggleIcon(a.shoppingList)},o.prototype.updateCookbookHasItems=function(e){this._updateHasItems(a.cookbook,e)},o.prototype.toggleCookbookIcon=function(){this._toggleIcon(a.cookbook)},t.exports=new o},{"../members/data-store/expiring-local-storage":43}],28:[function(e,t,n){var o=e("jquery"),i=e("./horizontal-highlights").HorizontalHighlights;t.exports.init=function(){o("body.home .highlight-deferred").each(function(){var e,t=o(this);t.one("block.loadend",function(){e=t.find(".horizontal-highlights"),0!==e.length&&(new i(e).init(),e.trigger("block.loadend"))})})}},{"./horizontal-highlights":29,jquery:"jquery"}],29:[function(e,t,n){function o(e){this.$container=e}var i=e("jquery"),a=e("hammerjs"),r={LEFT:0,RIGHT:1};o.prototype.init=function(){var e=this;this.transitionCounter=0,this.transitioning=!1,this.$container.on("block.loadstart",function(){e.$container.addClass("loading")}),this.$container.on("block.loadend",function(){e.$container.removeClass("loading"),e.$prev=e.$container.find("button.prev"),e.$next=e.$container.find("button.next"),e.$prev.click(e.prev.bind(e)),e.$next.click(e.next.bind(e)),e.$list=e.$container.find(".list-items ol"),e.$sledge=new a(e.$list[0],{direction:a.DIRECTION_HORIZONTAL,threshold:5,velocity:.5}),e.$sledge.on("swiperight",e.next.bind(e)),e.$sledge.on("swipeleft",e.prev.bind(e))}),i(window).on("resize orientationChange",function(){e.transitionCounter=0,e.transitioning=!1})},o.prototype.hasTransitions=function(){var e=document.body||document.documentElement,t=e.style;return"transition"in t||"WebkitTransition"in t||"MozTransition"in t||"msTransition"in t||"OTransition"in t},o.prototype.shiftList=function(e){var t=this;if(!(t.transitioning||t.transitionCounter>0)){t.transitioning=!0;var n=t.$list.find("li").length;t.$list.on("item.transitioned",function(){++t.transitionCounter===n&&(t.$list.trigger("list.transitioned"),t.transitionCounter=0)});var o,a,s;t.$list.find("li").each(function(){o=i(this),a=parseInt(o.attr("data-current-index"),10),e===r.RIGHT?(s=a-1)<=0&&(s=n):(s=a+1)>n&&(s=1),1!==s&&s!==n||o.addClass("no-transition"),o.attr("data-current-index",s),t.hasTransitions()&&!o.hasClass("no-transition")?o.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){t.$list.trigger("item.transitioned")}):t.$list.trigger("item.transitioned")}),t.$list.one("list.transitioned",function(){t.$list.find("li.no-transition").removeClass("no-transition"),t.transitioning=!1})}},o.prototype.prev=function(){this.shiftList(r.LEFT)},o.prototype.next=function(){this.shiftList(r.RIGHT)},t.exports={init:function(){i(".horizontal-highlights").each(function(){new o(i(this)).init()})},HorizontalHighlights:o}},{hammerjs:"hammerjs",jquery:"jquery"}],30:[function(e,t,n){function o(e){var t="string"==typeof e?i(e):e;const n=function(){t.off(r,n),t.find("li").removeClass("hidden-xs hidden-sm"),t.find("div").removeClass("hidden-xs hidden-sm")};t.on(r,n)}const i=e("jquery"),a=e("./utils/breakpoints"),r="wheel mousedown touchstart touchmove";t.exports.attach=o,t.exports.init=function(){(a.isPhone()||a.isTablet())&&o(i(".horizontal-slider .slider-items"))}},{"./utils/breakpoints":116,jquery:"jquery"}],31:[function(e,t,n){var o=(e("./shim"),e("./controllers/taboolaController")),i=(e("./jquery-extensions/images-loaded"),e("./utils/is-page")),a=e("./utils/breakpoints"),r=e("./utils/remove-by-breakpoints"),s=e("./collapsible-text-box"),l=e("./ads/mobile"),c=e("./dropdown"),u=e("./carousel"),d=e("./progressive-loader"),p=e("./members/screensets"),f=e("./members/navigation-ui"),m=e("./horizontal-highlights"),h=e("./horizontal-highlights-homepage"),b=e("./ads/top-picks-section-homepage"),g=e("./save-menu-plan"),v=e("./save-recipe-to-cookbook"),k=e("./members/page-factory"),y=e("./non-members/page-factory"),w=e("./members/members-profile"),C=e("./adaptive/adaptive-vertical-sub-menu"),_=e("./ads/rhc-sticky-ads"),x=e("./ads/ad-positioning"),S=e("./ads/mobile-ad-position-hooks.js"),I=e("./adaptive/mobile-positioning"),E=e("./menu-ingredient-list"),T=e("./social-share-bar"),A=e("./menu-notes"),j=e("./dropzone"),L=e("./tracking/search-results-event-tracking"),N=e("./you-might-like"),q=e("./range-input"),M=e("./menu-planner"),P=e("./menu-planner-results"),D=e("./gallery-vertical"),R=e("./non-members-nav"),O=e("./shopping-list"),B=e("./onboarding/onboarding"),G=e("./s-object-tracking"),F=e("./search/search-to-lower"),H=e("./gigya-competition"),U=e("./tealium"),W=e("./newsletter-signup"),z=e("./query-actions"),V=e("./member-only-content"),Y=e("./pages/recipe-page"),K=e("./pages/article-page"),J=e("../../../../vendor/news/backlinking/src/News/Bundle/BacklinkingBundle/Resources/es6/backlink"),Q=e("./utils/router"),Z=e("./horizontal-sliders"),X=e("./flex-carousel"),ee=e("./filters"),te=e("./pages/dinner-ideas"),ne=e("./utils/scroll-to"),oe=e("./tabs"),ie=e("./helpers/nav-icon"),ae=e("./metered-content/vidora-prediction-api");window.App={},App.init=function(){r.init(),s.init(),u.init(),d.init(),p.init(),f.init(),w.init(),m.init(),h.init(),E.init(),T.init(),j.init(),N.init(),q.init(),G.init(),F.init(),W.init(),z.init(),Z.init(),ie.init();var e=window.meteredContent.vidora_member_wall_projects_id;window.vidoraPredictionAPI=ae(e),window.vidoraPredictionAPI.init(),window.vidoraPredictionAPI.ready(function(e){e.sendPageViewWithTealiumData(window.utag_data)});var t=i("article-page"),n=i("recipe-page");if(i("home")&&b.init(),n&&Y.init(),(i("menu-page")||i("user-plan"))&&g.init(),t&&K.init(),i("members-area")){var U=k.getPage();void 0!==U&&null!=U&&U.init()}else if(i("non-members-area")){var re=y.getPage();void 0!==re&&null!=re&&re.init(),R.init()}if(i("gallery-page")&&D.init(),i("search-results")&&(C.init(),L.init()),c.init(),_.init(),i("search-results")&&x.init({postDesktop:S.postDesktop,preMobile:S.preMobile}),i("standard-content-lists")&&x.init(),i("christmas-menu-planner")&&x.init(),a.isDesktop()||(l.init(),I.init()),i("menu-page")&&A.init(),i("menu-plan-page")&&(M.init(),P.init()),i("non-members-area")||O.init(),o.init(),B.init(),t&&H.init(),n||t){var se=new J;se.init(Q.generate(se.routeToGenerateTheBacklinks))}(n||t||i("menu-page")||i("gallery-page"))&&V.init(),i("videos")&&x.init(),X.init(),ee.init(),i("dinner-ideas")&&te.init(),ne.init(),v.allPageInit(),oe.init(),$(".scroll-to").on("click",function(e){e.preventDefault();var t=$(this).data("scrollto");t.trim().length&&$(t).length>0&&$("html, body").animate({scrollTop:$(t).offset().top},1500)}),$("body").on("click",".close-active-gigya-modal",function(e){e.preventDefault(),window.NewsGigya.hideActiveScreenSet()})},App.beforeReady=function(){U.init()}},{"../../../../vendor/news/backlinking/src/News/Bundle/BacklinkingBundle/Resources/es6/backlink":147,"./adaptive/adaptive-vertical-sub-menu":3,"./adaptive/mobile-positioning":4,"./ads/ad-positioning":6,"./ads/mobile":9,"./ads/mobile-ad-position-hooks.js":8,"./ads/rhc-sticky-ads":10,"./ads/top-picks-section-homepage":12,"./carousel":15,"./collapsible-text-box":16,"./controllers/taboolaController":20,"./dropdown":21,"./dropzone":22,"./filters":23,"./flex-carousel":24,"./gallery-vertical":25,"./gigya-competition":26,"./helpers/nav-icon":27,"./horizontal-highlights":29,"./horizontal-highlights-homepage":28,"./horizontal-sliders":30,"./jquery-extensions/images-loaded":32,"./member-only-content":34,"./members/members-profile":45,"./members/navigation-ui":46,"./members/page-factory":47,"./members/screensets":56,"./menu-ingredient-list":61,"./menu-notes":62,"./menu-planner":64,"./menu-planner-results":63,"./metered-content/vidora-prediction-api":69,"./newsletter-signup":84,"./non-members-nav":85,"./non-members/page-factory":87,"./onboarding/onboarding":90,"./pages/article-page":91,"./pages/dinner-ideas":92,"./pages/recipe-page":93,"./progressive-loader":94,"./query-actions":95,"./range-input":96,"./s-object-tracking":101,"./save-menu-plan":102,"./save-recipe-to-cookbook":103,"./search/search-to-lower":104,"./shim":105,"./shopping-list":106,"./social-share-bar":107,"./tabs":108,"./tealium":109,"./tracking/search-results-event-tracking":112,"./utils/breakpoints":116,"./utils/is-page":127,"./utils/remove-by-breakpoints":135,"./utils/router":136,"./utils/scroll-to":137,"./you-might-like":142}],32:[function(e,t,n){var o=e("jquery");o.fn.imagesLoaded=function(){var e=this.find('img[src!=""]');if(!e.length)return o.Deferred().resolve().promise();var t=[];return e.each(function(){var e=o.Deferred();t.push(e);var n=new Image;n.onload=function(){e.resolve()},n.onerror=function(){e.resolve()},n.src=this.src}),o.when.apply(o,t)}},{jquery:"jquery"}],33:[function(e,t,n){function o(e){var t=d.load(c);return!!t&&(t.forEach(function(n,o){e===n&&t.splice(o,1)}),d.save(c,t))}function i(e){var t=d.load(c);t||(t=[],s(u)),-1==t.indexOf(e)&&(t.push(e),d.save(c,t))}function a(){d.remove(l)}function r(){d.load(l)<Date.now()&&(a(),(d.load(c)||[]).forEach(function(e,t){d.remove(e),$(document).trigger("localSessionStorage.removedKey",[{key:e}])}),d.remove(c),$(document).trigger("localSessionStorage.sessionResetSuccessful"))}function s(e){var t=Date.now()+1e3*e;d.save(l,t)}e("../../../../vendor/news/gigya/src/News/Bundle/GigyaBundle/Resources/js/storage/local-storage");var l="nlm_ktset",c="nlm_ktstkte",u=172800,d=NewsGigya.LocalStorage;t.exports={load:function(e,t){r();var n=d.load(e.key);return t(n||[]),n},save:function(e,t){return i(e.key),d.save(e.key,e.data),t(e.data),e.data},remove:function(e){var t=d.remove(e);return o(e),t}}},{"../../../../vendor/news/gigya/src/News/Bundle/GigyaBundle/Resources/js/storage/local-storage":154}],34:[function(e,t,n){function o(){if(!p){p=!0;var e=i();e&&(r(e.selector,a(),e.desktopHeight||null,e.mobileHeight||null),"function"==typeof e.cleanUp&&e.cleanUp(),NewsGigya.on("session.registered",function(){window.location.reload()}))}}function i(){for(var e=0;e<u.length;e++){var t=u[e];if(l(t.pageClass))return t}return null}function a(){return'<div class="member-only-overlay"><div class="mo-bg"><div class="bg-transparent"></div><div class="bg-opaque"></div></div><div class="mo-content"><h4>Exclusive content</h4><p>This content is available to taste.com.au members only.</p><p>Become a member for <b>FREE</b> in just a few clicks. You\'ll get access to exclusive meal plans, recipes and giveaways. Plus you\'ll be able to save recipes you love to personalised cookbooks.</p><button class="login blue-button">Log In</button><button class="register blue-button">Register</button><p class="trouble">Trouble logging in? Email us at <a href="mailto:contactus@taste.com.au">contactus@taste.com.au</a></p></div></div>'}function r(e,t,n,o){var i=breakpoints.isPhone()?o||660:n||660,a=s(e);a.find(d).remove(),a.css({height:i,overflow:"hidden",position:"relative"}),a.append(t),a.find(".login").on("click",function(){NewsGigya.showLogin(new CustomEvent("click"))}),a.find(".register").on("click",function(){NewsGigya.showRegister(new CustomEvent("click"))}),a.find(".social-login").on("click",function(){gigya.socialize.login({provider:s(this).data("social-provider")})})}var s=e("jquery"),l=e("./utils/is-page"),c=e("./gallery-vertical"),u=[{pageClass:"article-page",selector:"section.article-body"},{pageClass:"menu-page",selector:".article-content"},{pageClass:"recipe-page",selector:".tabs-container"},{pageClass:"gallery-page",selector:".gallery-content",desktopHeight:1200,mobileHeight:1e3,cleanUp:function(){c.disable()}}],d="figure.news-video,.ad-block,.roadblock-ad-target,.slides-deferred,#slide-3",p=!1;t.exports.replaceContent=r,t.exports.init=function(){l("member-only")&&NewsGigya.ifLoggedIn(function(){},o)}},{"./gallery-vertical":25,"./utils/is-page":127,jquery:"jquery"}],35:[function(e,t,n){var o=e("../../confirmation-dialog"),i=e("../data-store");t.exports=function(e,t){var n=e.find("slug",t);if(!n)throw"Cookbook not found: "+t;o("Delete cookbook","Are you sure you wish to delete this cookbook?","delete",function(){i.getCookbookStorage(t).delete(function(t){t&&e.removeModel(n)})}).open()}},{"../../confirmation-dialog":18,"../data-store":42}],36:[function(e,t,n){var o=e("../../../dist/templates"),i=e("../../confirmation-dialog"),a=e("../data-store");t.exports=function(e,t){var n=e.find("slug",t);if(!n)throw"Cookbook not found: "+t;i("Rename cookbook",o.hb.cookbook_rename_form.render({name:n.get("name")}),"save",function(e,o){var i=o.find('form[name="cookbook-rename"]'),r=i.find("input#cookbook-name"),s=r.val(),l=s.trim();return l?l.length<1?void i.addClass("error"):void(l!==n.get("name")&&a.getCookbookStorage(t).save({name:l},function(e){e&&n.set("name",s)})):(i.addClass("error"),!1)}).open()}},{"../../../dist/templates":2,"../../confirmation-dialog":18,"../data-store":42}],37:[function(e,t,n){function o(e,t){var n=i.hb.welcome.render({username:t.data.taste.username,thumbnail:t.profile.thumbnailURL});e.find("header.welcome").html(n)}var i=e("../../../dist/templates.js");t.exports.init=o},{"../../../dist/templates.js":2}],38:[function(e,t,n){var o=e("jquery"),i=e("../../utils/click-out");t.exports.init=function(e,t){var n=o(e);n.each(function(){var e=o(this),a=e.find(".icon-cog"),r=e.find(".controls");a.click(function(){var t=e.hasClass("active");n.removeClass("active"),t||e.addClass("active")}),a.click(i(function(){return e.hasClass("active")},function(){n.removeClass("active")})),o.each(t,function(e,t){var n=r.find('[data-control-action="'+t.action+'"]');n.length>0&&n.click(t.handler)})})}},{"../../utils/click-out":117,jquery:"jquery"}],39:[function(e,t,n){var o=e("../../confirmation-dialog"),i=e("../data-store");t.exports=function(e,t){var n=e.find("id",t);if(!n)throw"Menu plan not found: "+t;o("Delete menu plan","Are you sure you wish to delete this menu plan?","delete",function(){i.getMenuPlanStorage(t).delete(function(t){t&&e.removeModel(n)})}).open()}},{"../../confirmation-dialog":18,"../data-store":42}],40:[function(e,t,n){var o=e("../../../dist/templates"),i=e("../../confirmation-dialog"),a=e("../data-store");t.exports=function(e,t){var n=e.find("id",t);if(!n)throw"Menu plan not found: "+t;i("Rename menu plan",o.hb.menu_plan_rename_form.render({name:n.get("title")}),"save",function(e,o){var i=o.find('form[name="menu-rename"]'),r=i.find("input#menu-name"),s=r.val().trim();return s?s.length<1?void i.addClass("error"):void(s!==n.get("title")&&a.getMenuPlanStorage(t).save({title:s},function(e){e&&n.set("title",s)})):(i.addClass("error"),!1)}).open()}},{"../../../dist/templates":2,"../../confirmation-dialog":18,"../data-store":42}],41:[function(e,t,n){function o(e,t,n,o,i,a){var r=t.serialize().slice(0,10),s=e.find('.menu ul li[data-section="'+n+'"]');r.length>0?(s.find("ul").remove(),s.append(c.hb.menu_items_list.render({ulCssClass:o,menuItems:r,menuItemUrl:i,idProperty:function(){
return"id"===a?this.id:this.slug}})),s.addClass("opened")):s.addClass("no-items")}function i(){return l.generate("members_single_cookbook",{slug:this.slug})}function a(e,t){o(e,t,"cookbooks","cookbooks-list",i)}function r(){return this.url?this.url:l.generate("members_single_menu_plan",{id:this.id})}function s(e,t){o(e,t,"menu-plans","menu-plans-list",r,"id")}var l=e("../../utils/router"),c=e("../../../dist/templates");t.exports.init=function(e,t,n){$(t).on("collection.add collection.remove",function(){a(e,t)}),t.each(function(n,o){$(o).on("change.name",function(){a(e,t)})}),$(n).on("collection.add collection.remove",function(){s(e,n)}),n.each(function(t,o){$(o).on("change.title",function(){s(e,n)})}),a(e,t),s(e,n)}},{"../../../dist/templates":2,"../../utils/router":136}],42:[function(e,t,n){function o(e,t,n){return function(){return e=e+":"+n,NewsGigya.makeStorage(NewsGigya.SoftStorage,NewsGigya.GigyaDataStore,e,{type:t,oid:n})}}function i(e,t,n){return function(){var o=y.generate(t),i=new NewsGigya.ReadOnlyRemoteStorage(o);return n=n||NewsGigya.SoftStorage,NewsGigya.makeStorage(n,i,e,{})}}function a(e,t,n){return function(){return e=e+":"+n,NewsGigya.makeRemovableStorage(NewsGigya.SoftStorage,w,e,{key:e})}}function r(e){var t="news:local:cookbookList:"+e;return NewsGigya.makeRemovableStorage(NewsGigya.SoftStorage,w,t,{key:t})}function s(e){var t="news:gigya:cookbook:"+e,n={type:"tasteCookbook",oid:e},o=NewsGigya.makeRemovableStorage(NewsGigya.SoftStorage,NewsGigya.GigyaDataStore,t,n);return k(o).on("storage.save storage.delete",function(){g("cookbookList").reset()}),k(o).on("storage.delete",function(){l(e,1)}),o}function l(e,t){u(e,t).load(function(n){if(n&&void 0!==n.data){k.each(n.data,function(t,n){c(e,n.id).delete()});var o=n.pagination;o.currentPage*o.pageSize<o.total&&l(e,t+1)}})}function c(e,t){var n=e+"_"+t,o="news:gigya:cookbookItem:"+n,i={type:"tasteCookbookItem",oid:n};return NewsGigya.makeRemovableStorage(NewsGigya.SoftStorage,NewsGigya.GigyaDataStore,o,i)}function u(e,t){t||(t=1);var n=y.generate("members_get_cookbook_items",{slug:e}),o=new NewsGigya.ReadOnlyRemoteStorage(n),i="news:gigya:cookbookItems:"+e+":"+t,a={page:t};return NewsGigya.makeStorage(NewsGigya.SoftStorage,o,i,a)}function d(e,t){var n=y.generate("search_similar",{contentType:"recipes",id:e}),o=new NewsGigya.ReadOnlyRemoteStorage(n),i={q:t};return NewsGigya.makeStorage(NewsGigya.SoftStorage,o,"news:gigya:searchSimilar",i)}function p(e,t){t||(t=1);var n=y.generate("members_search_all_cookbooks"),o=new NewsGigya.ReadOnlyRemoteStorage(n),i="news:gigya:cookbookList:"+e+":"+t,a={page:t,searchToken:e};return NewsGigya.makeStorage(NewsGigya.SoftStorage,o,i,a)}function f(e){var t="news:gigya:menuPlan:"+e,n={type:"tasteMenuPlan",oid:e},o=NewsGigya.makeRemovableStorage(NewsGigya.SoftStorage,NewsGigya.GigyaDataStore,t,n);return k(o).on("storage.save storage.delete",function(){g("menuPlanList").reset()}),k(o).on("storage.delete",function(){h(e).load(function(t){k.each(t,function(t,n){m(e,n.id).delete()})})}),o}function m(e,t){var n=e+"_"+t,o="news:gigya:menuPlanItem:"+n,i={type:"tasteMenuPlanItem",oid:n};return NewsGigya.makeRemovableStorage(NewsGigya.SoftStorage,NewsGigya.GigyaDataStore,o,i)}function h(e){var t=y.generate("members_get_menu_plan_items",{id:e}),n=new NewsGigya.ReadOnlyRemoteStorage(t),o="news:gigya:menuPlanItems:"+e,i={};return NewsGigya.makeStorage(NewsGigya.SoftStorage,n,o,i)}function b(e){var t="news:gigya:competition:"+e,n={type:"tasteCompetition",oid:e};return NewsGigya.makeStorage(NewsGigya.SoftStorage,NewsGigya.GigyaDataStore,t,n)}function g(e){return x.hasOwnProperty(e)?(C[e]||(C[e]=x[e]()),C[e]):null}var v=e("./data-store/expiring-local-storage"),k=e("jquery"),y=e("../utils/router"),w=e("../local-session-storage"),C={},_=new v(3600),x={latestSearchQueries:o("news:gigya:latestSearchQuery","tasteLatestSearchQueries","latest_search_queries"),shoppingList:o("news:gigya:shoppingList","tasteShoppingList","main_shopping_list"),myShoppingList:o("news:gigya:shoppingList","tasteShoppingList","user_custom_shopping_list"),cookbookList:i("news:gigya:cookbookList","members_get_all_cookbooks"),recentlySaved:i("news:gigya:recentlySaved","members_get_recently_saved_recipes"),sponsoredCookbooks:i("news:sponsored:cookbooks","sponsored_collections",_),menuPlanList:i("news:gigya:menuPlanList","members_get_all_menu_plans"),nonMemberShoppingList:a("news:gigya:shoppingList","tasteShoppingList","non_member_main_shopping_list"),nonMemberMyShoppingList:a("news:gigya:shoppingList","tasteShoppingList","non_member_user_custom_shopping_list"),nonMemberCookbookList:function(e,t,n){return function(){return e=e+":"+n,NewsGigya.makeRemovableStorage(NewsGigya.SoftStorage,w,e,{key:e})}}("news:local:cookbookList","tasteCookbookList","non_member_cookbook_list")};t.exports={storage:g,getLocalCookbookStorage:r,getCookbookStorage:s,getCookbookItemStorage:c,getCookbookItemsStorage:u,getSearchSimilarStorage:d,getMenuPlanStorage:f,getMenuPlanItemStorage:m,getMenuPlanItemsStorage:h,getCompetitionEntryStorage:b,searchCookbooksForRecipe:p}},{"../local-session-storage":33,"../utils/router":136,"./data-store/expiring-local-storage":43,jquery:"jquery"}],43:[function(e,t,n){function o(e){this.load=function(e){var t=JSON.parse(window.localStorage.getItem(e)),n=Math.floor(Date.now()/1e3);return t&&t.expiry?t.expiry>n?t.data:(this.remove(e),null):null},this.save=function(t,n){var o={data:n,expiry:Math.floor(Date.now()/1e3)+e};return window.localStorage.setItem(t,JSON.stringify(o))},this.remove=function(e){return window.localStorage.removeItem(e)}}t.exports=o},{}],44:[function(e,t,n){function o(e,t,n){function o(){h&&(h=!1,window.location=a.generate("homepage"))}function d(){void 0!==t&&t&&t.init(b),b.find(".not-logged-in").addClass("show")}function p(t){h||(h=!0,i.when(m(u.storage("cookbookList").load),m(u.storage("sponsoredCookbooks").load),m(u.storage("menuPlanList").load)).then(function(o,i,a){o||(o=[]),a||(a=[]);var u=new l(o,i),d=new c(a);r.init(b,u,d),s.init(b,t),e.init(b,{cookbooks:u,menuPlans:d,accountInfo:t,pageName:n}),b.find(".not-logged-in").removeClass("show"),b.find(".container").addClass("authenticated")}))}function f(){h||NewsGigya.showLogin(new CustomEvent("click"))}function m(e){var t=i.Deferred();return e(function(e){t.resolve(e)}),t.promise()}var h=!1,b=i(".page-main-content"),g=NewsGigya.ifLoggedInCurried(p,function(){d(),f()});this.init=function(){NewsGigya.on("session.registered",g),NewsGigya.on("session.terminated",o),g()},this.getContainer=function(){return b}}var i=e("jquery"),a=e("../utils/router"),r=e("./components/sidebar"),s=e("./components/header"),l=e("../models/cookbook-list"),c=e("../models/menu-plan-list"),u=e("./data-store");t.exports=o},{"../models/cookbook-list":73,"../models/menu-plan-list":76,"../utils/router":136,"./components/header":37,"./components/sidebar":41,"./data-store":42,jquery:"jquery"}],45:[function(e,t,n){function o(){NewsGigya.ifLoggedIn(function(e){var t=i(".gigya-screen-update-subscription"),n={email:e.profile.email};NewsGigya.ajaxCallWhenLoggedIn(t.data("subscription-link"),n,function(e){t.attr("href",e.url)})})}var i=e("jquery");t.exports.init=function(){i(document).on("screenset.opened",function(e,t){"update-profile"===t.currentScreen&&o()})}},{jquery:"jquery"}],46:[function(e,t,n){function o(e,t){var n=m.hb.user_icon.render({username:t,thumbnailURL:e});p.each(function(e,t){var o=f(t);o.html(n),o.addClass("has-thumbnail")})}function i(){r(!0)}function a(){r(!1)}function r(e){var t=!0===e,n=f("a.my-account.desktop.action").children().first();n&&n.length>0&&(t?n.addClass("selected"):n.removeClass("selected"))}function s(e){var t=e.data.taste.username;e.profile.thumbnailURL?o(e.profile.thumbnailURL,t):p.removeClass("icon").removeClass("user").html("<span class='alphabet-icon'><span class='alphabet'>"+t[0].toUpperCase()+"</span></span>"),p.each(function(e,t){f(t).removeAttr("data-member-function")});var n=m.hb.member_box.render({username:t,routes:{dashboard:h.generate("members"),cookbooks:h.generate("members_cookbooks"),menu_plans:h.generate("members_menu_plans"),shopping_lists:h.generate("members_shopping_lists"),sampling:h.generate("members_sampling")}});c.addClass("logged-in").find("div.logged-in").html(n),d=f("a.user-name.dropdown-toggle"),d.on("dropdown.opened",i),d.on("dropdown.closed",a)}function l(){c.removeClass("logged-in").find("div.logged-in").html(""),d.off("dropdown.opened",i),d.off("dropdown.closed",a),c.find("a.my-account.action").each(function(e,t){f(t).html('<span class="icon padded user"></span>')}),p.each(function(e,t){f(t).attr("data-member-function","login")})}var c,u,d,p,f=e("jquery"),m=e("../../dist/templates.js"),h=e("../utils/router");t.exports.init=function(){c=f(".user-controls"),u=c.find(".action-icons"),d=f("a.user-name.dropdown-toggle"),p=c.find("a.my-account.action");var e=NewsGigya.ifLoggedInCurried(s,l);f(document).on("session.registered session.terminated",e),e()}},{"../../dist/templates.js":2,"../utils/router":136,jquery:"jquery"}],47:[function(e,t,n){var o=e("../utils/is-page"),i=e("./members-page"),a={"members-cookbooks":{loggedIn:e("./pages/cookbooks")},"members-cookbooks-search":{loggedIn:e("./pages/cookbooks-search")},"members-dashboard":{loggedIn:e("./pages/dashboard")},"members-cookbook":{loggedIn:e("./pages/cookbook")},"members-sampling":{loggedIn:e("./pages/sampling"),login:e("./pages/sampling-login")},"members-menu-plans":{loggedIn:e("./pages/menu-plans")},"members-menu-plan":{loggedIn:e("./pages/menu-plan")}};t.exports.getPage=function(){for(var e in a)if(o(e))return new i(a[e].loggedIn,a[e].login,e)}},{"../utils/is-page":127,"./members-page":44,"./pages/cookbook":48,"./pages/cookbooks":50,"./pages/cookbooks-search":49,"./pages/dashboard":51,"./pages/menu-plan":52,"./pages/menu-plans":53,"./pages/sampling":55,"./pages/sampling-login":54}],48:[function(e,t,n){function o(){return window.location.pathname.substr(window.location.pathname.lastIndexOf("/")+1)}function i(e,t){var n,i=t.cookbooks;c(i).on("collection.remove",function(){window.setTimeout(function(){window.location.href=C},1e3)});var a=o(),l=i.find("slug",a);if(!l)return void r(e,i);b.getCookbookItemsStorage(a,k("page")).load(function(o){if(o){l&&c.each(o.data,function(e,t){l.addRecipe(t)});var a;i.each(function(t,o){c(o).on("change.name",function(t,n){e.find(".my-single-cookbook > h2").text(n.newValue)}),a=o.get("recipes"),c(a).on("collection.remove",function(t,o){n.find('[data-item-id="'+o.oldItem.get("id")+'"]').remove();var i=parseInt(e.find("h3 .count").html());e.find("h3 .count").text(i-1)})}),r(e,i,o.pagination),l.get("editable")&&(n=c(".my-single-cookbook .cookbook-items"),n.after(o.pagination.rendered));e.find(".icon-email").on("click",function(){s(i,t.accountInfo)})}})}function a(e,t){f("Delete recipe","Are you sure you wish to delete this recipe from your cookbook?","delete",function(){var n=c(e.currentTarget),i=n.parents("[data-item-id]").data("itemId"),a=t.find("slug",o()),r=a.get("recipes").find("id",i);if(!r)throw"Recipe not found in cookbook: "+i;b.getCookbookItemStorage(a.get("slug"),i).delete(function(e){e&&a.get("recipes").removeModel(r)})}).open()}function r(e,t,n){var i=o(),r=t.find("slug",i),s=!1;r&&r.get("editable")&&(s=[{text:"delete",action:"delete",handler:function(e){a(e,t)}}]);var l=u.hb.single_cookbook.render({name:r?r.get("name"):"",recipes:r?r.get("recipes").serialize():[],editable:!!r&&r.get("editable"),cssClass:r?r.get("cssClass"):"",recipe:function(){var e=this,t=e.slug;return 0===t.length&&(t="[blank]"),h.render({id:e.id,title:e.title,url:d.generate("recipes",{id:e.id,slug:t}),image:e.image,srcSet:e.srcSet,controls:s,rating:e.rating})},recipesCollectionsUrl:w,numberItems:r?r.get("sponsored")?r.get("recipes").serialize().length:n.total:null}),c=e.find(".member-content");c.html(l);var p=c.find(".my-single-cookbook > .controls");p.find(".icon-edit").click(function(){v(t,i)}),p.find(".icon-delete").click(function(){y(t,i)}),s&&g.init(".cookbook-items li",s),e.find('.menu ul.cookbooks-list li[data-cookbook="'+i+'"]').attr("data-selected",1)}function s(e,t){var n=o(),i=e.find("slug",n),a=window.location.href.replace(window.location.pathname,"");if(!i)return!1;var r=[];c.each(i.get("recipes").serialize(),function(e,t){var n=t.image;t.image.includes("http")||(n=a+t.image),r[e]={image:n,title:t.title,url:a+d.generate("recipes",{id:t.id,slug:t.slug})}}),f("Email your cookbook",u.hb.send_email_form.render(),"send",function(e,o){var a=o.find('form[name="send-email"]'),s=a.find("input#email").val();if(!s)return a.addClass("error"),!1;NewsGigya.ajaxCallWhenLoggedIn(d.generate("members_email_cookbook_recipes",{slug:n}),{to:s,username:t.data.taste.username,cookbookName:i.get("name"),recipesList:r},function(e){1==e.status?l():p.error("Unable to send email: "+(e.error||"email send failed"))},function(e){p.error("Unable to send email: email send failed")})}).open()}function l(){var e=m("Email your cookbook recipes","Your cookbook recipes has been sent","Got it",function(){});e.contentContainer().parent(".modal-content").addClass("saveRecipeToCookbookMessage"),e.open()}var c=e("jquery"),u=e("../../../dist/templates.js"),d=e("../../utils/router"),p=e("../../utils/alert-manager"),f=e("../../confirmation-dialog"),m=e("../../alert-dialog"),h=e("../view-partials/recipe-item"),b=e("../data-store"),g=e("../components/list-item-controls"),v=e("../components/cookbook-rename-dialog"),k=e("../../utils/query-param-name"),y=e("../components/cookbook-delete-dialog"),w=d.generate("recipe_collections_list"),C=d.generate("members_cookbooks");t.exports.init=i},{"../../../dist/templates.js":2,"../../alert-dialog":13,"../../confirmation-dialog":18,"../../utils/alert-manager":114,"../../utils/query-param-name":132,"../../utils/router":136,"../components/cookbook-delete-dialog":35,"../components/cookbook-rename-dialog":36,"../components/list-item-controls":38,"../data-store":42,"../view-partials/recipe-item":59,jquery:"jquery"}],49:[function(e,t,n){function o(e,t){c=t.pageName;var n=a.hb.members_module_search_results.render({results:[],recipesCollectionsUrl:f,searchBar:p.renderMemberSearchBar(c,r.generate("members_cookbooks_search")),parentContainerClass:h,ulResultContainerClass:b});e.find(".member-content").html(n),u=m("q"),d=m("page"),NaN!=parseInt(d)&&"NaN"!=parseInt(d)||(d=1),i(e,u,d)}function i(e,t,n){var o=l.searchCookbooksForRecipe(t,n);o.reset(),o.load(function(n){var o=e.find("ul."+b);o.empty(),p.renderMemberSearchResults(e,t,n,"."+h,function(e){o.append(s.render({id:e.slug,title:e.title,image:e.image,url:r.generate("recipes",{slug:e.slug,id:e.id}),srcSet:e.srcSet,controls:!1,cssClass:e.cssClass||""}))})})}var a=(e("jquery"),e("../../../dist/templates.js")),r=e("../../utils/router"),s=e("../view-partials/recipe-item"),l=e("../data-store"),c="",u="",d=1,p=e("../view-partials/module-search-bar"),f=r.generate("recipe_collections_list"),m=e("../../utils/query-param-name"),h="my-cookbooks",b="cookbook-items";t.exports={init:o}},{"../../../dist/templates.js":2,"../../utils/query-param-name":132,"../../utils/router":136,"../data-store":42,"../view-partials/module-search-bar":58,"../view-partials/recipe-item":59,jquery:"jquery"}],50:[function(e,t,n){function o(e,t){var n=t.cookbooks;i(e,n);var o=e.find(".cookbook-items");a(n).on("collection.remove",function(t,i){o.find('[data-item-id="'+i.oldItem.get("slug")+'"]').remove(),e.find("h3 .count").text(n.length())}),n.each(function(e,t){a(t).on("change.name",function(e,n){o.find('[data-item-id="'+t.get("slug")+'"] h3 a').text(n.newValue)})})}function i(e,t){var n=t.serialize(),o=[{text:"delete",action:"delete",handler:function(e){d(t,a(e.currentTarget).parents("li[data-item-id]").data("itemId"))}},{text:"rename",action:"rename",handler:function(e){u(t,a(e.currentTarget).parents("li[data-item-id]").data("itemId"))}}],i=r.hb.cookbooks.render({cookbooks:n,cookbook:function(){var e=this;return l.render({id:e.slug,title:e.name,image:e.image,url:s.generate("members_single_cookbook",{slug:e.slug}),srcSet:e.srcSet,controls:!!e.editable&&o,cssClass:e.cssClass||""})},cookbooksCount:n.length,recipesCollectionsUrl:f,searchBar:p.renderMemberSearchBar("recipe",s.generate("members_cookbooks_search"))});e.find(".member-content").html(i),c.init(".cookbook-items li",o)}var a=e("jquery"),r=e("../../../dist/templates.js"),s=e("../../utils/router"),l=e("../view-partials/recipe-item"),c=e("../components/list-item-controls"),u=e("../components/cookbook-rename-dialog"),d=e("../components/cookbook-delete-dialog"),p=e("../view-partials/module-search-bar"),f=s.generate("recipe_collections_list");t.exports.init=o},{"../../../dist/templates.js":2,"../../utils/router":136,"../components/cookbook-delete-dialog":35,"../components/cookbook-rename-dialog":36,"../components/list-item-controls":38,"../view-partials/module-search-bar":58,"../view-partials/recipe-item":59,jquery:"jquery"}],51:[function(e,t,n){function o(){var e=this;return s.render({id:e.id,title:e.title,url:r.generate("recipes",{id:e.id,slug:e.slug}),image:e.image,srcSet:e.srcSet,rating:e.rating})}function i(e,t){var n=e.find(".member-content"),i=r.generate("members_cookbooks"),f=r.generate("recipe_collections_list"),m=a.hb.dashboard.render();n.html(m);var h=a.hb.dashboard_cookbooks.render({viewAllCookbooksUrl:i,recipesCollectionsUrl:f,cookbooks:t.cookbooks.serialize().slice(0,6),cookbook:function(){var e=this;return s.render({id:e.slug,title:e.name,image:e.image,url:r.generate("members_single_cookbook",{slug:e.slug})})}});n.find(".my-cookbooks").html(h),p.storage("shoppingList").load(function(e){e||(e={values:[]});var t=u.render(new l(e.values));n.find(".shopping-list-container").html(t)}),p.storage("recentlySaved").load(function(e){var t={recipesCollectionsUrl:f,recentlySavedRecipes:e,recipe:o},i=a.hb.recently_saved.render(t);n.find(".recently-saved-container").html(i);var r=n.find(".carousel-because-you-liked");if(0==e.length)return void r.remove();var s=e[0];p.getSearchSimilarStorage(s.id,s.title).load(function(e){var t={recipesCollectionsUrl:f,recipeList:[s].concat(e),recipe:o},n=a.hb.because_you_liked.render(t);r.html(n),d.bindButtons(r)})}),p.storage("latestSearchQueries").load(function(e){e||(e={values:[]});var t=c.render(e.values);n.find(".recently-searched-container").html(t)})}var a=e("../../../dist/templates.js"),r=e("../../utils/router"),s=e("../view-partials/recipe-item"),l=e("../../models/shopping-list"),c=e("../../members/view-partials/latest-search-queries"),u=e("../../members/view-partials/shopping-list-top-items"),d=e("../../carousel-because-you-liked"),p=e("../data-store");t.exports.init=i},{"../../../dist/templates.js":2,"../../carousel-because-you-liked":14,"../../members/view-partials/latest-search-queries":57,"../../members/view-partials/shopping-list-top-items":60,"../../models/shopping-list":83,"../../utils/router":136,"../data-store":42,"../view-partials/recipe-item":59}],52:[function(e,t,n){function o(){return window.location.pathname.substr(window.location.pathname.lastIndexOf("/")+1)}function i(e,t){var n=t.menuPlans;s(n).on("collection.remove",function(){window.setTimeout(function(){window.location.href=b},1e3)});var i=o(),r=n.find("id",i);if(!r)return void(window.location.href=b);p.getMenuPlanItemsStorage(i).load(function(t){var o,i;t&&(s.each(t,function(e,t){r.addRecipe(t)}),s(r).on("change.title",function(t,n){e.find(".my-single-cookbook > h2").text(n.newValue)}),o=r.get("recipes"),s(o).on("collection.remove",function(t,n){i.find('[data-item-id="'+n.oldItem.get("id")+'"]').remove();var o=parseInt(e.find("h3 .count").html());e.find("h3 .count").text(o-1)})),a(e,n,r),i=s(".my-single-cookbook .cookbook-items")})}function a(e,t,n){var o=n.get("id"),i=[{text:"delete",action:"delete",handler:function(e){r(e,n)}}],a=l.hb.single_menu_plan.render({name:n.get("title"),recipes:n.get("recipes").serialize(),recipe:function(){var e=this,t=e.slug;return 0===t.length&&(t="[blank]"),d.render({id:e.id,title:e.title,url:c.generate("recipes",{id:e.id,slug:t}),image:e.image,srcSet:e.srcSet,controls:i,rating:e.rating})},numberItems:n.get("recipes").serialize().length}),s=e.find(".member-content");s.html(a);var u=s.find(".my-single-cookbook > .controls");u.find(".icon-edit").click(function(){m(t,o)}),u.find(".icon-delete").click(function(){h(t,o)}),f.init(".cookbook-items li",i),e.find('.menu ul.menu-plans-list li[data-cookbook="'+o+'"]').attr("data-selected",1)}function r(e,t){u("Delete recipe","Are you sure you wish to delete this recipe from your menu plan?","delete",function(){var n=s(e.currentTarget),o=n.parents("[data-item-id]").data("itemId"),i=t.get("recipes").find("id",o);if(!i)throw"Recipe not found in menu plan: "+o;p.getMenuPlanItemStorage(t.get("id"),o).delete(function(e){e&&t.get("recipes").removeModel(i)})}).open()}var s=e("jquery"),l=e("../../../dist/templates.js"),c=e("../../utils/router"),u=e("../../confirmation-dialog"),d=e("../view-partials/recipe-item"),p=e("../data-store"),f=e("../components/list-item-controls"),m=e("../components/menu-plan-rename-dialog"),h=e("../components/menu-plan-delete-dialog"),b=c.generate("members_menu_plans");t.exports.init=i},{"../../../dist/templates.js":2,"../../confirmation-dialog":18,"../../utils/router":136,"../components/list-item-controls":38,"../components/menu-plan-delete-dialog":39,"../components/menu-plan-rename-dialog":40,"../data-store":42,"../view-partials/recipe-item":59,jquery:"jquery"}],53:[function(e,t,n){function o(e,t){var n=t.menuPlans;i(e,n);var o=e.find(".cookbook-items");r(n).on("collection.remove",function(t,i){o.find('[data-item-id="'+i.oldItem.get("id")+'"]').remove(),e.find('.menu ul.menu-plans-list li[data-cookbook="'+i.oldItem.get("id")+'"]').remove(),e.find("h3 .count").text(n.length())}),n.each(function(e,t){r(t).on("change.title",function(e,n){o.find('[data-item-id="'+t.get("id")+'"] h3 a').text(n.newValue)})})}function i(e,t){var n=t.serialize(),o=[{text:"delete",action:"delete",handler:function(e){p(t,r(e.currentTarget).parents("li[data-item-id]").data("itemId"))}},{text:"rename",action:"rename",handler:function(e){d(t,r(e.currentTarget).parents("li[data-item-id]").data("itemId"))}}],i=o.slice(0,1),f=s.hb.menu_plans.render({menuPlans:n,menuPlan:function(){var e=this;return c.render({id:e.id,title:e.title,image:e.image,url:a(e),srcSet:e.srcSet,controls:"user-menu"===e.type?o:i})},menuPlansCount:n.length,menusUrl:l.generate("content_lists",{contentType:"menus"})});e.find(".member-content").html(f),u.init(".cookbook-items li",o)}function a(e){return void 0!==e.url&&e.url?e.url:l.generate("members_single_menu_plan",{id:e.id})}var r=e("jquery"),s=e("../../../dist/templates.js"),l=e("../../utils/router"),c=e("../view-partials/recipe-item"),u=e("../components/list-item-controls"),d=e("../components/menu-plan-rename-dialog"),p=e("../components/menu-plan-delete-dialog");t.exports.init=o},{"../../../dist/templates.js":2,"../../utils/router":136,"../components/list-item-controls":38,"../components/menu-plan-delete-dialog":39,"../components/menu-plan-rename-dialog":40,"../view-partials/recipe-item":59,jquery:"jquery"}],54:[function(e,t,n){function o(e){var t=i.hb.sampling_login.render({},{intro:i.hb.sampling_intro});e.find(".login-content").prepend(t)}var i=e("../../../dist/templates.js");t.exports.init=o},{"../../../dist/templates.js":2}],55:[function(e,t,n){function o(e){NewsGigya.fullAccountInfo(function(t){var n=i(t),o=n.samplingOptIn;s(e,o);var a=e.find(".my-sampling-form"),r=e.find("a.show-form");o?(a.slideDown(),r.closest(".row").remove()):r.on("click",function(e){e.preventDefault(),e.stopPropagation(),a.slideDown(),S(this).closest(".row").remove()}),T.setFormValues(a,n,!0),T.checkboxGroupValidation(a.find('input[name="interests"]'),1,"Please select at least one interest"),d(a),b(a,o),x(a)})}function i(e){var t={samplingOptIn:!A.isEmpty(e,"data.additionalProfileInfo.samplingOptIn"),gender:A.isEmpty(e,"profile.gender")?"":e.profile.gender,birthYear:A.isEmpty(e,"profile.birthYear")?"":e.profile.birthYear,hasChildren:A.isDefined(e,"data.additionalProfileInfo.hasChildren")?A.isEmpty(e,"data.additionalProfileInfo.hasChildren")?"n":"y":"",childrenCount:A.isEmpty(e,"data.additionalProfileInfo.childrenCount")?1:e.data.additionalProfileInfo.childrenCount,familyInterests:A.isEmpty(e,"data.interests")?[]:a(e.data.interests),interests:A.isEmpty(e,"data.interests")?[]:a(e.data.interests),address:A.isEmpty(e,"profile.address")?"":e.profile.address,state:A.isEmpty(e,"profile.state")?"":e.profile.state,city:A.isEmpty(e,"profile.city")?"":e.profile.city,postcode:A.isEmpty(e,"profile.zip")?"":e.profile.zip,phone:A.isEmpty(e,"profile.phones")?"":r(e.profile.phones)};if(!A.isEmpty(e,"data.additionalProfileInfo.childrenBirthYear"))for(var n=0;n<parseInt(t.childrenCount);n++){var o=n+1;t["childrenBirthYear"+o]=n in e.data.additionalProfileInfo.childrenBirthYear?e.data.additionalProfileInfo.childrenBirthYear[n]:""}return t}function a(e){for(var t=[],n=0;n<e.length;n++)A.isDefined(e[n],"category")&&t.push(e[n].category);return t}function r(e){for(var t=0;t<e.length;t++)if(!A.isEmpty(e[t],"type")&&"mobile"===e[t].type&&!A.isEmpty(e[t],"number"))return e[t].number;return""}function s(e,t){var n=I.hb.sampling_page.render({genders:q,years:l($),hasChildren:M,childrenCount:c(1,B),childrenBirthYears:c(1,G),childYears:l(O),familyInterests:u(P),interests:u(D),states:R,termsLink:E.generate("articles",{slug:"legal-notices",id:"MUfw5jyc"}),isSampler:t},{intro:I.hb.sampling_intro,form:I.hb.sampling_form});e.find(".member-content").html(n)}function l(e){var t=(new Date).getFullYear();return c(t-e,t)}function c(e,t){for(var n=[],o=e;o<=t;o++)n.push(o);return n}function u(e){var t=Math.ceil(e.length/2);return[e.slice(0,t),e.slice(t)]}function d(e){var t=e.find('input[name="hasChildren"]'),n=e.find('select[name="childrenCount"]'),o=e.find('select[name^="childrenBirthYear"]');p(t,n,o),t.on("change",function(){p(t,n,o)}),n.on("change",function(){f(n,o)})}function p(e,t,n){"y"===e.filter(":checked").val()?(m(t),f(t,n)):(h(t),h(n))}function f(e,t){var n=e.val();n<=G?(t.closest(".form-group").slideDown(),t.each(function(e){e+1<=n?S(this).prop("disabled",!1).prop("required",!0).show():S(this).prop("disabled",!0).prop("required",!1).hide()})):h(t)}function m(e){e.prop("disabled",!1).prop("required",!0).closest(".form-group").slideDown()}function h(e){e.prop("disabled",!0).prop("required",!1).closest(".form-group").slideUp()}function b(e,t){e.on("submit",function(n){n.preventDefault(),n.stopPropagation();var o=e.find(".form-error"),i=g(e);if(v(i,t)){var a=k(i,!0);o.slideUp(),NewsGigya.updateAccountInfo(a,function(){_("Saved",t?"Your taste.com.au testers profile has been updated":"Thanks for joining taste.com.au testers")},function(e){_("Error","Unable to save your taste.com.au testers profile. Please try again")})}else o.slideDown()})}function g(e){for(var t=e.serializeArray(),n={},o=0;o<t.length;o++){var i=t[o];N.indexOf(i.name)>-1?""!==S.trim(i.value)&&(n[i.name]=n[i.name]||[],n[i.name].push(S.trim(i.value))):n[i.name]=S.trim(i.value)}return n}function v(e,t){var n=!0,o=["gender","birthYear","hasChildren","interests","address","city","state","postcode"];t||(o=o.concat(["confirm","terms"]));for(var i=0;i<o.length;i++)A.isEmpty(e,o[i])&&(n=!1);return n}function k(e,t){return{data:{additionalProfileInfo:{samplingOptIn:t,hasChildren:A.isEmpty(e,"hasChildren")?null:"y"===e.hasChildren,childrenCount:A.isEmpty(e,"hasChildren")||"y"!==e.hasChildren?0:e.childrenCount||0,childrenBirthYear:y(e)},interests:C(e)},profile:{birthYear:e.birthYear||null,gender:e.gender||null,address:e.address||null,state:e.state||null,city:e.city||null,zip:e.postcode||null,phones:w(e)}}}function y(e){for(var t=[],n=1;n<G;n++){var o="childrenBirthYear"+n;A.isEmpty(e,o)||t.push(e[o])}return t}function w(e){return A.isEmpty(e,"phone")?[]:[{type:"mobile",number:e.phone}]}function C(e){function t(e,t){for(var o=0;o<e.length;o++)t.indexOf(e[o].value)>-1&&n.push({id:e[o].gigyaId,category:e[o].value,name:e[o].gigyaName})}var n=[];return t(D,e.interests||[]),t(P,e.familyInterests||[]),n}function _(e,t){L(e,t,"Got it",function(){window.location=window.location}).open()}function x(e){e.find("a.delete-profile").on("click",function(e){e.preventDefault(),e.stopPropagation(),j("Delete profile","Are you sure you wish to delete your taste.com.au testers profile? You will no longer receive offers to sample products.","delete",function(){var e=k({},!1);NewsGigya.updateAccountInfo(e,function(){_("Delete profile","Your profile has been deleted")},function(){_("Error","Unable to delete your profile. Please try again")})}).open()})}var S=e("jquery"),I=e("../../../dist/templates.js"),E=e("../../utils/router"),T=e("../../utils/form"),A=e("../../utils/object-helper"),j=e("../../confirmation-dialog"),L=e("../../alert-dialog"),N=["familyInterests","interests"],q=[{value:"f",name:"Female"},{value:"m",name:"Male"},{value:"u",name:"Prefer not to say"}],M=[{value:"y",name:"Yes"},{value:"n",name:"No"}],P=[{value:"fertility-pregnancy",name:"Fertility & Pregnancy",gigyaId:"9",gigyaName:"Fertility & Pregnancy"},{value:"young-families",name:"Young Families",gigyaId:"10",gigyaName:"Young Families"}],D=[{value:"food-beverage",name:"Food and drink",gigyaId:"1",gigyaName:"Food & Beverage"},{value:"beauty",name:"Beauty",gigyaId:"2",gigyaName:"Beauty"},{value:"health-wellbeing",name:"Health and wellbeing",gigyaId:"8",gigyaName:"Health Wellbeing"},{value:"cleaning-household-appliances",name:"Home",gigyaId:"3",gigyaName:"Cleaning & Household Appliances"},{value:"arts-craft",name:"Arts and crafts",gigyaId:"5",gigyaName:"Arts & Crafts"},{value:"gardening",name:"Gardening",gigyaId:"4",gigyaName:"Gardening"},{value:"family-entertaining",name:"Entertaining",gigyaId:"6",gigyaName:"Family Entertaining"},{value:"pet-products",name:"Pets",gigyaId:"7",gigyaName:"Pet Products"}],R=["ACT","NSW","NT","QLD","SA","TAS","VIC","WA"],$=100,O=40,B=10,G=4;t.exports.init=o},{"../../../dist/templates.js":2,"../../alert-dialog":13,"../../confirmation-dialog":18,"../../utils/form":125,"../../utils/object-helper":130,"../../utils/router":136,jquery:"jquery"}],56:[function(e,t,n){function o(){if(!k("#screenset-overlay").length){var e=k(document.createElement("div")).attr("id","screenset-overlay").css({opacity:0,width:"100%",height:"100%",position:"fixed",top:0,left:0,"z-index":1e8,background:"black"}).click(function(){NewsGigya.hideActiveScreenSet()});k("body").append(e),e.animate({opacity:"0.75"})}}function i(){var e=k("#screenset-overlay");e.animate({opacity:"0"},function(){e.remove()})}function a(){var e=k('input[name="data.taste.username"]'),t=k('input[name="profile.nickname"]');0!==e.val().length&&t.val(e.val())}function r(){var e=k('input[name="data.taste.username"]'),t=k('input[data-member-attribute="loginID"]'),n=k('span[data-bound-to="data.taste.username"]');g=!0,NewsGigya.checkUniqueness(t.val(),{"data.taste.username":e.val()}).then(function(t){b=t.results["data.taste.username"],v=e.val().indexOf("@")<0,v?b?(e.removeClass("gigya-error"),n.removeClass("gigya-error-msg-active"),n.css({display:"none",visibility:"hidden"})):(e.addClass("gigya-error"),n.addClass("gigya-error-msg-active"),n.text("This username is already in use"),n.css({display:"block",visibility:"visible"})):(e.addClass("gigya-error"),n.addClass("gigya-error-msg-active"),n.text('Username cannot contain "@" symbol'),n.css({display:"block",visibility:"visible"})),g=!1,k(document).trigger("checked.username",b)})}function s(e,t){t.response.isVerified&&k('input[name="profile.email"]').val(e.response.emails.verified[0]).hide()}function l(){window.gigya.accounts.setAccountInfo({data:{taste:{recipeInterests:{screenPresented:new Date}}}})}function c(e){var t=e.taste.recipeInterests.items||{},n=[];for(var o in t)t[o]&&n.push(o);if(n.length>0){var i=n.sort().join("|");window.NLM.tealiumEvents.fireEventNow({event:"event70",eVar97:i})}}function u(){k("body").on("blur",".gigya-screen input",function(){p(k(this))})}
function d(){k(".gigya-screen input").each(function(){p(k(this))})}function p(e){e.val()?e.addClass("filled"):e.removeClass("filled")}function f(){k(document).on("screenset.opened",function(e,t){if("register"===t.currentScreen){var n={customLang:{password_does_not_meet_complexity_requirements:"Password must contain at least 8 characters and 3 of the following: an uppercase letter, a lowercase letter, a number, a special symbol"}};NewsGigya.setScreensetOptions("register",n)}})}function m(){k("body").on("click",".gigya-screen .collapsible-form-box .collapsible-form-button",function(){k(this).parent(".collapsible-form-box").toggleClass("collapsed")})}function h(){k(document).on("screenset.opened",function(e,t){"update-profile"===t.currentScreen&&d()})}var b,g,v,k=e("jquery");t.exports.init=function(){k(document).delegate('input[name="data.taste.username"]',"blur",function(e){r(k(e.currentTarget).val())}),k(document).delegate('.gigya-screen form input[name="data.taste.username"] ~ input[type="submit"]',"click",function(e){return!(!b||!v)||(r(),g&&k(document).on("checked.username",function(t){t&&(k(document).off("checked.username"),k(e.currentTarget).trigger("click"))}),e.preventDefault(),!1)}),k(document).on("screenset.opened",function(e,t){"complete-registration"===e.currentScreen&&s(e,t),"progressive-profiling"===t.currentScreen&&l()}),k(document).on("screenset.open",o),k(document).on("screenset.close",i),k(document).on("screenset.updated",a),k(document).on("screenset.submitted",function(e,t){"progressive-profiling"===t.screen&&c(t.response.data)}),u(),m(),f(),h()}},{jquery:"jquery"}],57:[function(e,t,n){function o(e){var t={latestSearchQueries:e,searchUrl:function(){return a.generate("search",{q:this.toString()})}};return i.hb.latest_search_queries.render(t)}var i=e("../../../dist/templates"),a=e("../../utils/router");t.exports.render=o},{"../../../dist/templates":2,"../../utils/router":136}],58:[function(e,t,n){function o(e,t){return r.hb.searchBar.render({module:e,formSearchUrl:t})}function i(e,t,n,o,i){if(e.find("input[type=text]").val(t),n.message)a(e,o,"<span class='count'>0</span> results for "+t+" found");else{var r=n.pagination.total||0;a(e,o,"<span class='count'>"+r+"</span> results for "+t+" found"),0==r?a(e,o,"<span class='count'>0</span> results for "+t+" found"):(n.data&&n.data.forEach(function(e){i(e)}),n.pagination&&n.pagination.rendered&&e.find("#search-pagination-links").html(n.pagination.rendered))}}function a(e,t,n){e.find(t+" > p").html(n)}var r=e("../../../dist/templates.js");t.exports={renderMemberSearchBar:o,renderMemberSearchResults:i}},{"../../../dist/templates.js":2}],59:[function(e,t,n){function o(e){return e.rating&&e.rating>0&&(e.ratingsBox=i.hb.rating.render({ratingWidth:e.rating/5*100})),e.controls&&(e.editControls=function(){return i.hb.list_item_controls.render({controls:e.controls})}),i.hb.recipe_item.render(e)}var i=e("../../../dist/templates");t.exports.render=o},{"../../../dist/templates":2}],60:[function(e,t,n){function o(e){var t=[];return e.get("sections").each(function(e,n){if(n.get("items").each(function(e,n){if(t.push(n.serialize()),t.length>=s)return!1}),t.length>=s)return!1}),t}function i(e){if(void 0==e||0==e.length)return"";var t=o(e);return a.hb.shopping_list_top_items.render({items:t,viewShoppingList:r.generate("members_shopping_lists"),hasItems:t.length>0})}var a=e("../../../dist/templates"),r=e("../../utils/router"),s=5;t.exports.render=i},{"../../../dist/templates":2,"../../utils/router":136}],61:[function(e,t,n){var o=e("jquery"),i=e("./utils/debounce"),a=e("./recipes-ingredients-manager");window.selectedIngredients=[],t.exports.init=function(){var e=o("body.menu-page .page-main-content");if(0!==e.length){var t=e.find(".add-to-shopping-list"),n=e.find("li");0!==n.length&&t.on("click",i(function(){window.recipes=[],o.each(n,function(e,t){var n=o(t).children('script[data-schema-entity="recipe"][data-taste-schema]'),i=a.extractRecipeInfo(n);void 0!==i&&window.recipes.push(i)}),0!==window.recipes.length&&a.saveRecipesToShoppingList(window.recipes)},250,!0))}}},{"./recipes-ingredients-manager":100,"./utils/debounce":120,jquery:"jquery"}],62:[function(e,t,n){var o=e("jquery"),i=e("./confirmation-dialog"),a=e("../dist/templates");t.exports.init=function(){var e=o("main article .add-your-own-recipe");e.click(function(t){t.preventDefault(),t.stopPropagation(),i("Add your own recipe",a.hb.edit_title_description_dialog.render({titleFieldPlaceHolder:"Enter recipe title",descriptionFieldPlaceHolder:"Enter recipe details",info:"Add your own recipe in the space below:"}),"add to menu plan",function(t,n){var o=n.find('form[name="edit-title-description"]'),i=o.find("input[name=title]"),r=o.find("textarea"),s=i.val(),l=r.val(),c=a.hb.dummy_list_item.render({title:s,description:l});e.before("<h2>My recipe</h2>"),e.before('<ol class="content-lists-items list-unstyled user-added-list-items">'+c+"</ol>"),e.remove()}).open()})}},{"../dist/templates":2,"./confirmation-dialog":18,jquery:"jquery"}],63:[function(e,t,n){function o(e){function t(e){var t=e.data("itemId"),i=v.indexOf(t);v.indexOf(t)<0?v.length<u?(v.push(t),n(e)):l.warning("You have already selected the maximum allowed number of recipes"):(v.splice(i,1),o(e))}function n(e){e.addClass(b)}function o(e){e.removeClass(b)}function i(){m.html(v.length)}function c(e){var t={recipes:v.join(":")};return e+"?"+s.param(t)}var d=s(".day-planner .main-content-container"),p=d.find(".planner-controls"),f=d.find(".planner-results"),m=p.find(".selected-count"),h=p.find(".view-plan button"),b="selected",g=!1,v=[];v=a(e),function(n){n.on("click",".select-item",function(n){n.preventDefault(),g||(g=!0,t(s(this).parent()),i(),r(e,v),setTimeout(function(){g=!1},200))}),h.on("click",function(e){e.preventDefault(),location.href=c(h.data("target"))})}(f),function(e){e.find("li").each(function(e,t){var o=s(t),i=o.data("itemId");v.indexOf(i)>-1&&n(o)})}(f),i()}function i(e){sessionStorage.removeItem(e)}function a(e){return JSON.parse(sessionStorage.getItem(e))||[]}function r(e,t){sessionStorage.setItem(e,JSON.stringify(t))}var s=e("jquery"),l=e("./utils/alert-manager"),c=e("./utils/is-page"),u=31;t.exports.init=function(){var e=s(".menu-plan-page").data("documentId")||"";e&&c("planner-results")?o(e):e&&i(e)}},{"./utils/alert-manager":114,"./utils/is-page":127,jquery:"jquery"}],64:[function(e,t,n){var o=e("jquery");t.exports.init=function(){function e(){var e;s=!0,a<=1?(n.find(".prev-disabled").removeClass("hidden"),n.find(".prev-enabled").addClass("hidden")):(n.find(".prev-disabled").addClass("hidden"),n.find(".prev-enabled").removeClass("hidden")),i.each(function(t,n){t===a-1?(o(n).removeClass("hidden-xs"),e=o(n)):o(n).addClass("hidden-xs")}),o("html, body").animate({scrollTop:e.offset().top}),setTimeout(function(){s=!1},1e3)}var t=o(".menu-plan-page .main-content-container"),n=o(".pagination"),i=t.find(".planner-page"),a=1,r=i.length,s=!1;r>0&&(n.find(".next a").click(function(n){if(n.preventDefault(),!s){if(a>=r)return void t.find("form").submit();a++,e()}}),n.find(".prev a").click(function(t){t.preventDefault(),s||(a>1&&a--,e())}))}},{jquery:"jquery"}],65:[function(e,t,n){var o=e("../members/data-store/expiring-local-storage"),i=e("../tracking/event-tracking"),a={VIDORA_WALL:"a",METERED_CONTENT_WALL:"b",NO_WALL:"c",getAllKeys:function(){return["VIDORA_WALL","METERED_CONTENT_WALL","NO_WALL"]},getScenarioByLetter:function(e){switch(e){case"a":return"VIDORA_WALL";case"b":return"METERED_CONTENT_WALL";case"c":return"NO_WALL";default:return"UNKNOWN_CASE"}}},r={item:"nlm_ab_testcase"},s={storage:r,scenarios:a,abSplitConfig:[{weight:.1,abCase:a.VIDORA_WALL},{weight:.2,abCase:a.METERED_CONTENT_WALL},{weight:.7,abCase:a.NO_WALL}],getABValue:function(){var e=c.load(this.storage.item);if(e!==a.VIDORA_WALL||window.meteredContent.vidora_enabled||(e=null),e!==a.METERED_CONTENT_WALL||window.meteredContent.metered_content_wall_enabled||(e=null),null!==e)return e;var t=this.getScenario();return this.sendInitEvent(t),c.save(this.storage.item,t),t},clone:function(e){return JSON.parse(JSON.stringify(e))},getAvailableABScenarios:function(){var e=[],t=0,n=!1,o=this.clone(this.abSplitConfig);for(var i in o)(o[i].abCase!==a.VIDORA_WALL||window.meteredContent.vidora_enabled)&&(o[i].abCase!==a.METERED_CONTENT_WALL||window.meteredContent.metered_content_wall_enabled)?(t+=o[i].weight,e.push(o[i])):n=!0;if(n)for(var i in e)0!==e[i].weight&&(e[i].weight/=t);return e.sort(function(e,t){return e.weight<t.weight?-1:0}),e},getScenario:function(){var e=this.getAvailableABScenarios(),t=e.length;if(1===t)return e[0].abCase;for(var n=1-Math.random(),o=0,i=0;o<t;o++){if(e[o].weight+i>=n)return e[o].abCase;i+=e[o].weight}return a.NO_WALL},sendInitEvent:function(e){a.VIDORA_WALL===e&&i.propensityModelRegoInit(),a.METERED_CONTENT_WALL===e&&i.meteredWallRegoInit(),a.NO_WALL===e&&i.noWallRegoInit()}},l={day:15,init:function(){this.now=new Date,this.year=this.now.getFullYear(),this.month=this.now.getMonth()},calculate:function(){this.next=new Date(this.year,this.month,this.day),this.expiry=this.next.getTime()-this.now.getTime(),this.diff=new Date(this.expiry),this.until=this.diff.getUTCDate()},days:function(){return this.init(),this.calculate(),this.process(),this.until},process:function(){this.expiry<0&&(this.month=this.now.getMonth()+1,this.year=this.now.getFullYear(),12==this.month&&(this.year=this.year+1,this.month=1),this.calculate())}},c=new o(function(){return 86400*l.days()}());t.exports=s},{"../members/data-store/expiring-local-storage":43,"../tracking/event-tracking":110}],66:[function(e,t,n){var o=e("../members/data-store/expiring-local-storage"),i={item:"_dnstmw",days:3},a=new o(86400*i.days),r=function(e){null===a.load(i.item)&&(a.save(i.item,1),e.saveCounter(0))},s=function(){return 1===a.load(l.config.item)},l={config:i,storage:a,enrol:r,isAllowed:s};t.exports=l},{"../members/data-store/expiring-local-storage":43}],67:[function(e,t,n){function o(){if(!d&&!s.isAllowed()){d=!0;var e=a.getABValue();e===a.scenarios.VIDORA_WALL&&window.meteredContent.vidora_enabled?window.vidoraPredictionAPI.ready(function(e){(new c).init(e)}):e===a.scenarios.METERED_CONTENT_WALL&&window.meteredContent.metered_content_wall_enabled?(new u).show():e===a.scenarios.NO_WALL&&r.noWallRegoStart()}}function i(){$(document).on("user.registered",function(e){s.enrol(new u)})}var a=e("./ab-testing"),r=e("../tracking/event-tracking"),s=e("./free-pass"),l=e("../utils/is-page"),c=e("./vidora-wall"),u=e("./metered-content-wall"),d=!1;t.exports.init=function(){l("member-only")||(NewsGigya.ifLoggedIn(function(){},o),window.meteredContent.metered_content_wall_enabled&&i())}},{"../tracking/event-tracking":110,"../utils/is-page":127,"./ab-testing":65,"./free-pass":66,"./metered-content-wall":68,"./vidora-wall":70}],68:[function(e,t,n){function o(){this.item="taste_mc",this.minutes=30,this.pageViewThreashold=2,this.meteredContentLocalStorage=new i(60*this.minutes),this.saveCounter=function(e){this.meteredContentLocalStorage.save(this.item,e)}}var i=e("../members/data-store/expiring-local-storage"),a=e("./wall");o.prototype=Object.create(a.prototype),o.prototype.constructor=o,o.prototype.shouldShowWall=function(){var e=parseInt(this.meteredContentLocalStorage.load(this.item)||0)+1;return e>this.pageViewThreashold||(this.meteredContentLocalStorage.save(this.item,e),!1)},t.exports=o},{"../members/data-store/expiring-local-storage":43,"./wall":71}],69:[function(e,t,n){function o(e){return{vidoraAPI:null,project:null,hasInit:!1,reCheckIntervalHandle:null,callbackWaitGroup:[],init:function(){if(!e||e.length<1)return void console.error("Invalid project ID passed to Vidora real time prediction API");this.reCheckIntervalHandle=setInterval(function(){if(this.hasInit){clearInterval(this.reCheckIntervalHandle);for(var e=0;e<this.callbackWaitGroup.length;e++)this.callbackWaitGroup[e](this);this.callbackWaitGroup=[]}}.bind(this),100),window.vidora.ready(function(t){this.vidoraAPI=t,this.project=t.getProject(e),this.vidoraAPI.setUserId(this.getUserID()),this.hasInit=!0}.bind(this))},ready:function(e){this.hasInit?e(this):this.callbackWaitGroup.push(e)},api:function(){return this.vidoraAPI},getPredictor:function(){return this.project},getUserID:function(){if(location.host.includes("nlm.io"))return"taste_vidora_dev_user";var e=i.getCookie("nk");return e&&e.length>0?e:this.vidoraAPI.getUUID()},sendPageView:function(e){e=e||{},this.vidoraAPI.send("pageview",null,{params:e})},sendPageViewWithTealiumData:function(e){if(!e)return void console.error("Empty Tealium payload was sent to Vidora page view");var t={};t=a("home")?{content_type:"home_page",keywords:this.parseKeywordList(e.ad_keywords)}:a("recipe-collection-page")?{content_type:"recipe_collection",content_id:e.nlm_collection_id,title:e.nlm_collection_name,keywords:this.parseKeywordList(e.net_adKeywords)}:a("recipe-page")?{content_type:"recipe",content_id:e.nlm_recipe_id,title:e.nlm_recipe_name,keywords:this.parseKeywordList(e.net_adKeywords),publish_date:e.nlm_recipe_pubdate,source:e.nlm_recipe_source}:a("article-page")?{content_type:"article",content_id:e.net_article_id,title:e.net_article_headline,keywords:this.parseKeywordList(e.net_adKeywords),publish_date:e.net_article_date}:a("menu-page")?{content_type:"menu",content_id:e.nlm_menuplan_id,title:e.nlm_menuplan_name,keywords:this.parseKeywordList(e.ad_keywords)}:a("gallery-page")?{content_type:"gallery",content_id:e.nlm_gallery_id,title:e.gallery_name,keywords:this.parseKeywordList(e.net_adKeywords),publish_date:e.nlm_gallery_pubdate}:a("videos")?{content_type:"video",keywords:this.parseKeywordList(e.ad_keywords)}:this.parseGenericPage(e),this.sendPageView(t)},parseGenericPage:function(e){var t={};return["ad_sec3","ad_sec2","net_content_type"].every(function(n){return!e[n]||(t.content_type=e[n],!1)}),["net_adKeywords","ad_keywords"].every(function(n){return!e[n]||(t.keywords=this.parseKeywordList(e[n]),!1)}.bind(this)),["nlm_collection_name","net_pn"].every(function(n){return!e[n]||(t.title=e[n],!1)}),!t.title&&t.content_type&&(t.title=t.content_type),t},parseKeywordList:function(e){return decodeURIComponent(e).split(",")},sendAdobeConversionEvent:function(e){const t=parseInt(e);if(isNaN(t))return void console.error("Bad event number sent to Vidora");var n="";if(void 0===(n=new Map([[27,"propensity_model_rego_start"],[30,"propensity_model_rego_complete"],[24,"metered_wall_rego_start"],[25,"metered_wall_rego_complete"],[68,"no_wall_rego_start"]]).get(t)))return void console.warn("Unimplemented event number: ["+e+"] sent to Vidora");this.vidoraAPI.send(n,null)}}}var i=e("../utils/cookie"),a=e("../utils/is-page");t.exports=o},{"../utils/cookie":119,"../utils/is-page":127}],70:[function(e,t,n){function o(){this.vidora=null,this.predictor=null,this.init=function(e){this.vidora=e,this.predictor=this.vidora.getPredictor();var t=this;this.predictor.getDecision({onError:t.handleRealTimePredictionError.bind(t)},t.handleRealTimeVidoraDecision.bind(t))},this.handleRealTimeVidoraDecision=function(e){e.actions.includes("reg_wall")&&(this.show(),this.vidora.api().send("shown_memberwall",null,{params:e.tieEventToDecision()}))},this.handleRealTimePredictionError=function(e){console.error("Vidora real time prediction error: "+e)}}var i=e("./wall");o.prototype=Object.create(i.prototype),o.prototype.constructor=o,t.exports=o},{"./wall":71}],71:[function(e,t,n){function o(){}const i=e("../member-only-content"),a=e("../tracking/event-tracking"),r=e("jquery");o.prototype={eventStart:a.propensityModelRegoStart,eventComplete:a.propensityModelRegoComplete,selector:".tabs-container",markup:r(".metered-content-overlay-template").html(),shouldShowWall:function(){return!0},show:function(){this.shouldShowWall()&&("function"==typeof this.eventStart&&this.eventStart(),i.replaceContent(this.selector,this.markup),NewsGigya.on("session.registered",function(){"function"==typeof this.eventComplete&&this.eventComplete(),window.location.reload()}.bind(this)))}},t.exports=o},{"../member-only-content":34,"../tracking/event-tracking":110,jquery:"jquery"}],72:[function(e,t,n){function o(e){function t(e){if(e>a.length||e<0)throw"Index out of range: "+e}function n(){var e=-1;return i.each(a,function(t){(t=parseInt(t))>e&&(e=t)}),String(++e)}var a={},r=this;e&&i.each(e,function(e,t){r.add(t)}),this.set=function(e){return a={},i.each(e,function(e,t){a[String(e)]=t}),this},this.get=function(e){return t(e),a[e]},this.add=function(e){var t=n();return a[t]=e,i(this).trigger("collection.add",{items:a,newItem:e,newIndex:t}),this},this.unshift=function(e){var t=this.serialize(!1);t.unshift(e),this.set(t),i(this).trigger("collection.add",{items:t,newItem:e,newIndex:0})},this.remove=function(e){t(e);var n=a[e];return delete a[e],i(this).trigger("collection.remove",{items:a,oldItem:n,oldIndex:e}),this},this.length=function(){var e=0;for(var t in a)++e;return e},this.slice=function(e,t){if(t<=e)throw"Minimum should not exceed maximum: (min: "+e+", max: "+t+")";var n=new o,i=0;for(var r in a)if(n.add(a[r]),++i===t)return n;return n},this.removeModel=function(e){var t=r.findModel(e);if(!1===t)throw"Model not found in collection";return r.remove(t)},this.each=function(e){return i.each(a,function(t,n){return e.call(r,t,n)}),this},this.find=function(e,t,n){var o;for(var i in a)if((o=a[i])&&o.get(e)===t)return n?i:o;return null},this.findAll=function(e,t){var n=[];return r.each(function(o,i){i.get(e)===t&&n.push(i)}),n},this.findModel=function(e){for(var t in a)if(a[t]===e)return t;return!1},this.serialize=function(e){var t,n=[],o=!1!==e;if(Object.keys(a).length>0)for(var i in a)t=a[i],o&&t&&void 0!==t.serialize&&(t=t.serialize()),n.push(t);return n}}var i=e("jquery");e("./model");t.exports=o},{"./model":79,jquery:"jquery"}],73:[function(e,t,n){function o(e,t){var n=this;if(i.call(this),e&&(e=e.sort(function(e,t){return e.name.localeCompare(t.name)}),$.each(e,function(e,t){t.slug.length>0&&n.add(new a(t))}),t&&void 0!==t&&t.length>0))for(var o in t){var r=new a(t[o]);n.unshift(r)}this.findCookbookBySlug=function(e){return this.find("slug",e)},this.removeCookbookBySlug=function(e){var t=this.find("slug",e);if(!t)throw"Unknown slug: "+e;return this.removeModel(t)},this.refreshCookbook=function(e){return this.removeCookbookBySlug(e.slug),this.unshift(e)},this.deleteCookbook=function(e){return this.removeCookbookBySlug(e.slug)}}var i=e("./collection"),a=e("./cookbook");t.exports=o},{"./collection":72,"./cookbook":75}],74:[function(e,t,n){function o(e){return{id:e.id,slug:e.slug,title:e.title,rating:e.rating,image:e.image,srcSet:e.srcSet,type:"recipes"}}var i=e("./model");t.exports=i.extend(o)},{"./model":79}],75:[function(e,t,n){function o(e){var t=new r;return e.slug||(e.slug=i.slugify(e.name)),0===e.slug.length&&(e.slug=Math.floor(Date.now()/1e3).toString()),e.image||(e.image=l.IMAGE_PLACEHOLDER_COOKBOOK),e.recipes&&e.recipes.length>0&&$.each(e.recipes,function(e,n){t.add(new s(n))}),this.recipeExists=function(e){return this.get("recipes").find("id",e)},this.addRecipe=function(e){this.get("recipes").unshift(new s(e))},{image:e.image,slug:e.slug,name:e.name,srcSet:e.srcSet,editable:void 0===e.editable||e.editable,cssClass:e.cssClass||"",sponsored:void 0!==e.sponsored&&e.sponsored,recipes:t}}var i=e("../utils/slugger"),a=e("./model"),r=e("./collection"),s=e("./cookbook-recipe"),l=e("../constants");t.exports=a.extend(o)},{"../constants":19,"../utils/slugger":138,"./collection":72,"./cookbook-recipe":74,"./model":79}],76:[function(e,t,n){function o(e){var t=this;i.call(this),e&&$.each(e,function(e,n){n.id.length>0&&n.type.length>0&&t.add(new a(n))})}var i=e("./collection"),a=e("./menu-plan");t.exports=o},{"./collection":72,"./menu-plan":78}],77:[function(e,t,n){function o(e){return{id:e.id,slug:e.slug,title:e.title,rating:e.rating,image:e.image,srcSet:e.srcSet}}var i=e("./model");t.exports=i.extend(o)},{"./model":79}],78:[function(e,t,n){function o(e){var t=new r;if(!e.type)throw"Menu plan type must be set";return e.type===c&&(e.slug||(e.slug=i.slugify(e.title)),e.id||(e.id=e.type+"-"+e.slug),e.recipes&&e.recipes.length>0&&$.each(e.recipes,function(e,n){t.add(new s(n))})),e.image||(e.image=l.IMAGE_PLACEHOLDER_COOKBOOK),this.addRecipe=function(t){e.type===c&&this.get("recipes").add(new s(t))},{type:e.type,id:e.id,slug:e.slug,title:e.title,image:e.image,srcSet:e.srcSet||"",url:e.url||"",recipes:t}}var i=e("../utils/slugger"),a=e("./model"),r=e("./collection"),s=e("./menu-plan-recipe"),l=e("../constants"),c="user-menu";t.exports=a.extend(o)},{"../constants":19,"../utils/slugger":138,"./collection":72,"./menu-plan-recipe":77,"./model":79}],79:[function(e,t,n){function o(e){function t(e){if(void 0===o[e])throw"Invalid property: "+e}function n(e,n){t(e);var r={oldValue:o[e],newValue:n};return o[e]=n,i(a).trigger("change."+e,r),r}var o=e,a=this;this.get=function(e){return t(e),o[e]},this.set=function(e,t){var o={};"object"==typeof e&&void 0===t?o=e:o[e]=t;var r,s={};return i.each(o,function(e,t){r=n(e,t),s[e]=r}),i(a).trigger("change.model",s),this},this.serialize=function(){var e={};return i.each(o,function(t,n){n&&void 0!==n.serialize&&(n=n.serialize()),e[t]=n}),e}}var i=e("jquery");o.extend=function(e){function t(t){t=e.call(this,t),o.call(this,t)}return t.prototype=Object.create(o.prototype),t.prototype.constructor=t,t},t.exports=o},{jquery:"jquery"}],80:[function(e,t,n){function o(){}var i=e("jquery"),a=e("../constants"),r=e("../utils/router");o.prototype.updateCount=function(e,t){var n=t===a.NUMERIC_DATA.INCR,o=parseInt(e.data("count"))||0;o=!n&&o>0?parseInt(parseInt(o)-1):parseInt(parseInt(o)+1);var i=Intl.NumberFormat("en-AU").format(o);return e.text(i).data("count",o),o>0&&e.parent().hasClass("count-0")?e.parent().removeClass("count-0"):0==o&&e.parent().addClass("count-0"),o},o.prototype.updateCountInFAPI=function(e,t,n,o,a,s){s=s||function(e){};var l=0,c=this;return i.post({url:r.generate("update_numeric_data",{entityType:e,id:t}),data:{field:o,action:n},success:function(e){a&&(l=c.updateCount(i(a),n)),s.call(null,e,l)}}),l},t.exports=new o},{"../constants":19,"../utils/router":136,jquery:"jquery"}],81:[function(e,t,n){function o(e){i.prototype.constructor.call(this,{value:e}),this.serialize=function(){return this.get("value")}}var i=e("./model");t.exports=o},{"./model":79}],82:[function(e,t,n){function o(e){var t=new s;return e.items&&i.each(e.items,function(e,n){t.add(new r(n))}),{id:e.id||null,title:e.title,type:e.type||"recipe",items:t}}var i=e("jquery"),a=e("./model"),r=e("./scalar"),s=e("./collection");t.exports=a.extend(o)},{"./collection":72,"./model":79,"./scalar":81,jquery:"jquery"}],83:[function(e,t,n){function o(e){var t=new r;return e&&i.each(e,function(e,n){t.add(new s(n))}),{sections:t,type:"recipe"}}var i=e("jquery"),a=e("./model"),r=e("./collection"),s=e("./shopping-list-section");t.exports=a.extend(o)},{"./collection":72,"./model":79,"./shopping-list-section":82,jquery:"jquery"}],84:[function(e,t,n){function o(e,t){return t=t||u,d[t]&&d[t][e]?d[t]&&d[t][e]:(t=u,d[t]&&d[t][e]?d[t][e]:"")}function i(e,t){var n=c(e,t,"Got it",function(){});return n.open(),n}function a(e){i("Success!",o("confirm",e))}function r(e){i("Error",o("error",e))}function s(){var e=window.location.search.match(/newsletterType=([a-z0-9]+)/i);return e&&void 0!==e[1]?e[1]:u}function l(){$("#newsletter-signup, #dinner-newsletter-signup, #sfi-newsletter-signup").on("submit",function(e){e.preventDefault(),e.stopPropagation();var t=$(this).data("newsletter")||u,n=$(this).find('input[type="email"]'),o=n.val().trim();""!==o&&NewsGigya.subscribeToNewsletter(o,t,function(){n.val(""),a(t)},function(){r(t)})})}var c=e("./alert-dialog"),u="weekly",d={weekly:{confirm:"Please check your email to confirm your subscription to our weekly newsletter",successLoggedIn:"You have been added to our taste.com.au weekly newsletter",successLoggedOut:'You have been added to our taste.com.au weekly newsletter.<br><br>Did you know you can save recipes for later? Sign up <a class="modal-reg" data-member-function="register">here</a>',error:"An error has occurred. Please try again",expired:"Try entering your email address again"},dinner:{confirm:"Please check your email to confirm your subscription to our dinner newsletter",successLoggedIn:"You have been added to our taste.com.au dinner newsletter",successLoggedOut:'You have been added to our taste.com.au dinner newsletter.<br><br>Did you know you can save recipes for later? Sign up <a class="modal-reg" data-member-function="register">here</a>'},sfi:{confirm:"Please check your email to confirm your subscription to our Super Food Ideas newsletter",successLoggedIn:"You have been added to our Super Food Ideas newsletter",successLoggedOut:'You have been added to our Super Food Ideas newsletter.<br><br>Did you know you can save recipes for later? Sign up <a class="modal-reg" data-member-function="register">here</a>'}};t.exports={init:l,successModal:function(){var e=s();NewsGigya.ifLoggedIn(function(){i("Success!",o("successLoggedIn",e))},function(){var t=o("successLoggedOut",e),n=i("Success!",t);n.$modal.find("a.modal-reg").on("click",function(e){n.close()})})},expiredModal:function(){i("Your link has expired",o("expired"))},errorModal:function(){i("Error",o("error"))}}},{"./alert-dialog":13}],85:[function(e,t,n){function o(){a("body").on("click","ul.member-area-sections li a",function(e){e.preventDefault();var t=a(e.target).parent();if(void 0!=t&&null!=t){var n=t.data("section");n&&(Object.keys(c).includes(n)?window.location.href=c[n]:(a('a[data-member-function="login"]').trigger("click"),s=n))}})}function i(){var e=r.checkIfOnPage("cookbooks")?r.generate("members_cookbooks"):r.generate("members_shopping_lists");a(document).on("session.registered",function(){var t=e;switch(s){case"dashboard":t=r.generate("members");break;case"cookbooks":t=r.generate("members_cookbooks");break;case"menu-plans":t=r.generate("members_menu_plans");break;case"sampling":t=r.generate("members_sampling")}l.copyShoppingListItemsFromNonMemberToMember(function(){window.location.href=t})})}var a=e("jquery"),r=e("./utils/router"),s="",l=e("./shopping-list");const c={cookbooks:r.generate("cookbooks"),"shopping-list":r.generate("shopping_list")};t.exports.init=function(){i(),o()}},{"./shopping-list":106,"./utils/router":136,jquery:"jquery"}],86:[function(e,t,n){function o(e,t,n){var o=i(".page-main-content"),r=NewsGigya.ifLoggedInCurried(function(){var e=t.routeToRedirectOnLogin||"homepage";window.location=a.generate(e)},function(){void 0!==t.loadPageData&&null!==t.loadPageData()?t.loadPageData().then(function(i){t.pageData=i,e.init(o,t,n)}):e.init(o,t,n)});this.init=function(){NewsGigya.on("session.registered",r),r()},this.getContainer=function(){return o}}var i=e("jquery"),a=e("../utils/router");t.exports=o},{"../utils/router":136,jquery:"jquery"}],87:[function(e,t,n){var o=e("jquery"),i=e("../utils/is-page"),a=e("../utils/deferred"),r=e("../members/data-store"),s=e("./non-members-page"),l={"non-member-cookbooks":{viewModel:e("../non-members/pages/cookbooks"),data:function(){return{routeToRedirectOnLogin:"members_cookbooks",loadPageData:function(){return o.when(a.deferredWrapper(r.storage("nonMemberCookbookList").load))}}}}};t.exports.getPage=function(){for(var e in l)if(i(e))return new s(l[e].viewModel,l[e].data(),e);console.error("Current page is not a valid members page")}},{"../members/data-store":42,"../non-members/pages/cookbooks":88,"../utils/deferred":121,"../utils/is-page":127,"./non-members-page":86,jquery:"jquery"}],88:[function(e,t,n){function o(e){var t=e.pageData||f.DefaultCookbookParams;return 0===Object.keys(t).length&&(t=f.DefaultCookbookParams),t}function i(e,t,n){d("Delete recipe","Are you sure you wish to delete this recipe from your cookbook?","delete",function(){var o=s(e.currentTarget),i=o.parents("[data-item-id]").data("itemId");f.StorageManager.deleteItemFromLocalCookbook(t,i,n)}).open()}function a(e,t,n){var a=new u(o(t)),s=[{text:"delete",action:"delete",handler:function(t){i(t,a,function(){l.storage("nonMemberCookbookList").load(function(t){r(new u(t),s,e)})})}}];r(a,s,e)}function r(e,t,n){var o=h.hb.non_member_single_cookbook.render({name:e?e.get("name"):"",recipes:e?e.get("recipes").serialize():[],editable:!1,cssClass:e?e.get("cssClass"):"",recipe:function(){var e=this,n=e.slug;return 0===n.length&&(n="[blank]"),p.render({id:e.id,title:e.title,url:c.generate("recipes",{id:e.id,slug:n}),image:e.image,srcSet:e.srcSet,controls:t,rating:e.rating})},numberItems:e.get("recipes").serialize().length});n.find(".non-member-content").html(o),m.init(".cookbook-items li",t)}var s=e("jquery"),l=e("../../members/data-store"),c=e("../../utils/router"),u=e("../../models/cookbook"),d=e("../../confirmation-dialog"),p=e("../../members/view-partials/recipe-item"),f=e("../../utils/cookbook-storage-manager"),m=e("../../members/components/list-item-controls"),h=e("../../../dist/templates.js");t.exports.init=a},{"../../../dist/templates.js":2,"../../confirmation-dialog":18,"../../members/components/list-item-controls":38,"../../members/data-store":42,"../../members/view-partials/recipe-item":59,"../../models/cookbook":75,"../../utils/cookbook-storage-manager":118,"../../utils/router":136,jquery:"jquery"}],89:[function(e,t,n){function o(e,t,n,o){return e=e||"",o=o||"/assets/static/site-logos/taste.svg",'<div id="login-comp" class="login-comp-modal '+e+'"><div><a class="close" href="#" role="button" aria-label="Close modal window">Close</a><img src="'+o+'"><p>'+t+'</p><a href="'+n+'" class="details">Competition details</a><a href="'+n+'" class="button join">Enter</a><a href="#" class="not-now">NOT NOW &rsaquo;</a></div></div>'}function i(e,t){t=t||5e3,e="function"==typeof e?e:function(){};var n=r.findActiveLoginCompetition();if(null===n)return e(!1);setTimeout(function(){function i(e){void 0!==e&&e.preventDefault(),s.remove(),r.remove()}a("body").append('<div class="onboard-overlay"></div>'+o(n.className,n.title,n.link,n.logo));var r=a(".onboard-overlay"),s=a("#login-comp"),l=a(window).scrollTop(),c=a(window).height(),u=s.outerHeight(),d=u>c?l:l+(c-u)/2;s.css({top:d}),r.on("click",i),s.on("click","a.close, a.not-now",i),t>1&&e(!0)},t)}var a=e("jquery"),r=e("../competition");t.exports.showLoginCompetition=i},{"../competition":17,jquery:"jquery"}],90:[function(e,t,n){function o(){if(0!==r.length){var e=r.shift(),t=parseInt(e.pv||1),n=parseInt(a.getCookie(e.cookie)||0)+1;if(t!==n)return n<t?void a.setCookie(e.cookie,n,e.cookieDays):void o();e.run(function(t){t?a.setCookie(e.cookie,n,e.cookieDays):o()})}}var i=(e("jquery"),e("./onboarding-competitions")),a=e("../utils/cookie"),r=[{cookie:"onb_login_comp",cookieDays:15,pv:2,run:i.showLoginCompetition}];t.exports.init=o},{"../utils/cookie":119,"./onboarding-competitions":89,jquery:"jquery"}],91:[function(e,t,n){var o=e("../utils/router"),i=e("../../../../../vendor/news/comments/src/News/Bundle/CommentsBundle/Resources/js/Comments"),a=function(){var e=$(".comments-and-ratings > .login-banner"),t=NewsGigya.ifLoggedInCurried(function(){e.addClass("authenticated")},function(){e.removeClass("authenticated")});$(document).on("session.registered session.terminated",t),t()};t.exports.init=function(){var e=$(".comments-container"),t=e.data("enabled_article_comment_ids")||[],n=e.data("current_article_id")||"";-1!=Object.values(t).indexOf(n)&&(e.addClass("display-comments"),i.init({NewsGigya:window.NewsGigya,EmbedConfig:{bodyClassName:"nlm_taste"},EventHandlers:[{name:"createComment.success rejectComment.success createCommentReply.success",callback:function(e,t,n){NewsGigya.fullAccountInfo(function(e){var t={};t.username=e.data.taste.username,NewsGigya.ajaxCallWhenLoggedIn(o.generate("update_comment_count",{type:"article",id:n.storyID}),t,function(e){},function(e){})})}}]}),a())}},{"../../../../../vendor/news/comments/src/News/Bundle/CommentsBundle/Resources/js/Comments":151,"../utils/router":136}],92:[function(e,t,n){function o(){
a(".filters.enable-sticky .filter > a").click(function(e){e.preventDefault();var t=a(this).text(),n=a(this);n.hasClass(r)&&(t=""),c.isPhone()&&a("html, body").animate({scrollTop:0}),u.each(function(e,o){var c=a(o),u=c.data("fapi-id");c.find(".flex-carousel .loading").addClass("show"),a(".filters.enable-sticky .filter a").removeClass(r),""!==t&&n.addClass(r),a.ajax(i.generate("filter_dinner_ideas_blocks",{filter:t,collectionId:u}),{method:"get",success:function(t){c.html(t),l.initCarousel(a(c.find(".flex-carousel"))),setTimeout(function(){c.find(".flex-carousel .loading").removeClass("show")},e*d)},error:function(e){s.error("Oops! Something went wrong. Please try again.")}})})})}var i=e("../utils/router"),a=e("jquery"),r="selected-filter",s=e("../utils/alert-manager"),l=e("../flex-carousel"),c=e("../utils/breakpoints"),u=a(".dinner-ideas .dinner-idea"),d=200;t.exports.init=function(){o()}},{"../flex-carousel":24,"../utils/alert-manager":114,"../utils/breakpoints":116,"../utils/router":136,jquery:"jquery"}],93:[function(e,t,n){function o(){$(".recipe-ingredients-section").find("ul li").on("click",function(){var e=$(this),t=e.find("input[type=checkbox]");e.hasClass("checked")?t.prop("checked",!0):t.prop("checked",!1)})}var i=e("../utils/router"),a=e("../recipe-ingredient-list"),r=e("../save-recipe-to-cookbook"),s=e("../adaptive/move-coles-recipe-elements"),l=e("../recipe-print"),c=e("../recipe-method-steps"),u=e("../metered-content/loader"),d=e("../tracking/event-tracking"),p=e("../../../../../vendor/news/comments/src/News/Bundle/CommentsBundle/Resources/js/Comments"),f=function(){var e=$(".comments-and-ratings > .login-banner"),t=NewsGigya.ifLoggedInCurried(function(){e.addClass("authenticated")},function(){e.removeClass("authenticated")});$(document).on("session.registered session.terminated",t),t()};t.exports.init=function(){a.init(),r.init(),s.init(),l.init(),p.init({NewsGigya:window.NewsGigya,EmbedConfig:{bodyClassName:"nlm_taste"},EventHandlers:[{name:"createComment.success rejectComment.success createCommentReply.success",callback:function(e,t,n){$.ajax(i.generate("update_rating",{type:"recipe",id:n.storyID}))}}]}),u.init(),c.init(),f(),o(),$("a.author-link").on("click",function(e){d.authorIconClickEvent()})}},{"../../../../../vendor/news/comments/src/News/Bundle/CommentsBundle/Resources/js/Comments":151,"../adaptive/move-coles-recipe-elements":5,"../metered-content/loader":67,"../recipe-ingredient-list":97,"../recipe-method-steps":98,"../recipe-print":99,"../save-recipe-to-cookbook":103,"../tracking/event-tracking":110,"../utils/router":136}],94:[function(e,t,n){function o(e){var t=!1;return e.split(",").forEach(function(e,n){if(!t)switch(e){case"phone":t=d.isPhone();break;case"desktop":t=d.isDesktop();break;case"tablet":t=d.isTablet()}}),t}function i(){l("[data-source-url]").each(function(){var e=l(this).data("only-on-devices");if(null==e||void 0==e)return void a(l(this));o(e)&&a(l(this))}),l(window).scroll(u(s,250))}function a(e){var t=new c(e);t.defer?p.push(t):t.run()}function r(e,t){return t.position().top<=e+f}function s(){var e=l(window).scrollTop()+l(window).innerHeight();l.each(p,function(t,n){!m&&r(e,n.$container)&&(m=!0,n.run().then(function(){n.$container.find("[data-source-url]").each(function(){a(l(this))}),m=!1}),n.updating||p.splice(t,1))})}var l=e("jquery"),c=e("./utils/ajax-block"),u=e("./utils/rate-limit"),d=e("./utils/breakpoints"),p=[],f=500,m=!1;t.exports.init=i},{"./utils/ajax-block":113,"./utils/breakpoints":116,"./utils/rate-limit":134,jquery:"jquery"}],95:[function(e,t,n){function o(e){for(var t in a)if(!(window.location.search.indexOf(t+"=")<0))for(var n in a[t])if(window.location.search.indexOf(t+"="+n)>-1)return a[t][n].call(null,new CustomEvent("query-action"))}var i=e("./newsletter-signup"),a={newsletter:{success:i.successModal,error:i.errorModal,expired:i.expiredModal}};t.exports.init=function(){window.location.search.length>1&&o(window.location.search.replace("?",""))}},{"./newsletter-signup":84}],96:[function(e,t,n){var o=e("jquery");t.exports.init=function(){o('input[type="range"]').each(function(){function e(){var e=(o(this).val()-o(this).attr("min"))/(o(this).attr("max")-o(this).attr("min"));o(this).css("background-image","-webkit-gradient(linear, left top, right top, color-stop("+e+", "+t+"), color-stop("+e+", #C5C5C5))")}var t=o(this).data("color");t||(t="#4483d5"),o(this).on("change mousemove",e),e.call(this)})}},{jquery:"jquery"}],97:[function(e,t,n){var o=e("jquery"),i=e("./utils/debounce"),a=e("./tracking/event-tracking"),r=e("./recipes-ingredients-manager");window.selectedIngredients=[],t.exports.init=function(){var e=o(".recipe-ingredients-section");if(0!==e.length){var t=e.find(".select-all-checkbox"),n=e.find(".select-all .checkmark"),s=e.find(".select-all-description"),l=e.find(".add-to-shopping-list"),c=e.find("li:not(.section-heading)"),u=e.find("li input[type=checkbox]"),d=o(".ingredient-action-buttons");0!==c.length&&(o.each(c,function(t,n){var i=o(n);i.on("click",function(){i.toggleClass("checked"),e.trigger("ingredients.updated"),o(this).hasClass("checked")&&a.ingredientSelectEvent()})}),n.on("click",function(){t.trigger("click")}),s.on("click",function(){t.trigger("click")}),t.on("click",function(){var t=o(this);t.hasClass("checked")?(c.removeClass("checked"),u.prop("checked",!1),s.html(s.data("select-text"))):(c.addClass("checked"),u.prop("checked",!0),s.html(s.data("deselect-text"))),t.toggleClass("checked"),e.trigger("ingredients.updated")}),l.on("click",i(function(){0===window.selectedIngredients.length&&t.trigger("click");var e=r.extractRecipeInfo(o('script[data-schema-entity="recipe"][data-taste-schema]'));if(void 0!==e){if(window.selectedIngredients.length!==e.items.length){var n=[],i=[];window.selectedIngredients.forEach(function(t){var o=e.items.indexOf(t);-1!==o&&(n.push(e.items[o]),i.push(e.parsedItems[o]))}),e.items=n,e.parsedItems=i}else e.items=window.selectedIngredients;var a=[e];r.saveRecipesToShoppingList(a)}},250,!0)),e.on("ingredients.updated",function(){window.selectedIngredients=[],e.find("li.checked").each(function(e,t){window.selectedIngredients.push(o(t).text().trim())}),0===window.selectedIngredients.length?d.removeClass("ready-to-shop"):d.addClass("ready-to-shop")}))}}},{"./recipes-ingredients-manager":100,"./tracking/event-tracking":110,"./utils/debounce":120,jquery:"jquery"}],98:[function(e,t,n){function o(){var e=this;this.$recipeMethodStepContainer=$(".recipe-method-section"),this.$recipeMethodStepNumberLi=this.$recipeMethodStepContainer.find("ul li"),this.$recipeMethodStepNumberCheckbox=this.$recipeMethodStepContainer.find("ul li input[type=checkbox]"),this.lastCheckedLiIndex=-1,this.iMadeThisButton=$("button.i-made-this"),this.$joinTheConversationContainer=this.$recipeMethodStepContainer.find(".join-the-conversation"),this.$annotatedIngredients=this.$recipeMethodStepContainer.find(".annotated-ingredient"),this.$recipeMethodStepContainer.one("tab-active",function(){e.showTooltip()})}var i=e("./models/numeric-data-service"),a=e("./utils/tooltip"),r=e("./tracking/event-tracking"),s=e("./constants"),l=e("./utils/breakpoints"),c=e("./utils/string-manager"),u={SELECTED:"selected",CHECKED:"checked",HIGHLIGHTED:"highlighted"},d=function(e){e.hasClass(u.CHECKED)&&(e.removeClass(u.SELECTED),e.next().addClass(u.SELECTED))},p=function(e){e.addClass(u.SELECTED).removeClass(u.CHECKED),e.find("input[type=checkbox]").prop(u.CHECKED,!1),e.next().removeClass(u.SELECTED)},f=function(e){e.removeClass(u.SELECTED).addClass(u.CHECKED),e.find("input[type=checkbox]").prop(u.CHECKED,!0),e.next().addClass(u.SELECTED)};o.prototype.showIMadeThisAlertPrompt=function(){this.$joinTheConversationContainer.addClass("animate-fade-in")},o.prototype.hideIMadeThisAlertPrompt=function(){this.$joinTheConversationContainer.removeClass("animate-fade-in")},o.prototype.highlightIMadeThisButton=function(){this.iMadeThisButton.removeClass(u.SELECTED).addClass(u.HIGHLIGHTED),this.hideIMadeThisAlertPrompt()},o.prototype.markIMadeThisAsSelected=function(){this.$recipeMethodStepNumberLi.last().hasClass(u.CHECKED)||(this.$recipeMethodStepNumberLi.last().trigger("click"),f(this.$recipeMethodStepNumberLi.last())),this.iMadeThisButton.removeClass(u.HIGHLIGHTED).addClass(u.SELECTED),this.showIMadeThisAlertPrompt()},o.prototype.showTooltip=function(){var e=$(".tooltip");if(0!==e.length){var t="methodTooltip";if(!localStorage.getItem(t)){var n={onClose:function(){localStorage.setItem(t,"1")}};new a(e,this.$recipeMethodStepContainer.find("ul"),n).open()}}},o.prototype.init=function(){var e=this;this.$recipeMethodStepNumberLi.on("click",function(t){var n=$(this),o=$(this).index(),i=$(this).parent(),a=i.children("li"),s=a.length;if(n.hasClass(u.CHECKED)){for(var l=o;l<s;l++){var c=a.eq(l);p(c),c.removeClass(u.SELECTED)}p(n)}else if(!n.hasClass(u.SELECTED)){n.addClass(u.SELECTED);for(var d=0;d<o;d++)f(a.eq(d));this.lastCheckedLiIndex=o}n.is(":last-child")?n.hasClass(u.CHECKED)?e.iMadeThisButton.trigger("click"):e.highlightIMadeThisButton():(e.iMadeThisButton.hasClass(u.SELECTED)||e.iMadeThisButton.hasClass(u.HIGHLIGHTED))&&(e.highlightIMadeThisButton(),e.iMadeThisButton.removeClass(u.HIGHLIGHTED)),r.revealIngredientOrMethodStepEvent()}),this.$recipeMethodStepNumberCheckbox.change(function(){if($(this).attr(u.CHECKED)){var e=$(this).closest("li");e.addClass(u.CHECKED),d(e)}}),this.iMadeThisButton.on("click",function(t){t.preventDefault();var n=s.NUMERIC_DATA.INCR;$(this).hasClass(u.SELECTED)?(e.highlightIMadeThisButton(),p(e.$recipeMethodStepNumberLi.last()),n=s.NUMERIC_DATA.DECR):(r.iMadeThisEvent(),e.markIMadeThisAsSelected());var o=i.updateCountInFAPI("recipe",$(this).data("recipe-id"),n,"iMadeThisCount",$(".made-this-counter > .counter"),function(e,t){$(".made-this-counter > .counter-suffix span.label").html(c.pluralise(t,"person","people"))}),a=$(".recipe-hero-actions > ul li.i-made-this-label");0===o?a.addClass("count-0"):a.removeClass("count-0")}),this.$annotatedIngredients.find(".descriptor").on("click",function(t){t.stopPropagation(),t.preventDefault();var n=$(this).closest(".annotated-ingredient"),o=!n.hasClass("opened");e.$annotatedIngredients.removeClass("opened"),o&&(n.addClass("opened"),r.revealIngredientOrMethodStepEvent())}),l.isNotPhone()&&this.showTooltip()},t.exports=new o},{"./constants":19,"./models/numeric-data-service":80,"./tracking/event-tracking":110,"./utils/breakpoints":116,"./utils/string-manager":139,"./utils/tooltip":140}],99:[function(e,t,n){function o(){var e=a(".page-main-content");if(0!==e.length){var t=r.extractRecipeInfo(a('script[data-schema-entity="recipe"][data-taste-schema]')),n=new s("Print recipe","recipe-print-dialog",l.hb.recipe_print_dialog.render({recipeTitle:t.title?t.title:""})),o=n.contentContainer();o.find('[data-control-action="cancel"]').click(function(){n.close()}),n.open(),a(".recipe-print-dialog .controls .print").on("click",function(){i(e,o,n)}),a('.recipe-print-dialog li input[type="checkbox"]').on("change",function(){var e=a(this),t=e.siblings("label");e.is(":checked")?t.addClass("checked"):t.removeClass("checked")})}}function i(e,t,n){for(var o=[e.find(".lead-image-block"),e.find(".nutritional-info-table.print-only")],i=[t.find("#print-picture"),t.find("#print-nutritional-info")],a=0;a<i.length;a++)i[a].is(":checked")?o[a].removeClass("hidden-print"):o[a].addClass("hidden-print");n.close(),c.trackRecipePrint(),window.print()}var a=e("jquery"),r=e("./recipes-ingredients-manager"),s=e("./utils/modal"),l=e("../dist/templates"),c=e("./tracking/event-tracking");t.exports.init=function(){a(".page-main-content .icon-print").on("click",function(e){e.preventDefault(),window.NewsGigya.ifLoggedIn(function(){setTimeout(o,0)},function(){window.NewsActionQueue.addActionToQueue(o,{},"printRecipe"),window.NewsGigya.showLogin(new CustomEvent("click"))})})},t.exports.openPrintDialog=function(){o()}},{"../dist/templates":2,"./recipes-ingredients-manager":100,"./tracking/event-tracking":110,"./utils/modal":128,jquery:"jquery"}],100:[function(e,t,n){var o=e("jquery"),i=e("./utils/alert-manager"),a=e("./alert-dialog"),r=e("./utils/string-manager"),s=e("./helpers/nav-icon"),l=e("./utils/router"),c=e("./members/data-store"),u=o("a.shopping-cart");t.exports.extractRecipeInfo=function(e){if(0!==e.length){var t=JSON.parse(e.text());if(void 0===t.name)throw"Recipe name not found";if(void 0===t.image)throw"Recipe image url not found";if(void 0===e.data("fapiId"))throw"Recipe Fapi Id not found";if(void 0===e.data("schemaEntity"))throw"Recipe schema entity not found";if(void 0===t.ingredientSections)throw"Recipe ingredients not found";var n=[],o=[];if("object"!=typeof t.ingredientSections[0])throw"Invalid items passed into recipe data";Object.keys(t.ingredientSections).forEach(function(e){var i=t.ingredientSections[e];n[e]=i.ingredient||"",o[e]=i.parsedIngredient||n[e]});var i={title:t.name,id:e.data("fapiId"),type:e.data("schemaEntity"),items:n,parsedItems:o};if("recipe"===i.type)return i}};var d=function(e){o.each(e,function(e,t){var n=t.parsedItems||t.items||[];if(0!==n.length){var i=encodeURIComponent(t.title),a=n.map(encodeURIComponent),r="https://beacon.krxd.net/event.gif?event_id=M7CPEgKT&event_type=clk&Ingredient="+a.join(",")+"&Recipe="+i;o("body").append(o('<img width="0" height="0">').attr("src",r)),metrics.ev({eVar88:n,eVar89:t.title})}})},p=function(){var e=l.buildCurrentUrlWithAdditionalGetParameters(["utm_source=listregister&utm_content=limit#member-function:login"]),t=l.buildCurrentUrlWithAdditionalGetParameters(["utm_source=listlogin&utm_content=limit#member-function:register"]),n=a("Save your shopping list",'You have reached your shopping list limit of 3 recipes. <br/> <a class="auth-button" href="'+e+'">Log In</a><a class="auth-button register" href="'+t+'">Sign Up</a><a class="view-my" href="'+l.generate("shopping_list")+'">View My Shopping List</a>',null,function(){},"You've reached your shopping list limit","shopping-cart");n.contentContainer().parent().addClass("shopping-list-max-limit-warning-container"),n.open()},f=function(e){var t=a("Save shopping list","The "+e+' been added to your shopping list. <br/> View your shopping list <a href="#" class="openShoppingList">here</a>',"Got it",function(){});return o(t).on("modal.opened",function(){var e=t.contentContainer().find(".openShoppingList");void 0!=e&&null!=e&&e.click(function(e){e.preventDefault(),t.close(),u.trigger("click")})}),t},m=function(e,t,n){if(e){f(n).open()}else i.error("Unable to add "+t+" at the moment")},h=function(e){var t=e;return["parsedItems"].forEach(function(e){delete t[e]}),t},b=function(e,t,n){var i=r.pluralise(n,"recipe","recipes"),a=r.pluralise(n,"item has","items have");return 1===n.length&&n[0].items.length>1&&(i="recipes",a="items have"),function(r){if(void 0!==r&&null!==r&&void 0!==r.values&&null!=r.values&&"function"!=typeof r.values||(r={values:[]}),!0!==e&&r.values.length>=3)p();else{for(var l=0;l<n.length;l++){if(!0!==e&&3===r.values.length){p();break}var c=o.extend({},n[l]);r.values.push(h(c))}t.save(r,function(e){m(e,i,a)}),d(n)}s.updateShoppingListHasItems(r.values.length>0)}};t.exports.saveRecipesToShoppingList=function(e){NewsGigya.ifLoggedIn(function(){var t=c.storage("shoppingList");t.load(b(!0,t,e))},function(){var t=c.storage("nonMemberShoppingList");t.load(b(!1,t,e))})},t.exports.generateSaveRecipeMessageModal=f},{"./alert-dialog":13,"./helpers/nav-icon":27,"./members/data-store":42,"./utils/alert-manager":114,"./utils/router":136,"./utils/string-manager":139,jquery:"jquery"}],101:[function(e,t,n){function o(e){for(var t=0;t<e.length;t++){var n=e[t].method,o=s(e[t].container);"function"==typeof n&&n(o,e[t].selector,e[t].args)}}function i(e,t,n){var o=n[0],i=n[1];s(e).on("click",t,function(){var e=s(t).index(this),n="";e<=1?n=o:(e=e%2==0?e/2:(e-1)/2,n=i+e),s_objectID=n})}function a(e,t,n){s(e).on("click",t+" article a",function(){var e=0,o="";switch(n){case"search":e=s(t+" article a").index(this),e=e<=1?1:e%2!=0?e-1:e,o="colesfeaturedsearch"+e;break;case"collection":e=s(t).index(s(this).closest(t)),o="collectionModule_"+(e+1);break;case"horizontal_highlights":e=s(t).index(s(this).closest(t)),o="highlightsmodule_"+(e+1)}s_objectID=o})}function r(e,t,n){s(e).on("click",t,function(){s_objectID=n})}var s=e("jquery"),l=e("./utils/is-page"),c=[{container:".page-main-header",selector:"a.login.button",method:r,args:"log in"},{container:".page-main-header",selector:"a.register.button",method:r,args:"join"},{container:".page-main-header",selector:"a.shopping-cart",method:r,args:"cart"},{container:".page-main-header",selector:"div.container-fluid.menu-container div.center-block > ul li:nth-child(8) a",method:r,args:"floatingpillar"},{container:".mobile-top-bar",selector:"button.navbar-search-mobile-icon",method:r,args:"search_icon"}],u=[{container:".page-main-content",selector:".promoted-search",method:a,args:"search"}],d=[{container:".page-main-content",selector:".highlight.top-picks.our-picks article a",method:i,args:["hero","hero"]},{container:".page-main-content",selector:".highlight.top-picks.feed-your-family div.top-picks.list-items article a",method:i,args:["herocoles","coleshero"]},{container:".page-main-content",selector:".highlight.top-picks.quick-easy div.top-picks.list-items article a",method:i,args:["heroquickeasy","quickeasyhero"]},{container:".page-main-content",selector:".highlight.top-picks.healthy div.top-picks.list-items article a",method:i,args:["herohealthy","healtyhero"]},{container:".page-main-content",selector:".highlight.top-picks.baking div.top-picks.list-items article a",method:i,args:["herobaking","bakinghero"]},{container:".page-main-content",selector:".highlight.top-picks.entertaining div.top-picks.list-items article a",method:i,args:["heroentertaining","entertainghero"]},{container:".page-main-content",selector:".highlight.collection-highlights.breakout",method:a,args:"collection"},{container:".page-main-content",selector:".highlight.breakout.horizontal-highlights",method:a,args:"horizontal_highlights"},{container:".page-main-content",selector:".highlight.top-picks.feed-your-family section.section-latest-items article a",method:r,args:"coleslatest"},{container:".page-main-content",selector:".highlight.top-picks.quick-easy section.section-latest-items article a",method:r,args:"quickeasylatest"},{container:".page-main-content",selector:".highlight.top-picks.entertaining section.section-latest-items article a",method:r,args:"entertaininglatest"},{container:".page-main-content",selector:".highlight.top-picks.healthy section.section-latest-items article a",method:r,args:"healthylatest"},{container:".page-main-content",selector:".highlight.top-picks.baking section.section-latest-items article a",method:r,args:"bakinglatest"}],p=[{container:".recipe-lead-image-caption-box",selector:".add-to-coles",method:r,args:"shop_btn_1"}],f=[{container:".page-main-content .highlight.top-picks",selector:"article a",method:i,args:["coles_hero","coles_hero"]},{container:".page-main-content .highlight.horizontal-highlights",selector:"article a",method:r,args:"coles_highlights_module"},{container:".page-main-content .highlight.combined-content",selector:"article a",method:r,args:"coles_collection_module"},{container:".page-main-content .highlight.carousel",selector:"article a",method:r,args:"coles_carousel"}],m=function(){var e=c;l("home")?e=e.concat(d):l("search-results")?e=e.concat(u):l("recipe-page")?e=e.concat(p):l("feed-your-family")&&(e=e.concat(f)),o(e)};t.exports.init=function(){m()}},{"./utils/is-page":127,jquery:"jquery"}],102:[function(e,t,n){function o(e){function t(){m(document).off("session.registered",n),m(document).on("session.registered",n),C.find("a.login.button").trigger("click")}e.preventDefault();var n=NewsGigya.ifLoggedInCurried(r,t);n()}function i(e){if(v("user-plan"))return{type:x,id:"",title:"",slug:"",image:void 0!==e[0]?e[0].image||"":""};var t=m("main > article");return{type:_,id:t.data("fapiId"),title:t.data("title"),slug:t.data("slug"),image:t.data("image")}}function a(){var e=[];return m('script[data-schema-entity="recipe"]').each(function(){var t=m(this),n=JSON.parse(t.text());if(n){var o="";n.image&&n.image.url&&(o=n.image.url),e.push({id:t.data("fapiId"),title:n.name,type:"recipes",slug:t.data("slug"),image:o})}}),e}function r(){k.storage("menuPlanList").load(function(e){var t=new w(e);if(t.length()>=S)return void g.error("You have already saved the maximum allowed number of menu plans");var n=a(),o=i(n);if(o.type===x){var r=h.hb.save_menu.render({menuTitle:o.title,isUserMenu:o.type===x});f=b("Save menu plan",r,"save menu",function(e,i){s(t,o,n,i)});f.contentContainer().find(".controls").find("a:first-child").addClass("save-recipe-link"),f.open()}else s(t,o,n)})}function s(e,t,n,o){if(t.type===x){var i=o.find('form[name="save-menu"]'),a=i.find('input[name="menu-name"]').val().trim();if(a.length<1)return void g.error("Menu name cannot be empty");t.title=a}var r=new y(t);if(e.find("id",r.get("id"))){var s=t.type===x?"Menu already exists. Please choose a different name":"Menu already saved in My Menus";return void g.error(s)}t.type===x?l(r,n,d,p):c(r,d,p)}function l(e,t,n,o){c(e,function(){var i=[];m.each(t,function(t,n){i.push(u(e,n,t+1))}),m.when.apply(m,i).then(function(){n(e)},function(){o()})},o)}function c(e,t,n){k.getMenuPlanStorage(e.get("id")).save({type:e.get("type"),id:e.get("id"),slug:e.get("slug"),title:e.get("title"),image:e.get("image")},function(o){k.storage("menuPlanList").reset(),o?t&&t(e):n&&n()})}function u(e,t,n){var o=m.Deferred();return k.getMenuPlanItemStorage(e.get("id"),t.id).save({menuPlanId:e.get("id"),entityId:t.id,entityType:t.type,entitySource:"taste",position:n},function(e){e?o.resolve():o.reject()}),o.promise()}function d(e){void 0!==f&&f.close(),b("Save menu plan","This plan has been saved under My Menus","Got it",function(){}).open()}function p(){void 0!==f&&f.close(),g.error("Unable to save menu!")}var f,m=e("jquery"),h=e("../dist/templates.js"),b=e("./alert-dialog"),g=e("./utils/alert-manager"),v=e("./utils/is-page"),k=e("./members/data-store"),y=(e("./models/cookbook"),e("./models/menu-plan")),w=e("./models/menu-plan-list"),C=m(".page-main-header"),_="menus",x="user-menu",S=200;t.exports.init=function(){m(".menu-page .add-to-my-menus, .user-plan .add-to-my-menus").click(o)},t.exports.showDialog=r},{"../dist/templates.js":2,"./alert-dialog":13,"./members/data-store":42,"./models/cookbook":75,"./models/menu-plan":78,"./models/menu-plan-list":76,"./utils/alert-manager":114,"./utils/is-page":127,jquery:"jquery"}],103:[function(e,t,n){function o(e,t){e.preventDefault(),NewsGigya.ifLoggedIn(function(){r(e,t)},function(){u(e,t)})}function i(e){return void 0!=e&&null!=e&&e instanceof jQuery&&{id:e.data("id")||null,type:e.data("entityType")||"recipes",title:e.data("title")||null,slug:e.data("slug")||null,image:e.data("image")||null}}function a(){var e=v('script[data-schema-entity="recipe"][data-taste-schema]'),t=JSON.parse(e.text());if(!t)throw new Error("No recipe schema found!");var n="";return t.image&&(n=t.image),{id:e.data("fapiId"),title:t.name,type:"recipes",slug:e.data("slug"),image:n}}function r(e,t){j.saveHeartEvent();e=a(),_.storage("cookbookList").load(function(n){var o=new S(n),i=k.hb.save_recipe_to_cookbook.render({cookbooks:n,recipeTitle:e.title,canCreateNewCookbook:n.length<50,active:function(){return this.slug==o.get(0).get("slug")?"data-selected":""}});g=w("Save recipe",i,"save recipe",function(n,i){s(i,o,e,t);var a=v("li.save-to-cookbook a.save-recipe-link");a.length>0&&a.addClass("clicked")}),v(g).on("modal.opened",function(){y.init()}),g.contentContainer().find(".controls").find("a:first-child").addClass("save-recipe-link"),g.open()})}function s(e,t,n,o){var i,a=e.find('form[name="save-recipe-to-cookbook"]'),r=a.find('input[name="cookbook-name"]').val();r||(i=a.find(".sort-control ul li[data-selected]").data("slug")),i!==q.Cookbook.slug||r||(r=q.Cookbook.name);var s=t.find("slug",i);if(s)!n.image||n.image===I.IMAGE_PLACEHOLDER||s.get("image")!==I.IMAGE_PLACEHOLDER&&s.get("image")!==I.IMAGE_PLACEHOLDER_COOKBOOK?p(s,n,o):f(s,n,o);else{var l=r.trim();if(l.length<1)return void C.error("Cookbook name cannot be empty or have special characters");s=new x({name:l}),f(s,n,o)}}function l(e){var t=v(e.target);return"A"!==t.prop("nodeName")&&(t=t.closest("a")),t}function c(e){function t(){var t=l(e),n=new x(q.Cookbook),o=i(t);return!1===o||null==o.id||null==o.title?void b():f(n,o,function(){t.addClass("clicked")})}e.preventDefault(),NewsGigya.ifLoggedIn(t,function(){u(e)})}function u(e,t){var n=l(e),o=new x(q.Cookbook),r={};if(!1===(r=n.hasClass("save-recipe-to-default-cookbook")?i(n):E("recipe-page")?a():i(n))||null==r.id||null==r.title)return void b();L.StorageManager.saveRecipeToLocalCookbook(o,r,function(){d(r),n.addClass("clicked"),h(o,"Recipe saved to "+o.get("name"),"View My Cookbook",function(e,t){return window.location.href=T.generate("cookbooks"),!1}),t()},function(){b()})}function d(e){return A.updateCountInFAPI("recipe",e.id,I.NUMERIC_DATA.INCR,"savedCount",v(".saved-counter > .counter"),function(e,t){v(".saved-counter > .counter-suffix span.label").html(N.pluralise(t,"person","people"))})}function p(e,t,n){n=n||function(){},L.StorageManager.saveCookbookItem(e,t,function(o){o?(d(t),h(e),n()):b()})}function f(e,t,n){n=n||function(){},L.StorageManager.saveCookbook(e,t.image,function(o){_.storage("cookbookList").reset(),o?p(e,t,n):b()})}function m(){null!=g&&void 0!=g&&g.close()}function h(e,t,n,o){m(),o=o||function(){};var i=null!=e&&void 0!=e?e.get("name"):"cookbook";t=t||"The recipe has been saved to your "+i,n=n||"Got it";var a=w("Save recipe",t,n,o);a.contentContainer().parent(".modal-content").addClass("saveRecipeToCookbookMessage"),a.open()}function b(){m(),C.error("Unable to save recipe!")}var g,v=e("jquery"),k=e("../dist/templates.js"),y=e("./dropdown"),w=e("./alert-dialog"),C=e("./utils/alert-manager"),_=e("./members/data-store"),x=e("./models/cookbook"),S=e("./models/cookbook-list"),I=e("./constants"),E=e("./utils/is-page"),T=e("./utils/router"),A=e("./models/numeric-data-service"),j=e("./tracking/event-tracking"),L=e("./utils/cookbook-storage-manager"),N=e("./utils/string-manager"),q={Cookbook:L.DefaultCookbookParams};t.exports.init=function(){v(".recipe-page .save-recipe-link").click(function(e){o(e,function(){v(".recipe-page .save-recipe-link").addClass("selected")})})},t.exports.allPageInit=function(){v("body").on("click",".save-recipe-to-default-cookbook",c),v(document).on("session.registered",function(){L.StorageManager.copyNonMemberCookbookItemsToMemberCookbooks()})},t.exports.showDialog=r,t.exports.saveRecipeToDefaultCookbook=c,t.exports.saveCookbookAndItem=f},{"../dist/templates.js":2,"./alert-dialog":13,"./constants":19,"./dropdown":21,"./members/data-store":42,"./models/cookbook":75,"./models/cookbook-list":73,"./models/numeric-data-service":80,"./tracking/event-tracking":110,"./utils/alert-manager":114,"./utils/cookbook-storage-manager":118,"./utils/is-page":127,"./utils/router":136,"./utils/string-manager":139,jquery:"jquery"}],104:[function(e,t,n){var o=e("jquery");t.exports.init=function(){o("div.search-box form,form.inline-single-text-field-form,form.search-within-form").on("submit",function(){var e=o(this).find('input[name="q"]');return e.val(e.val().toLowerCase()),!0})}},{jquery:"jquery"}],105:[function(e,t,n){!function(t){t.jQuery=t.$=e("jquery")}(window),function(e){if(!e){var t={};window.localStorage={setItem:function(e,n){return t[e]=String(n)},getItem:function(e){return t.hasOwnProperty(e)?t[e]:void 0},removeItem:function(e){return delete t[e]},clear:function(){return t={}}}}}(function(){try{return"localStorage"in window&&null!=window.localStorage}catch(e){return!1}}()),Date.now||(Date.now=function(){return(new Date).getTime()}),window.oneMonthHasPassedSince=function(e){var t=new Date,n=new Date(e);return n.setMonth(n.getMonth()+1),t>n},window.getNestedProperty=function(e,t,n){if("object"!=typeof e)return null;void 0===n&&(n=null);for(var o=e,i=t.split("."),a=0;a<i.length;a++){var r=i[a];if(!o||!r in o)return n;o=o[r]}return o},window.showPopup=function(e){"accounts.login"===e.fullEventName&&(null!==window.getNestedProperty(e,"data.taste.recipeInterests.screenSubmitted")&&void 0!==window.getNestedProperty(e,"data.taste.recipeInterests.screenSubmitted")||(null===window.getNestedProperty(e,"data.taste.recipeInterests.screenPresented")||void 0===window.getNestedProperty(e,"data.taste.recipeInterests.screenPresented")||window.oneMonthHasPassedSince(window.getNestedProperty(e,"data.taste.recipeInterests.screenPresented")))&&NewsGigya.showProgressiveProfiling(null,{customParams:{onSubmit:function(e){if(null!=e&&void 0!==e&&null!=e.formModel&&void 0!==e.formModel){var t=new Date;e.formModel.data.taste.recipeInterests.screenSubmitted=t.toISOString()}}}}))}},{jquery:"jquery"}],106:[function(e,t,n){function o(){}var i=e("../js/members/data-store"),a=e("./recipes-ingredients-manager"),r=e("./utils/string-manager");o.prototype.init=function(){var e=this;$(document).on("session.registered",function(){e.copyShoppingListItemsFromNonMemberToMember()})},o.prototype.copyNonMemberMyShoppingListToMemberMyShoppingList=function(e){var t=i.storage("nonMemberMyShoppingList"),n=i.storage("myShoppingList");n.load(function(o){var i={values:[{title:"My Items",type:"myItems",items:[]}]};o&&o.values&&0!=o.values.length||(o=i),t.load(function(a){if(a||(a=i),a&&a.values&&a.values[0]&&a.values[0].items&&o&&o.values&&o.values[0]&&o.values[0].items)for(var r=0;r<a.values[0].items.length;r++)o.values[0].items.push(a.values[0].items[r]);n.save(o),t.save([i]),e&&"function"==typeof e&&e()})})},o.prototype.copyNonMemberShoppingListToMemberShoppingList=function(e){var t=i.storage("nonMemberShoppingList"),n=i.storage("shoppingList");n.load(function(o){o||(o={values:[]}),t.load(function(i){if(i||(i={values:[]}),i&&i.values&&o&&o.values)for(var s=0;s<i.values.length;s++)o.values.push(i.values[s]);if(n.save(o),t.save({values:[]}),i&&i.values&&i.values.length>0){var l=r.pluralise(i.values,"item has","items have");a.generateSaveRecipeMessageModal(l).open()}e&&"function"==typeof e&&e()})})},o.prototype.copyShoppingListItemsFromNonMemberToMember=function(e){const t=this;this.copyNonMemberMyShoppingListToMemberMyShoppingList(function(){t.copyNonMemberShoppingListToMemberShoppingList(e)})},t.exports=new o},{"../js/members/data-store":42,"./recipes-ingredients-manager":100,"./utils/string-manager":139}],107:[function(e,t,n){function o(){a(),s(),l(document).on("session.registered session.terminated",function(){i()}),i()}function i(){var e=l("#share-email-button");NewsGigya.ifLoggedIn(function(){e.off("click.showEmailDialog")},function(){e.on("click.showEmailDialog",function(t){(c("recipe-page")||c("article-page")||c("gallery-page")||c("menu-page"))&&(NewsGigya.showLogin(new CustomEvent("click"),{queueActions:[{action:function(){e.click()}}]}),t.preventDefault(),t.stopPropagation())})})}function a(e){l(".pinterest-link.social-icon, .twitter-link.social-icon, .facebook-link.social-icon").on("click",function(){r(this,e)})}function r(e,t){var n=null,o=e.getAttribute("data-provider");o&&(n=o+":story-inline"),window.NLM.tealiumEvents.fireEventNow({event:"event6",eVar27:t||n})}function s(){l(".print-link").on("click",function(e){e.preventDefault(),c("recipe-page")?p.isLive("TASII-2060")?d.showLoginOrCallback(u.openPrintDialog):u.openPrintDialog():window.print()})}var l=e("jquery"),c=e("./utils/is-page"),u=e("./recipe-print"),d=e("./utils/is-logged-in"),p=e("./utils/promotions");t.exports.init=function(){o()}},{"./recipe-print":99,"./utils/is-logged-in":126,"./utils/is-page":127,"./utils/promotions":131,jquery:"jquery"}],108:[function(e,t,n){var o=e("./tracking/event-tracking"),i=e("./utils/breakpoints");t.exports.init=function(){$(".tabs").each(function(){var e=$(this),t=e.hasClass("mobile-only");e.find(".nav-tabs a").on("click",function(n){
if(n.preventDefault(),!t||!i.isNotPhone()){var a=$(this);e.find(a.attr("href")).length>0&&(e.find(".nav-tabs > li").removeClass("active"),a.parent().addClass("active"),e.find(".tab-content .tab-pane").removeClass("active").remove("in"),e.find(a.attr("href")).addClass("active").addClass("in").trigger("tab-active"),o.triggerOnTabEvent($(this).attr("id")))}})})}},{"./tracking/event-tracking":110,"./utils/breakpoints":116}],109:[function(e,t,n){function o(){return a.isPhone()?"mobile":"web"}function i(){window.utag_data=window.utag_data||{},window.utag_data.net_platform=o()}var a=e("./utils/breakpoints");t.exports.init=i},{"./utils/breakpoints":116}],110:[function(e,t,n){function o(e,t){window.NLM.tealiumEvents.fireEventOnNextPageLoad({event:e,itm:t})}function i(e,t){window.NLM.tealiumEvents.fireEventNow({event:e,itm:t})}var a={ingredientsTab:{event:"event78",itemData:{container:"Recipe Ingredient Tab"}},methodStepsTab:{event:"event79",itemData:{container:"Recipe Method Steps Tab"}}};t.exports.triggerFireEventNow=i,t.exports.trackRecipePrint=function(){i("event50",{container:"Taste print recipe",label:window.utag_data.nlm_recipe_id||"",order:"1"})},t.exports.ingredientSelectEvent=function(){i("event75",{container:"Recipe In Ingredient"})},t.exports.revealIngredientOrMethodStepEvent=function(){i("event76",{container:"Recipe In Method Steps"})},t.exports.saveHeartEvent=function(){i("event71",{container:"Recipe heart icon"})},t.exports.iMadeThisEvent=function(){i("event72",{container:"Recipe I Made this"})},t.exports.authorIconClickEvent=function(){o("event73",{container:"Recipe Author Icon"})},t.exports.triggerOnTabEvent=function(e){void 0!==a[e]&&i(a[e].event,a[e].itemData)},t.exports.propensityModelRegoStart=function(){i("event27",{container:"Event 27 Propensity model rego start"}),window.vidoraPredictionAPI.sendAdobeConversionEvent(27)},t.exports.propensityModelRegoComplete=function(){i("event30",{container:"Event 30 Propensity model rego complete"}),window.vidoraPredictionAPI.sendAdobeConversionEvent(30)},t.exports.meteredWallRegoStart=function(){i("event24",{container:"Event 24 Metered wall rego start"}),window.vidoraPredictionAPI.sendAdobeConversionEvent(24)},t.exports.meteredWallRegoComplete=function(){i("event25",{container:"Event 25 Metered wall rego complete"}),window.vidoraPredictionAPI.sendAdobeConversionEvent(25)},t.exports.noWallRegoStart=function(){i("event68",{container:"Event 68 No wall rego start"}),window.vidoraPredictionAPI.sendAdobeConversionEvent(68)},t.exports.propensityModelRegoInit=function(){window.NLM.tealiumEvents.fireEventNow({eVar51:"nlm_propensity_wall_test_group_a"})},t.exports.meteredWallRegoInit=function(){window.NLM.tealiumEvents.fireEventNow({eVar51:"nlm_propensity_wall_test_group_b"})},t.exports.noWallRegoInit=function(){window.NLM.tealiumEvents.fireEventNow({eVar51:"nlm_propensity_wall_test_group_c"})}},{}],111:[function(e,t,n){function o(e,t){var n=a[e];if(void 0===n)return void console.log("Invalid neilsen event: "+e);void 0===n.queued&&(n.queued=[]),n.queued.push(t),i(n)}function i(e){if(e.ready()){for(var t=0;t<e.queued.length;t++)e.track(e.queued[t]);e.queued=[]}else e.timeout&&clearTimeout(e.timeout),e.timeout=setTimeout(function(){i(e)},200)}var a={tracSlideEvent:{ready:function(){return void 0!==window.trac},track:function(e){window.trac.slideEvent(e)}},sdkOnPaginateEvent:{ready:function(){return void 0!==window.nn&&void 0!==window.nn.nSdkInstance},track:function(e){window.nn.nSdkInstance.ggPM("onPaginate",{eventType:"page",descriptor:e})}}};t.exports={tracSlideEvent:function(e){o("tracSlideEvent",e)},sdkOnPaginateEvent:function(e){o("sdkOnPaginateEvent",e)}}},{}],112:[function(e,t,n){var o=e("jquery");t.exports.init=function(){var e=o(".list-items .promoted-search");e.find("a").on("click",function(){var t=o(this),n=t.attr("href").match(/\/recipes\/[^\/]+\/([a-z0-9\-]+)/i),i=n&&void 0!==n[1]?n[1]:"unknown",a=e.index(t.closest(".promoted-search"))+1;window.NLM.tealiumEvents.fireEventOnNextPageLoad({itm:{container:"Coles - featuredsearch - "+i,label:"heading",order:a}})})}},{jquery:"jquery"}],113:[function(e,t,n){function o(e,t){this.$container=e,this.behaviour=this.$container.data("behaviour")||"replace",this.minScreenWidth=this.$container.data("min-screen-width")||0,this.updating=!(void 0===this.$container.data("updating")),this.defer=!(void 0===this.$container.data("defer")),this.ajaxOptions=i.extend({},t,r)}var i=e("jquery"),a=e("./viewport-width"),r={method:"GET"};o.prototype.getUrl=function(){return this.$container.data("sourceUrl")},o.prototype.load=function(e){this.$container.trigger("block.loadstart");var t=this.getUrl();if(!t)throw"Could not load content for block: missing data-source-url attribute";var n=this;return i.ajax(t,this.ajaxOptions).then(function(t){n.$container.trigger("block.result",{result:t}),n.$container[e](t),n.$container.trigger("block.loadend")}).fail(function(){throw n.$container.trigger("block.fail"),"Could not load content for block: server error"})},o.prototype.canRun=function(){return a()>=this.minScreenWidth},o.prototype.run=function(){if(this.canRun())return this[this.behaviour]()},o.prototype.replace=function(){return this.load("html")},o.prototype.update=function(){return this.load("append")},t.exports=o},{"./viewport-width":141,jquery:"jquery"}],114:[function(e,t,n){function o(e,t){var n=i("#taste-alert"),o="alert alert-"+t.type;n.removeClass(),n.addClass(o).text(e).fadeIn(t.fadeIn).delay(t.delay).fadeOut(t.fadeOut)}var i=e("jquery"),a={delay:2500,fadeIn:"fast",fadeOut:"slow",type:"success"};t.exports.error=function(e,t){var t=i.extend({},a,t);t.type="danger",o(e,t)},t.exports.info=function(e,t){var t=i.extend({},a,t);t.type="info",o(e,t)},t.exports.success=function(e,t){var t=i.extend({},a,t);t.type="success",o(e,t)},t.exports.warning=function(e,t){var t=i.extend({},a,t);t.type="warning",o(e,t)}},{jquery:"jquery"}],115:[function(e,t,n){function o(){p++,r(s).length>0?(clearInterval(d),f=!0,i()):p>=c&&clearInterval(d)}function i(){for(var e=0;e<u.length;e++)u[e]()}function a(e){u.push(e),0===p&&null===d?d=setInterval(o,l):f&&e()}var r=e("jquery"),s=".bz-custom-container",l=500,c=80,u=[],d=null,p=0,f=!1;t.exports={ifSkinLoads:a}},{jquery:"jquery"}],116:[function(e,t,n){var o=e("./viewport-width"),i=e("../../../../config/breakpoints.json"),a={phone:function(){return o()<=i["screen-phone-max"]},tablet:function(){var e=o();return e>=i["screen-tablet-min"]&&e<=i["screen-tablet-max"]},desktop:function(){return o()>=i["screen-desktop-min"]},wideDesktop:function(){return o()>=i["screen-wide-desktop-min"]},notDesktop:function(){return r("tablet")()||r("phone")()},notPhone:function(){return r("tablet")()||r("desktop")()}},r=function(e){return function(){if(void 0==a[e])throw"No rule has been defined for device: "+e;return a[e].call()}},s=function(e){return function(t){r(e)()&&t()}},l=function(e){$(window).on("resize",function(){e()}),e()};t.exports=window.breakpoints={isPhone:r("phone"),isTablet:r("tablet"),isDesktop:r("desktop"),isWideDesktop:r("wideDesktop"),isNotPhone:r("notPhone"),isNotDesktop:r("notDesktop"),ifPhoneThenRun:s("phone"),ifTabletThenRun:s("tablet"),ifDesktopThenRun:s("desktop"),ifNotPhoneThenRun:s("notPhone"),ifNotDesktopThenRun:s("notDesktop"),enableScreenSizeWatching:l}},{"../../../../config/breakpoints.json":143,"./viewport-width":141}],117:[function(e,t,n){var o=e("jquery");t.exports=function(e,t){return function(n){if(e.call(void 0,n)){n.stopPropagation();var i=o("html");i.css("cursor","pointer"),i.one("click",function(){i.css("cursor",""),t.call(void 0,n)})}}}},{jquery:"jquery"}],118:[function(e,t,n){function o(e,t){s(document).trigger(e,{hasItems:t})}function i(){this.TOTAL_LOCAL_RECIPES_ALLOWED=3}var a=e("../members/data-store"),r=e("../alert-dialog"),s=e("jquery"),l=e("../models/cookbook"),c=e("../models/cookbook-list"),u=e("../utils/string-manager"),d=e("../utils/router"),p={slug:"my-cookbook",name:"My Cookbook"};i.prototype.showWarningHittingMaxNumberOfRecipesAllowed=function(){var e=d.buildCurrentUrlWithAdditionalGetParameters(["utm_source=listregister&utm_content=limit#member-function:login"]),t=d.buildCurrentUrlWithAdditionalGetParameters(["utm_source=listlogin&utm_content=limit#member-function:register"]),n=this,o=r("Save your recipe to cookbook",'Log in or sign up to save more recipes and organise your cookbooks.<br/> <a class="auth-button" href="'+e+'">Log In</a><a class="auth-button register" href="'+t+'">Sign up</a><a class="view-my" href="'+d.generate("cookbooks")+'">View My Cookbook</a>',null,function(){},"You've reached your limit of "+n.TOTAL_LOCAL_RECIPES_ALLOWED+" recipes.","icon-heart-saved");o.contentContainer().parent().addClass("cookbook-list-max-limit-warning-container"),o.open()},i.prototype.saveCookbook=function(e,t,n){return a.getCookbookStorage(e.get("slug")).save({slug:e.get("slug"),name:e.get("name"),image:t},function(e){e&&o("cookbook.saved"),"function"==typeof n&&n(e)})},i.prototype.saveCookbookItem=function(e,t,n){return a.getCookbookItemStorage(e.get("slug"),t.id).save({cookbookSlug:e.get("slug"),entityId:t.id,entityType:t.type,entityTitle:t.title},function(e){e&&o("cookbook.saved",!0),"function"==typeof n&&n(e)})},i.prototype.deleteItemFromLocalCookbook=function(e,t,n,o){n=n||function(){},o=o||function(){};var i=e.get("recipes").find("id",t);if(!i)throw o(),"Recipe not found in cookbook: "+t;e.get("recipes").removeModel(i),this.saveLocalCookbook(e,n,o)},i.prototype.saveLocalCookbook=function(e,t,n){a.storage("nonMemberCookbookList").save(e.serialize(),function(i){if(i)return o("cookbook.saved",e.get("recipes").length()>0),t();n()})},i.prototype.saveRecipeToLocalCookbook=function(e,t,n,o){n=n||function(){},o=o||function(){};var i=this;a.storage("nonMemberCookbookList").load(function(a){var r;r=new l(void 0===a||0===Object.keys(a).length?{name:e.get("name"),slug:e.get("slug"),image:e.get("image")}:a);var s=r.get("recipes");if(s.length()<i.TOTAL_LOCAL_RECIPES_ALLOWED){var c=!1;s.each(function(e,n){n.get("id")===t.id&&(c=!0)}),c?n():(r.addRecipe(t),i.saveLocalCookbook(r,n,o))}else i.showWarningHittingMaxNumberOfRecipesAllowed()})},i.prototype.copyNonMemberCookbookItemsToMemberCookbooks=function(){var e=this;a.storage("nonMemberCookbookList").load(function(t){var n=!0;void 0===t||void 0===t.recipes||t.recipes&&0===t.recipes.length?n=!1:a.storage("cookbookList").load(function(n){var o=new c(n),i=o.findCookbookBySlug(p.slug);i?t.recipes.forEach(function(t,n){e.saveCookbookItem(i,t)}):(i=new l(p),e.saveCookbook(i,t.recipes[0].image,function(){t.recipes.forEach(function(t,n){e.saveCookbookItem(i,t)})}));var a=u.pluralise(t.recipes||[],"item has","items have");r("Save recipe","The "+a+" been added to your "+i.get("name"),"Got it",function(){}).open()}),a.storage("nonMemberCookbookList").save({}),o("cookbook.saved",n)})},t.exports.StorageManager=new i,t.exports.DefaultCookbookParams=p},{"../alert-dialog":13,"../members/data-store":42,"../models/cookbook":75,"../models/cookbook-list":73,"../utils/router":136,"../utils/string-manager":139,jquery:"jquery"}],119:[function(e,t,n){function o(e){var t="; "+document.cookie,n=t.split("; "+e+"=");return 2===n.length?n.pop().split(";").shift():null}function i(e,t,n,o){var i="",a=0;if(void 0!==n&&n>0&&(a+=24*n*60*60*1e3),void 0!==o&&o>0&&(a+=60*o*1e3),a>0){var r=new Date;r.setTime(r.getTime()+a),i="; expires="+r.toUTCString()}document.cookie=e+"="+t+i+"; path=/"}t.exports={getCookie:o,setCookie:i}},{}],120:[function(e,t,n){function o(e,t,n){var o;return function(){var i=this,a=arguments,r=function(){o=null,n||e.apply(i,a)},s=n&&!o;clearTimeout(o),o=setTimeout(r,t),s&&e.apply(i,a)}}t.exports=o},{}],121:[function(e,t,n){function o(e){var t=$.Deferred();return e(function(e){e?t.resolve(e):t.reject(e)}),t.promise()}function i(e){var t=$.Deferred();return e(function(e){t.resolve(e)}),t.promise()}t.exports={trueFalseWrapper:o,deferredWrapper:i}},{}],122:[function(e,t,n){function o(e){var t,n=e.data("anchorOffset");if(n)t=function(){return n};else{var o=a(e.data("anchorElement"));t=function(e){return r.relativeToTopOfContainer(o,e)}}return new i(e,t)}function i(e,t){var n=e.parent();this.enable=function(){e.css("position","absolute"),e.css("top",t(n)+"px")},this.disable=function(){e.css("position",""),e.css("top","")}}var a=e("jquery"),r=e("./position");t.exports={make:o}},{"./position":123,jquery:"jquery"}],123:[function(e,t,n){function o(e,t){return e.offset().top-(r(window).scrollTop()+t)}function i(e){return e.offset().top+e.outerHeight()}function a(e,t){return i(e)-t.offset().top}var r=e("jquery");t.exports={toViewPortTop:o,relativeToTopOfContainer:a,bottomOf:i}},{jquery:"jquery"}],124:[function(e,t,n){function o(e){var t,n,o=e.parent(),s=e.data("startElement"),l=e.data("stopElement");return t=s?function(){return r.relativeToTopOfContainer(a(s),o)+20}:function(){return 0},n=l?function(){return a(l).offset().top-o.offset().top-20}:function(){return 1/0},new i(e,o,t,n)}function i(e,t,n,o){var i=-1,a="";this.moveStickyElement=function(t,n){a==n&&i==t||(e.css("position",n),e.css("top",t+"px"),i=t,a=n)},this.disable=function(){e.css("position",""),e.css("top",""),i=-1},this.stickToViewPortTop=function(i){"undefined"===i&&(i=0);var a=r.toViewPortTop(t,i),s=Math.abs(a),l=Math.max(0,n());if(a>=0||s<l)return void this.moveStickyElement(l,"absolute");var c=t.height()-e.height(),u=Math.min(c,o()-e.height());if(Math.min(s,u)===u)return void this.moveStickyElement(u,"absolute");this.moveStickyElement(i,"fixed")}}var a=e("jquery"),r=e("./position");t.exports={make:o}},{"./position":123,jquery:"jquery"}],125:[function(e,t,n){function o(e,t,n){for(var o in t)if(t.hasOwnProperty(o)){var i=e.find('[name="'+o+'"]');if(0!==i.length){var a=t[o];if(!n||a)switch(i.attr("type")){case"checkbox":var s=r.isArray(a)?a:[a];for(var l in s){var c=s[l];i.filter('[value="'+c+'"]').prop("checked",!0)}break;case"radio":i.filter('[value="'+a+'"]').prop("checked",!0);break;default:i.val(a)}}}}function i(e,t,n){t=t||1,n=n||"",a(e,t,n),e.on("change",function(o){a(e,t,n)})}function a(e,t,n){e.filter(":checked").length>=t?(e.attr("required",!1),""!==n&&e.each(function(e,t){t.setCustomValidity("")})):(e.attr("required",!0),""!==n&&e.each(function(e,t){t.oninvalid=function(){this.setCustomValidity(n)}}))}var r=e("jquery");t.exports={setFormValues:o,checkboxGroupValidation:i}},{jquery:"jquery"}],126:[function(e,t,n){function o(e){function t(){i(document).off("session.registered",o),i(document).on("session.registered",o);var e=n.find("a.login.button");e.length>0&&e.first().trigger("click")}var n=i(".page-main-header"),o=NewsGigya.ifLoggedInCurried(e,t);o()}var i=e("jquery");t.exports={showLoginOrCallback:o}},{jquery:"jquery"}],127:[function(e,t,n){var o=e("jquery"),i=null;t.exports=function(e){return null===i&&(i=o(document.body)),i.hasClass(e)}},{jquery:"jquery"}],128:[function(e,t,n){function o(e,t,n){this.title=e,this.id=t||r.generate(),this.html=a.hb.modal.render({title:this.title,id:this.id,body:n}),0==i(document).find("#"+this.id).length&&i(document).find("body").prepend(this.html),this.$modal=i(document).find("#"+this.id);var o=this;i(window).click(function(e){i(e.target).hasClass("modal")&&o.close()})}var i=e("jquery"),a=e("../../dist/templates.js"),r=e("./random-id");o.prototype.open=function(){i(this).trigger("modal.beforeOpen"),this.$modal.show(),i(this).trigger("modal.opened"),this.$modal.find(".modal-header .close").on("click",{context:this},o.prototype.close),i(document).keyup({context:this},o.prototype.close)},o.prototype.contentContainer=function(){return this.$modal.find(".modal-body")},o.prototype.close=function(e){var t;if(void 0!==e){if(t=e.data.context,"keyup"==e.type&&27!=e.keyCode)return!1}else t=this;i(t).trigger("modal.beforeClose"),t.$modal.remove(),i(t).trigger("modal.closed")},t.exports=o},{"../../dist/templates.js":2,"./random-id":133,jquery:"jquery"}],129:[function(e,t,n){function o(){var e=0;return i.hasClass("ad-hidden")||(e+=i.outerHeight()),e+=a.outerHeight(),r.hasClass("ad-hidden")&&!r.hasClass("sticky-nav")||(e+=r.outerHeight()),e}var i=$(".prom-header"),a=$(".main-header"),r=$(".navigation");t.exports={height:o}},{}],130:[function(e,t,n){function o(e,t){for(var n=t.split("."),o=0;o<n.length;o++){if(!e||!e.hasOwnProperty(n[o]))return!1;e=e[n[o]]}return!0}function i(e,t){for(var n=t.split("."),o=0;o<n.length;o++){if(!e||!e.hasOwnProperty(n[o]))return!0;e=e[n[o]]}return!e}t.exports={isDefined:o,isEmpty:i}},{}],131:[function(e,t,n){function o(e){for(var t=new Date,n="",o=0;o<i.length;o++)if(i[o].name===e){n=i[o];break}return""!==n&&!(t<n.start||t>n.end)}var i=[{name:"TASII-2060",start:new Date("Sept 09 2019 00:00:00"),end:new Date("Sept 10 2030 00:00:00")}];t.exports={isLive:o}},{}],132:[function(e,t,n){t.exports=function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),o=n.exec(t);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null}},{}],133:[function(e,t,n){t.exports.generate=function(e){return(void 0===e||e<0)&&(e=9),Math.random().toString(36).substr(2,e)},t.exports.getInt=function(e,t){if(e=Math.ceil(e),t=Math.floor(t),e>t)throw"Max cannot be greater than Min";return Math.floor(Math.random()*(t-e+1))+e}},{}],134:[function(e,t,n){function o(e,t){var n,o=!0;return function(){var i=this,a=arguments;n=function(){o=!1,n=null,e.apply(i,a),setTimeout(function(){n?n():o=!0},t)},o&&n&&n()}}t.exports=o},{}],135:[function(e,t,n){function o(){var e=[];a.isDesktop()&&e.push(".remove-desktop"),a.isTablet()&&e.push(".remove-tablet"),a.isPhone()&&e.push(".remove-mobile"),e.length>0&&i(e.join(",")).remove()}var i=e("jquery"),a=e("./breakpoints");t.exports.init=function(){a.enableScreenSizeWatching(o)}},{"./breakpoints":116,jquery:"jquery"}],136:[function(e,t,n){function o(){this.name="RouteNotFoundException"}function i(){this.name="RouteTokensNotFoundException"}function a(){this.name="MissingParametersException"}function r(){return s('script[data-member-role="wrapper"]').data("baseUrl")}var s=e("jquery"),l=e("../../dist/routes.json"),c={};c.generate=function(e,t){if(!l[e])throw(new o).name;var n=l[e],c={};if(t?(c=t,t=s.extend(n.defaults,t)):t=n.defaults,0==n.tokens.length)throw new i;var u="",d=[];if(s.each(n.tokens,function(e,n){"text"==n[0]?u=n[1]+u:"variable"==n[0]&&t[n[3]]?(u=n[1]+t[n[3]]+u,delete c[n[3]]):t[n[3]]||d.push(n[3])}),d.length>0)throw new a;return u=r()+u,Object.keys(c).length>0&&(u+="?"+s.param(c)),u},c.checkIfOnPage=function(e,t){return window.location.pathname===c.generate(e,t)},c.buildCurrentUrlWithAdditionalGetParameters=function(e){var t=window.location.href,n=e.join("&");return t+(t.indexOf("?")>-1?"&":"?")+n},t.exports=c},{"../../dist/routes.json":1,jquery:"jquery"}],137:[function(e,t,n){t.exports.init=function(){$("body").on("click","a[data-scroll-to]",function(e){e.preventDefault();var t=$(this).data("scrollTo"),n=parseInt($(this).data("scrollOffset"))||0,o=parseInt($(this).data("scrollDuration"))||300,i=$(t);i.length>0&&$("html, body").animate({scrollTop:i.offset().top-n},o)})}},{}],138:[function(e,t,n){t.exports.slugify=function(e){return e.toLowerCase().replace(/\W+/g,"-").replace(/^-|-$/,"")}},{}],139:[function(e,t,n){var o=function(e,t,n){var o=!1;switch(typeof e){case"number":o=1===e;break;case"string":o="1"===e;break;default:o=1===e.length}return o?t:n},i=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};t.exports={pluralise:o,ucFirst:i}},{}],140:[function(e,t,n){function o(e,t,n){var o=this,a={onClose:function(){},onClick:function(){}};t=t||null,this.options=i.extend(a,n||{}),this.$tooltip=i(e),this.$content=this.$tooltip.find(".tooltip-content"),this.$container=t?i(t):null,this.$tooltip.on("click",function(e){e.preventDefault(),e.stopPropagation(),o.click(e)}),this.$tooltip.find(".close").on("click",function(e){e.preventDefault(),e.stopPropagation(),o.close(e)})}var i=e("jquery");o.prototype.open=function(){this.$tooltip.addClass("open"),this.fitInContainer()},o.prototype.fitInContainer=function(){if(0!==this.$content.length&&this.$container&&0!==this.$container.length){var e=this.$content[0].getBoundingClientRect(),t=this.$container[0].getBoundingClientRect(),n=0;e.left<t.left?n=t.left-e.left:e.right>t.right&&(n=t.right-e.right),0!==n&&this.$content.css("transform","translateX("+n+"px)")}},o.prototype.click=function(e){this.options.onClick(e)},o.prototype.close=function(e){this.$tooltip.removeClass("open"),this.options.onClose(e)},t.exports=o},{jquery:"jquery"}],141:[function(e,t,n){t.exports=function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0}},{}],142:[function(e,t,n){function o(e){var t=e.find("#you-might-like-tab li"),n=e.find(".list-items");t.on("click",function(e){e.preventDefault();var o=i(this),a=o.data("item-id");t.removeAttr("data-selected"),o.attr("data-selected",""),n.hide(),n.filter("[data-items-tab='"+a+"']").show()})}var i=e("jquery");t.exports.init=function(){i(".you-might-like-module").each(function(){o(i(this))}),i(".you-might-like-deferred").each(function(){var e=i(this);e.one("block.loadend",function(){o(e)})})}},{jquery:"jquery"}],143:[function(e,t,n){t.exports={"screen-phone-min":"480","screen-phone-max":"767","screen-tablet-min":"768","screen-tablet-max":"999","screen-desktop-min":"1000","screen-wide-desktop-min":"1440"}},{}],144:[function(e,t,n){!function(e){function t(e){"}"===e.n.substr(e.n.length-1)&&(e.n=e.n.substring(0,e.n.length-1))}function n(e){return e.trim?e.trim():e.replace(/^\s*|\s*$/g,"")}function o(e,t,n){if(t.charAt(n)!=e.charAt(0))return!1;for(var o=1,i=e.length;o<i;o++)if(t.charAt(n+o)!=e.charAt(o))return!1;return!0}function i(t,n,o,s){var l=[],c=null,u=null,d=null;for(u=o[o.length-1];t.length>0;){if(d=t.shift(),u&&"<"==u.tag&&!(d.tag in w))throw new Error("Illegal content in < super tag.");if(e.tags[d.tag]<=e.tags.$||a(d,s))o.push(d),d.nodes=i(t,d.tag,o,s);else{if("/"==d.tag){if(0===o.length)throw new Error("Closing tag without opener: /"+d.n);if(c=o.pop(),d.n!=c.n&&!r(d.n,c.n,s))throw new Error("Nesting error: "+c.n+" vs. "+d.n);return c.end=d.i,l}"\n"==d.tag&&(d.last=0==t.length||"\n"==t[0].tag)}l.push(d)}if(o.length>0)throw new Error("missing closing tag: "+o.pop().n);return l}function a(e,t){for(var n=0,o=t.length;n<o;n++)if(t[n].o==e.n)return e.tag="#",!0}function r(e,t,n){for(var o=0,i=n.length;o<i;o++)if(n[o].c==e&&n[o].o==t)return!0}function s(e){var t=[];for(var n in e)t.push('"'+c(n)+'": function(c,p,t,i) {'+e[n]+"}");return"{ "+t.join(",")+" }"}function l(e){var t=[];for(var n in e.partials)t.push('"'+c(n)+'":{name:"'+c(e.partials[n].name)+'", '+l(e.partials[n])+"}");return"partials: {"+t.join(",")+"}, subs: "+s(e.subs)}function c(e){return e.replace(v,"\\\\").replace(h,'\\"').replace(b,"\\n").replace(g,"\\r").replace(k,"\\u2028").replace(y,"\\u2029")}function u(e){return~e.indexOf(".")?"d":"f"}function d(e,t){var n="<"+(t.prefix||""),o=n+e.n+C++;return t.partials[o]={name:e.n,partials:{}},t.code+='t.b(t.rp("'+c(o)+'",c,p,"'+(e.indent||"")+'"));',o}function p(e,t){t.code+="t.b(t.t(t."+u(e.n)+'("'+c(e.n)+'",c,p,0)));'}function f(e){return"t.b("+e+");"}var m=/\S/,h=/\"/g,b=/\n/g,g=/\r/g,v=/\\/g,k=/\u2028/,y=/\u2029/;e.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},e.scan=function(i,a){function r(){f.length>0&&(h.push({tag:"_t",text:new String(f)}),f="")}function s(){for(var t=!0,n=v;n<h.length;n++)if(!(t=e.tags[h[n].tag]<e.tags._v||"_t"==h[n].tag&&null===h[n].text.match(m)))return!1;return t}function l(e,t){if(r(),e&&s())for(var n,o=v;o<h.length;o++)h[o].text&&((n=h[o+1])&&">"==n.tag&&(n.indent=h[o].text.toString()),h.splice(o,1));else t||h.push({tag:"\n"});b=!1,v=h.length}var c=i.length,u=0,d=null,p=null,f="",h=[],b=!1,g=0,v=0,k="{{",y="}}";for(a&&(a=a.split(" "),k=a[0],y=a[1]),g=0;g<c;g++)0==u?o(k,i,g)?(--g,r(),u=1):"\n"==i.charAt(g)?l(b):f+=i.charAt(g):1==u?(g+=k.length-1,p=e.tags[i.charAt(g+1)],d=p?i.charAt(g+1):"_v","="==d?(g=function(e,t){var o="="+y,i=e.indexOf(o,t),a=n(e.substring(e.indexOf("=",t)+1,i)).split(" ");return k=a[0],y=a[a.length-1],i+o.length-1}(i,g),u=0):(p&&g++,u=2),b=g):o(y,i,g)?(h.push({tag:d,n:n(f),otag:k,ctag:y,i:"/"==d?b-k.length:g+y.length}),f="",g+=y.length-1,u=0,"{"==d&&("}}"==y?g++:t(h[h.length-1]))):f+=i.charAt(g);return l(b,!0),h};var w={_t:!0,"\n":!0,$:!0,"/":!0};e.stringify=function(t,n,o){return"{code: function (c,p,i) { "+e.wrapMain(t.code)+" },"+l(t)+"}"};var C=0;e.generate=function(t,n,o){C=0;var i={code:"",subs:{},partials:{}};return e.walk(t,i),o.asString?this.stringify(i,n,o):this.makeTemplate(i,n,o)},e.wrapMain=function(e){return'var t=this;t.b(i=i||"");'+e+"return t.fl();"},e.template=e.Template,e.makeTemplate=function(e,t,n){var o=this.makePartials(e);return o.code=new Function("c","p","i",this.wrapMain(e.code)),new this.template(o,t,this,n)},e.makePartials=function(e){var t,n={subs:{},partials:e.partials,name:e.name};for(t in n.partials)n.partials[t]=this.makePartials(n.partials[t]);for(t in e.subs)n.subs[t]=new Function("c","p","t","i",e.subs[t]);return n},e.codegen={"#":function(t,n){n.code+="if(t.s(t."+u(t.n)+'("'+c(t.n)+'",c,p,1),c,p,0,'+t.i+","+t.end+',"'+t.otag+" "+t.ctag+'")){t.rs(c,p,function(c,p,t){',e.walk(t.nodes,n),n.code+="});c.pop();}"},"^":function(t,n){n.code+="if(!t.s(t."+u(t.n)+'("'+c(t.n)+'",c,p,1),c,p,1,0,0,"")){',e.walk(t.nodes,n),n.code+="};"},">":d,"<":function(t,n){var o={partials:{},code:"",subs:{},inPartial:!0};e.walk(t.nodes,o);var i=n.partials[d(t,n)];i.subs=o.subs,i.partials=o.partials},$:function(t,n){var o={subs:{},code:"",partials:n.partials,prefix:t.n};e.walk(t.nodes,o),n.subs[t.n]=o.code,n.inPartial||(n.code+='t.sub("'+c(t.n)+'",c,p,i);')},"\n":function(e,t){t.code+=f('"\\n"'+(e.last?"":" + i"))},_v:function(e,t){t.code+="t.b(t.v(t."+u(e.n)+'("'+c(e.n)+'",c,p,0)));'},_t:function(e,t){t.code+=f('"'+c(e.text)+'"')},"{":p,"&":p},e.walk=function(t,n){for(var o,i=0,a=t.length;i<a;i++)(o=e.codegen[t[i].tag])&&o(t[i],n);return n},e.parse=function(e,t,n){return n=n||{},i(e,"",[],n.sectionTags||[])},e.cache={},e.cacheKey=function(e,t){return[e,!!t.asString,!!t.disableLambda,t.delimiters,!!t.modelGet].join("||")},e.compile=function(t,n){n=n||{};var o=e.cacheKey(t,n),i=this.cache[o];if(i){var a=i.partials;for(var r in a)delete a[r].instance;return i}return i=this.generate(this.parse(this.scan(t,n.delimiters),t,n),t,n),this.cache[o]=i}}(void 0!==n?n:Hogan)},{}],145:[function(e,t,n){var o=e("./compiler");o.Template=e("./template").Template,o.template=o.Template,t.exports=o},{"./compiler":144,"./template":146}],146:[function(e,t,n){var o={};!function(e){function t(e,t,n){var o;return t&&"object"==typeof t&&(void 0!==t[e]?o=t[e]:n&&t.get&&"function"==typeof t.get&&(o=t.get(e))),o}function n(e,t,n,o,i,a){function r(){}function s(){}r.prototype=e,s.prototype=e.subs;var l,c=new r;c.subs=new s,c.subsText={},c.buf="",o=o||{},c.stackSubs=o,c.subsText=a;for(l in t)o[l]||(o[l]=t[l]);for(l in o)c.subs[l]=o[l];i=i||{},c.stackPartials=i;for(l in n)i[l]||(i[l]=n[l]);for(l in i)c.partials[l]=i[l];return c}function o(e){return String(null===e||void 0===e?"":e)}function i(e){return e=o(e),u.test(e)?e.replace(a,"&amp;").replace(r,"&lt;").replace(s,"&gt;").replace(l,"&#39;").replace(c,"&quot;"):e}e.Template=function(e,t,n,o){e=e||{},this.r=e.code||this.r,this.c=n,this.options=o||{},this.text=t||"",this.partials=e.partials||{},this.subs=e.subs||{},this.buf=""},e.Template.prototype={r:function(e,t,n){return""},v:i,t:o,render:function(e,t,n){return this.ri([e],t||{},n)},ri:function(e,t,n){return this.r(e,t,n)},ep:function(e,t){var o=this.partials[e],i=t[o.name];if(o.instance&&o.base==i)return o.instance;if("string"==typeof i){if(!this.c)throw new Error("No compiler available.");i=this.c.compile(i,this.options)}if(!i)return null;if(this.partials[e].base=i,o.subs){t.stackText||(t.stackText={});for(key in o.subs)t.stackText[key]||(t.stackText[key]=void 0!==this.activeSub&&t.stackText[this.activeSub]?t.stackText[this.activeSub]:this.text);i=n(i,o.subs,o.partials,this.stackSubs,this.stackPartials,t.stackText)}return this.partials[e].instance=i,i},rp:function(e,t,n,o){var i=this.ep(e,n);return i?i.ri(t,n,o):""},rs:function(e,t,n){var o=e[e.length-1];if(!d(o))return void n(e,t,this);for(var i=0;i<o.length;i++)e.push(o[i]),n(e,t,this),e.pop()},s:function(e,t,n,o,i,a,r){var s;return(!d(e)||0!==e.length)&&("function"==typeof e&&(e=this.ms(e,t,n,o,i,a,r)),s=!!e,!o&&s&&t&&t.push("object"==typeof e?e:t[t.length-1]),s)},d:function(e,n,o,i){var a,r=e.split("."),s=this.f(r[0],n,o,i),l=this.options.modelGet,c=null;if("."===e&&d(n[n.length-2]))s=n[n.length-1];else for(var u=1;u<r.length;u++)a=t(r[u],s,l),void 0!==a?(c=s,s=a):s="";return!(i&&!s)&&(i||"function"!=typeof s||(n.push(c),s=this.mv(s,n,o),n.pop()),s)},f:function(e,n,o,i){for(var a=!1,r=null,s=!1,l=this.options.modelGet,c=n.length-1;c>=0;c--)if(r=n[c],void 0!==(a=t(e,r,l))){s=!0;break}return s?(i||"function"!=typeof a||(a=this.mv(a,n,o)),a):!i&&""},ls:function(e,t,n,i,a){var r=this.options.delimiters;return this.options.delimiters=a,this.b(this.ct(o(e.call(t,i)),t,n)),this.options.delimiters=r,!1},ct:function(e,t,n){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(e,this.options).render(t,n)},b:function(e){this.buf+=e},fl:function(){var e=this.buf;return this.buf="",e},ms:function(e,t,n,o,i,a,r){var s,l=t[t.length-1],c=e.call(l);return"function"==typeof c?!!o||(s=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(c,l,n,s.substring(i,a),r)):c},mv:function(e,t,n){var i=t[t.length-1],a=e.call(i);return"function"==typeof a?this.ct(o(a.call(i)),i,n):a},sub:function(e,t,n,o){var i=this.subs[e];i&&(this.activeSub=e,i(t,n,this,o),this.activeSub=!1)}};var a=/&/g,r=/</g,s=/>/g,l=/\'/g,c=/\"/g,u=/[&<>\"\']/,d=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}(void 0!==n?n:o)},{}],147:[function(e,t,n){function o(){this.routeToGenerateTheBacklinks="generate_backlinks"}var i=e("./breakpoints"),a=e("jquery");o.prototype.showHideItemsOnPhoneAndTablet=function(){function e(o){t.off(n,e),t.find("> li").removeClass("hidden-xs hidden-sm")}var t,n="wheel mousedown touchstart touchmove";(i.isPhone()||i.isTablet())&&(t=a(".backlinks .slider-items"),t.on(n,e))},o.prototype.init=function(e){var t=this,n=a("div#render-backlinks");if(1==n.length){var o=n.data("brands"),i=n.data("customheading"),r={brands:o};void 0!==i&&(r.customHeading=i),null!=o&&null!=e&&a.ajax({type:"GET",url:e,data:r,success:function(e){n.html(e),t.showHideItemsOnPhoneAndTablet()}})}},t.exports=o},{"./breakpoints":149,jquery:"jquery"}],148:[function(e,t,n){arguments[4][143][0].apply(n,arguments)},{dup:143}],149:[function(e,t,n){var o=e("./viewport-width"),i=e("./breakpoints.json"),a={phone:function(){return o()<=i["screen-phone-max"]},tablet:function(){var e=o();return e>=i["screen-tablet-min"]&&e<=i["screen-tablet-max"]}},r=function(e){return function(){if(void 0==a[e])throw"No rule has been defined for device: "+e;return a[e].call()}};t.exports=window.breakpoints={isPhone:r("phone"),isTablet:r("tablet")}},{"./breakpoints.json":148,"./viewport-width":150}],150:[function(e,t,n){arguments[4][141][0].apply(n,arguments)},{dup:141}],151:[function(e,t,n){function o(){var e=window.CommentsConfig||{},t=e.embedRootUrl||"",n=e.containerId||"coral_thread",o=i("#"+n),s=r.stripQueryParameters(o.data("story-url")||i("link[rel='canonical']").attr("href")||window.location.href);this.config={gigyaApiKey:e.gigyaApiKey||"",embedRootUrl:t,tokenGeneratorUrl:e.tokenGeneratorUrl||"",LOGGED_IN_EVENTS:"session.registered",LOGGED_OUT_EVENTS:"session.terminated",PROFILE_UPDATED_EVENTS:"session.profile.updated",TealiumEventValues:{COMMENT_SUCCESS:"event11",COMMENT_REPLY_SUCCESS:"event152",COMMENT_LIKE:"event153",COMMENT_LOAD_MORE:"event154"},EventHandlers:[],debug:Boolean(a.getCookie("debug")),NewsGigya:null,EmbedConfig:{id:n,autoRender:!0,rootURL:t,
bodyClassName:"nlm_brands",storyID:o.data("story-id"),storyURL:s,storyMode:o.data("story-mode")}},this.ready=!1,this.isLoggedIn=!1,this.cookie="cmnts_tkn",this.embed=null,this.executeCallback=function(e,t,n,o){try{return e(t,n,o)}catch(e){this.config.debug&&console.error("Comments JS Event Handler Error: ",e)}}}var i=e("jquery"),a=e("./Cookie"),r=e("./Utils");o.prototype.initEmbed=function(){var e=this.config.EmbedConfig;return e.events=this.attachEventHandlers(),this.embed=Coral.createStreamEmbed(e),this.embed},o.prototype.attachEventHandlers=function(){var e=this;return function(t){t.onAny(function(t,n){e.config.debug&&console.info("Coral JS Event: ",t,n);for(var o in e.config.EventHandlers){var i=e.config.EventHandlers[o],a=i.name||"",r=i.callback||{};a=a.split(" ").filter(function(e){return!!e});for(var o in a){a[o]===t&&"function"==typeof r&&e.executeCallback(r,t,n,e.config.EmbedConfig)}}})}},o.prototype.configTealiumEventHandlers=function(){var e=this;this.config.EventHandlers.push({name:"createComment.success",callback:function(){window.NLM.tealiumEvents.fireEventNow({event:e.config.TealiumEventValues.COMMENT_SUCCESS})}}),this.config.EventHandlers.push({name:"createCommentReply.success",callback:function(){window.NLM.tealiumEvents.fireEventNow({event:e.config.TealiumEventValues.COMMENT_REPLY_SUCCESS})}}),this.config.EventHandlers.push({name:"createCommentReaction.success",callback:function(){window.NLM.tealiumEvents.fireEventNow({event:e.config.TealiumEventValues.COMMENT_LIKE})}}),this.config.EventHandlers.push({name:"loadMoreAllComments.success loadMoreFeaturedComments.success loadMoreHistoryComments.success showAllReplies.success",callback:function(){window.NLM.tealiumEvents.fireEventNow({event:e.config.TealiumEventValues.COMMENT_LOAD_MORE})}})},o.prototype.configNewsGigyaEventHandlers=function(){var e=this;this.config.EventHandlers.push({name:"ready",callback:function(){e.ready=!0,e.changeStatus()}}),this.config.EventHandlers.push({name:"loginPrompt showAuthPopup createCommentFocus replyCommentFocus",callback:function(){e.isLoggedIn||e.config.NewsGigya.showRegister(new CustomEvent("click"))}})};var s=!1;o.prototype.loadUserToken=function(e,t){if(!s){var n=JSON.parse(a.getCookie(this.cookie)),o=this;s=!0;(o.config.NewsGigya.getUser||o.config.NewsGigya.ifLoggedIn)(function(r){var l=!1;if(void 0!=n&&null!=n&&void 0!=n.token&&null!=n.token&&void 0!=n.lastUpdatedTimestamp&&null!=n.lastUpdatedTimestamp&&r.lastUpdatedTimestamp==n.lastUpdatedTimestamp||(l=!0),l){var c={};c.ApiKey=o.config.gigyaApiKey,c.UID=r.UID,c.UIDSignature=r.UIDSignature,c.signatureTimestamp=r.signatureTimestamp,i.ajax({url:o.config.tokenGeneratorUrl,method:"GET",data:c,crossDomain:!1,dataType:"json"}).then(function(n){if("function"==typeof e){var i=n.result||{},r=i.errors||"";if(r.length>0)return void("function"==typeof t&&t(r));i.token&&a.setCookie(o.cookie,JSON.stringify(i),1,0),"function"==typeof e&&e(i)}},function(e){"function"==typeof t&&t(e)})}else"function"==typeof e&&e(n);s=!1},function(){s=!1,"function"==typeof t&&t("User not logged-in")})}},o.prototype.changeStatus=function(){var e=this;e.ready&&this.loadUserToken(function(t){t.token&&(e.embed.login(t.token),e.isLoggedIn=!0)},function(t){e.embed.logout(),e.isLoggedIn=!1})},o.prototype.onLoad=function(){var e=this;e.initEmbed(),e.config.NewsGigya.on(e.config.LOGGED_IN_EVENTS+" "+e.config.PROFILE_UPDATED_EVENTS,function(){e.changeStatus()}),e.config.NewsGigya.on(e.config.LOGGED_OUT_EVENTS,function(){a.deleteCookie(e.cookie),e.embed.logout(),e.isLoggedIn=!1}),e.changeStatus()},o.prototype.injectJavascript=function(){var e=this,t=document,n=t.createElement("script");n.src=e.config.embedRootUrl+"/assets/js/embed.js",n.async=!1,n.defer=!0,n.onload=function(){e.onLoad()},(t.head||t.body).appendChild(n)},o.prototype.init=function(e){return this.config.EmbedConfig=Object.assign({},this.config.EmbedConfig,e.EmbedConfig),delete e.EmbedConfig,this.config=Object.assign({},this.config,e),this.configTealiumEventHandlers(),this.configNewsGigyaEventHandlers(),this.injectJavascript(),this},t.exports.init=function(e){return e=e||{},(new o).init(e)}},{"./Cookie":152,"./Utils":153,jquery:"jquery"}],152:[function(e,t,n){function o(e){var t="; "+document.cookie,n=t.split("; "+e+"=");return 2===n.length?n.pop().split(";").shift():null}function i(e,t,n,o){var i="",a=0;if(void 0!==n&&n>0&&(a+=24*n*60*60*1e3),void 0!==o&&o>0&&(a+=60*o*1e3),a>0){var r=new Date;r.setTime(r.getTime()+a),i="; expires="+r.toUTCString()}document.cookie=e+"="+t+i+"; path=/"}function a(e){document.cookie=e+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"}t.exports={getCookie:o,setCookie:i,deleteCookie:a}},{}],153:[function(e,t,n){function o(e){return e.split(/[?#]/)[0]}t.exports={stripQueryParameters:o}},{}],154:[function(e,t,n){var o={load:function(e){return JSON.parse(window.localStorage.getItem(e))},save:function(e,t){return window.localStorage.setItem(e,JSON.stringify(t))},remove:function(e){return window.localStorage.removeItem(e)}};!function(e){e.LocalStorage=o}(window.NewsGigya=window.NewsGigya||{})},{}]},{},[31]);
//# sourceMappingURL=app.js.map
